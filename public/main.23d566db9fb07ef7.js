(self.webpackChunkdosa_point=self.webpackChunkdosa_point||[]).push([[179],{861:(od,ad,hs)=>{"use strict";function be(t){return"function"==typeof t}function wo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ni=wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Eo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof Ni?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Tu(s)}catch(o){e=null!=e?e:[],o instanceof Ni?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ni(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Tu(e);else{if(e instanceof tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Eo(n,e)}remove(e){const{_teardowns:n}=this;n&&Eo(n,e),e instanceof tt&&e._removeParent(this)}}tt.EMPTY=(()=>{const t=new tt;return t.closed=!0,t})();const bo=tt.EMPTY;function fs(t){return t instanceof tt||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function Tu(t){be(t)?t():t.unsubscribe()}const nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sr={setTimeout(...t){const{delegate:e}=Sr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Sr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function kn(t){Sr.setTimeout(()=>{const{onUnhandledError:e}=nn;if(!e)throw t;e(t)})}function xr(){}const Io=Au("C",void 0,void 0);function Au(t,e,n){return{kind:t,value:e,error:n}}let L=null;function se(t){if(nn.useDeprecatedSynchronousErrorHandling){const e=!L;if(e&&(L={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=L;if(L=null,n)throw r}}else t()}class we extends tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fs(e)&&e.add(this)):this.destination=b2}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?Yp(Au("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Yp(Au("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yp(Io,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class le extends we{constructor(e,n,r){let i;if(super(),be(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&nn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?rn(i):xr,error:rn(null!=n?n:Oi),complete:r?rn(r):xr}}}function rn(t,e){return(...n)=>{try{t(...n)}catch(r){nn.useDeprecatedSynchronousErrorHandling?function(t){nn.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=t)}(r):kn(r)}}}function Oi(t){throw t}function Yp(t,e){const{onStoppedNotification:n}=nn;n&&Sr.setTimeout(()=>n(t,e))}const b2={closed:!0,next:xr,error:Oi,complete:xr},Jp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ps(t){return t}let ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof we||function(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&fs(t)}(n)?n:new le(n,r,i);return se(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JC(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jp](){return this}pipe(...n){return function(t){return 0===t.length?ps:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=JC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JC(t){var e;return null!==(e=null!=t?t:nn.Promise)&&void 0!==e?e:Promise}const C2=wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zr=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new XC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new C2}next(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bo:(s.push(n),new tt(()=>Eo(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ke;return n.source=this,n}}return t.create=(e,n)=>new XC(e,n),t})();class XC extends Zr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bo}}function ZC(t){return be(null==t?void 0:t.lift)}function Ot(t){return e=>{if(ZC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Et extends we{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Te(t,e){return Ot((n,r)=>{let i=0;n.subscribe(new Et(r,s=>{r.next(t.call(e,s,i++))}))})}function gs(t){return this instanceof gs?(this.v=t,this):new gs(t)}function S2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof gs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function x2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const rT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function iT(t){return be(null==t?void 0:t.then)}function sT(t){return be(t[Jp])}function oT(t){return Symbol.asyncIterator&&be(null==t?void 0:t[Symbol.asyncIterator])}function aT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function cT(t){return be(null==t?void 0:t[uT])}function lT(t){return S2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield gs(n.read());if(i)return yield gs(void 0);yield yield gs(r)}}finally{n.releaseLock()}})}function dT(t){return be(null==t?void 0:t.getReader)}function Mr(t){if(t instanceof ke)return t;if(null!=t){if(sT(t))return function(t){return new ke(e=>{const n=t[Jp]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(rT(t))return function(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(iT(t))return function(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kn)})}(t);if(oT(t))return hT(t);if(cT(t))return function(t){return new ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(dT(t))return function(t){return hT(lT(t))}(t)}throw aT(t)}function hT(t){return new ke(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=x2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ei(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return be(e)?bt((r,i)=>Te((s,o)=>e(r,s,i,o))(Mr(t(r,i))),n):("number"==typeof e&&(n=e),Ot((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=_=>c<r?p(_):u.push(_),p=_=>{c++;let v=!1;Mr(n(_,l++)).subscribe(new Et(e,b=>{e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<r;){const b=u.shift();p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(new Et(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function Su(t=1/0){return bt(ps,t)}const ti=new ke(t=>t.complete());function Zp(t){return t[t.length-1]}function fT(t){return be(Zp(t))?t.pop():void 0}function xu(t){return function(t){return t&&be(t.schedule)}(Zp(t))?t.pop():void 0}function ud(t,e=0){return Ot((n,r)=>{n.subscribe(new Et(r,i=>ei(r,t,()=>r.next(i),e),()=>ei(r,t,()=>r.complete(),e),i=>ei(r,t,()=>r.error(i),e)))})}function cd(t,e=0){return Ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pT(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{ei(n,e,()=>{const r=t[Symbol.asyncIterator]();ei(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function It(t,e){return e?function(t,e){if(null!=t){if(sT(t))return function(t,e){return Mr(t).pipe(cd(e),ud(e))}(t,e);if(rT(t))return function(t,e){return new ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(iT(t))return function(t,e){return Mr(t).pipe(cd(e),ud(e))}(t,e);if(oT(t))return pT(t,e);if(cT(t))return function(t,e){return new ke(n=>{let r;return ei(n,e,()=>{r=t[uT](),ei(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(null==r?void 0:r.return)&&r.return()})}(t,e);if(dT(t))return function(t,e){return pT(lT(t),e)}(t,e)}throw aT(t)}(t,e):Mr(t)}function ld(t){return t<=0?()=>ti:Ot((e,n)=>{let r=0;e.subscribe(new Et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function eg(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(ld(1)).subscribe(()=>t())}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function tg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ng(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Y2=De({__forward_ref__:De});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return fe(this())},t}function te(t){return gT(t)?t():t}function gT(t){return"function"==typeof t&&t.hasOwnProperty(Y2)&&t.__forward_ref__===Ae}class Nn extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}function dd(t,e){const n=e?` in ${e}`:"";throw new Nn("201",`No provider for ${sn(t)} found${n}`)}function Pn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ig(t){return mT(t,hd)||mT(t,_T)}function mT(t,e){return t.hasOwnProperty(e)?t[e]:null}function yT(t){return t&&(t.hasOwnProperty(sg)||t.hasOwnProperty(rU))?t[sg]:null}const hd=De({\u0275prov:De}),sg=De({\u0275inj:De}),_T=De({ngInjectableDef:De}),rU=De({ngInjectorDef:De});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let og;function Pi(t){const e=og;return og=t,e}function vT(t,e,n){const r=ig(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&J.Optional?null:void 0!==e?e:void dd(fe(t),"Injector")}function Fi(t){return{toString:t}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),Rr=(()=>{return(t=Rr||(Rr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Rr;var t})();const sU="undefined"!=typeof globalThis&&globalThis,oU="undefined"!=typeof window&&window,aU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=sU||"undefined"!=typeof global&&global||oU||aU,Co={},Ce=[],fd=De({\u0275cmp:De}),ag=De({\u0275dir:De}),ug=De({\u0275pipe:De}),wT=De({\u0275mod:De}),ri=De({\u0275fac:De}),Mu=De({__NG_ELEMENT_ID__:De});let uU=0;function on(t){return Fi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rr.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=uU++,r.inputs=DT(t.inputs,n),r.outputs=DT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ET):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(bT):null,r})}function ET(t){return Wt(t)||function(t){return t[ag]||null}(t)}function bT(t){return function(t){return t[ug]||null}(t)}const IT={};function Fn(t){return Fi(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(IT[t.id]=t.type),e})}function DT(t,e){if(null==t)return Co;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const W=on;function Wt(t){return t[fd]||null}function Jn(t,e){const n=t[wT]||null;if(!n&&!0===e)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return n}function kr(t){return Array.isArray(t)&&"object"==typeof t[1]}function hr(t){return Array.isArray(t)&&!0===t[1]}function dg(t){return 0!=(8&t.flags)}function yd(t){return 2==(2&t.flags)}function _d(t){return 1==(1&t.flags)}function fr(t){return null!==t.template}function pU(t){return 0!=(512&t[2])}function ws(t,e){return t.hasOwnProperty(ri)?t[ri]:null}class yU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return TT}function TT(t){return t.type.prototype.ngOnChanges&&(t.setInput=vU),_U}function _U(){const t=ST(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Co)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vU(t,e,n,r){const i=ST(t)||function(t,e){return t[AT]=e}(t,{previous:Co,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new yU(u&&u.currentValue,e,o===Co),t[r]=e}Vn.ngInherit=!0;const AT="__ngSimpleChanges__";function ST(t){return t[AT]||null}let pg;function He(t){return!!t.listen}const RT={createRenderer:(t,e)=>void 0!==pg?pg:"undefined"!=typeof document?document:void 0};function nt(t){for(;Array.isArray(t);)t=t[0];return t}function vd(t,e){return nt(e[t])}function er(t,e){return nt(e[t.index])}function mg(t,e){return t.data[e]}function Un(t,e){const n=e[t];return kr(n)?n:n[0]}function yg(t){return 128==(128&t[2])}function Vi(t,e){return null==e?null:t[e]}function NT(t){t[18]=0}function _g(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const z={lFrame:jT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function OT(){return z.bindingsEnabled}function C(){return z.lFrame.lView}function pe(){return z.lFrame.tView}function Ou(t){return z.lFrame.contextLView=t,t[8]}function dt(){let t=PT();for(;null!==t&&64===t.type;)t=t.parent;return t}function PT(){return z.lFrame.currentTNode}function Nr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function vg(){return z.lFrame.isParent}function wd(){return z.isInCheckNoChangesMode}function Ed(t){z.isInCheckNoChangesMode=t}function Ro(){return z.lFrame.bindingIndex++}function OU(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Eg(e)}function Eg(t){z.lFrame.currentDirectiveIndex=t}function Ig(t){z.lFrame.currentQueryIndex=t}function FU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function UT(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&J.Host||(i=FU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=BT();return r.currentTNode=e,r.lView=t,!0}function bd(t){const e=BT(),n=t[1];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BT(){const t=z.lFrame,e=null===t?null:t.child;return null===e?jT(t):e}function jT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $T(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const HT=$T;function Id(){const t=$T();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return z.lFrame.selectedIndex}function Ui(t){z.lFrame.selectedIndex=t}function qe(){const t=z.lFrame;return mg(t.tView,t.selectedIndex)}function Dd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Cd(t,e,n){qT(t,e,3,n)}function Td(t,e,n,r){(3&t[2])===n&&qT(t,e,n,r)}function Dg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(GU(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function GU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Fu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ad(t,e,n){const r=He(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Tg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function GT(t){return 3===t||4===t||6===t}function Tg(t){return 64===t.charCodeAt(0)}function Sd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||WT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function WT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function zT(t){return-1!==t}function ko(t){return 32767&t}function No(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Ag=!0;function xd(t){const e=Ag;return Ag=t,e}let JU=0;function Vu(t,e){const n=xg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Sg(r.data,t),Sg(e,null),Sg(r.blueprint,null));const i=Md(t,e),s=t.injectorIndex;if(zT(i)){const o=ko(i),a=No(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Sg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Md(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Rd(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mu)&&(r=n[Mu]),null==r&&(r=n[Mu]=JU++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function YT(t,e,n){if(n&J.Optional)return t;dd(e,"NodeInjector")}function JT(t,e,n,r){if(n&J.Optional&&void 0===r&&(r=null),0==(n&(J.Self|J.Host))){const i=t[9],s=Pi(void 0);try{return i?i.get(e,r,n&J.Optional):vT(e,r,n&J.Optional)}finally{Pi(s)}}return YT(r,e,n)}function XT(t,e,n,r=J.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Mu)?t[Mu]:void 0;return"number"==typeof e?e>=0?255&e:eB:e}(n);if("function"==typeof s){if(!UT(e,t,r))return r&J.Host?YT(i,n,r):JT(e,n,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;dd(n)}finally{HT()}}else if("number"==typeof s){let o=null,a=xg(t,e),u=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(u=-1===a?Md(t,e):e[a+8],-1!==u&&t0(r,!1)?(o=e[1],a=ko(u),e=No(u,e)):a=-1);-1!==a;){const l=e[1];if(e0(s,a,l.data)){const d=tB(a,e,n,o,r,c);if(d!==ZT)return d}u=e[a+8],-1!==u&&t0(r,e[1].data[a+8]===c)&&e0(s,a,e)?(o=l,a=ko(u),e=No(u,e)):a=-1}}}return JT(e,n,r,i)}const ZT={};function eB(){return new Oo(dt(),C())}function tB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&fr(f)&&f.type===n)return u}return null}(a,o,n,null==r?yd(a)&&Ag:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==l?Uu(e,o,l,a):ZT}function Uu(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof Fu}(i)){const o=i;o.resolving&&function(t,e){throw new Nn("200",`Circular dependency in DI detected for ${t}`)}(sn(s[n]));const a=xd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Pi(o.injectImpl):null;UT(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=TT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Pi(u),xd(a),o.resolving=!1,HT()}}return i}function e0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function t0(t,e){return!(t&J.Self||t&J.Host&&e)}class Oo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XT(this._tNode,this._lView,e,r,n)}}function Bn(t){return Fi(()=>{const e=t.prototype.constructor,n=e[ri]||Mg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ri]||Mg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Mg(t){return gT(t)?()=>{const e=Mg(te(t));return e&&e()}:ws(t)}const Fo="__parameters__";function Vo(t,e,n){return Fi(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Fo)?u[Fo]:Object.defineProperty(u,Fo,{value:[]})[Fo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const iB=new Z("AnalyzeForEntryComponents");function Or(t,e){t.forEach(n=>Array.isArray(n)?Or(n,e):e(n))}function r0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jn(t,e,n){let r=Uo(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ng(t,e){const n=Uo(t,e);if(n>=0)return t[1|n]}function Uo(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const qu={},Pg="__NG_DI_FLAG__",Pd="ngTempTokenPath",pB=/\n/gm,c0="__source",mB=De({provide:String,useValue:De});let Gu;function l0(t){const e=Gu;return Gu=t,e}function yB(t,e=J.Default){if(void 0===Gu)throw new Error("inject() must be called from an injection context");return null===Gu?vT(t,void 0,e):Gu.get(t,e&J.Optional?null:void 0,e)}function j(t,e=J.Default){return(og||yB)(te(t),e)}function Fg(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],u=_B(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function Wu(t,e){return t[Pg]=e,t.prototype[Pg]=e,t}function _B(t){return t[Pg]}const zu=Wu(Vo("Inject",t=>({token:t})),-1),Xe=Wu(Vo("Optional"),8),Bo=Wu(Vo("SkipSelf"),4);class v0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ji(t){return t instanceof v0?t.changingThisBreaksApplicationSecurity:t}const BB=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jB=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function qg(t){const e=function(){const t=C();return t&&t[12]}();return e?e.sanitize(rt.URL,t)||"":function(t,e){const n=function(t){return t instanceof v0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ji(t):function(t){return(t=String(t)).match(BB)||t.match(jB)?t:"unsafe:"+t}(Q(t))}const x0="__ngContext__";function Kt(t,e){t[x0]=e}function Wg(t){const e=function(t){return t[x0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kg(t){return t.ngOriginalError}function dj(t,...e){t.error(...e)}class Ho{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=(t=e)&&t.ngErrorLogger||dj;var t;r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kg(e);for(;n&&Kg(n);)n=Kg(n);return n||null}}const O0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function Fr(t){return t instanceof Function?t():t}var $n=(()=>(($n=$n||{})[$n.Important=1]="Important",$n[$n.DashCase=2]="DashCase",$n))();function Yg(t,e){return undefined(t,e)}function Zu(t){const e=t[3];return hr(e)?e[3]:e}function Jg(t){return U0(t[13])}function Xg(t){return U0(t[4])}function U0(t){for(;null!==t&&!hr(t);)t=t[4];return t}function Go(t,e,n,r,i){if(null!=r){let s,o=!1;hr(r)?s=r:kr(r)&&(o=!0,r=r[0]);const a=nt(r);0===t&&null!==n?null==i?G0(e,n,a):Es(e,n,a,i||null,!0):1===t&&null!==n?Es(e,n,a,i||null,!0):2===t?function(t,e,n){const r=jd(t,e);r&&function(t,e,n,r){He(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==nt(n)&&Go(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];ec(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function em(t,e,n){return He(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function j0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,_g(i,-1)),n.splice(r,1)}function tm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&j0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Nd(t,10+e);!function(t,e){ec(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function $0(t,e){if(!(256&e[2])){const n=e[11];He(n)&&n.destroyNode&&ec(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return nm(t[1],t);for(;e;){let n=null;if(kr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kr(e)&&nm(e[1],e),e=e[3];null===e&&(e=t),kr(e)&&nm(e[1],e),n=e&&e[4]}e=n}}(e)}}function nm(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Fu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):nt(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&He(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&hr(e[3])){n!==e[3]&&j0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function H0(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Rr.None||i===Rr.Emulated)return null}return er(r,n)}(t,e.parent,n)}function Es(t,e,n,r,i){He(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function G0(t,e,n){He(t)?t.appendChild(e,n):e.appendChild(n)}function W0(t,e,n,r,i){null!==r?Es(t,e,n,r,i):G0(t,e,n)}function jd(t,e){return He(t)?t.parentNode(e):e.parentNode}let Q0=function(t,e,n){return 40&t.type?er(t,n):null};function $d(t,e,n,r){const i=H0(t,r,e),s=e[11],a=function(t,e,n){return Q0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)W0(s,i,n[u],a,!1);else W0(s,i,n,a,!1)}function Hd(t,e){if(null!==e){const n=e.type;if(3&n)return er(e,t);if(4&n)return im(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Hd(t,r);{const i=t[e.index];return hr(i)?im(-1,i):nt(i)}}if(32&n)return Yg(e,t)()||nt(t[e.index]);{const r=J0(t,e);return null!==r?Array.isArray(r)?r[0]:Hd(Zu(t[16]),r):Hd(t,e.next)}}return null}function J0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function im(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Hd(r,i)}return e[7]}function sm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Kt(nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)sm(t,e,n.child,r,i,s,!1),Go(e,t,i,a,s);else if(32&u){const c=Yg(n,r);let l;for(;l=c();)Go(e,t,i,l,s);Go(e,t,i,a,s)}else 16&u?Z0(t,e,r,n,i,s):Go(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ec(t,e,n,r,i,s){sm(n,r,t.firstChild,e,i,s,!1)}function Z0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Go(e,t,i,u[c],s);else sm(t,e,u,o[3],i,s,!0)}function eA(t,e,n){He(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function om(t,e,n){He(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function tA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const nA="ng-template";function Uj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==tA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function rA(t){return 4===t.type&&t.value!==nA}function Bj(t,e,n){return e===(4!==t.type||n?t.value:nA)}function jj(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(GT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Bj(t,u,n)||""===u&&1===e.length){if(pr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Uj(t.attrs,c,n)){if(pr(r))return!1;o=!0}continue}const d=$j(8&r?"class":u,i,rA(t),n);if(-1===d){if(pr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==tA(f,c,0)||2&r&&c!==h){if(pr(r))return!1;o=!0}}}}else{if(!o&&!pr(r)&&!pr(u))return!1;if(o&&pr(u))continue;o=!1,r=u|1&r}}return pr(r)||o}function pr(t){return 0==(1&t)}function $j(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function iA(t,e,n=!1){for(let r=0;r<e.length;r++)if(jj(t,e[r],n))return!0;return!1}function sA(t,e){return t?":not("+e.trim()+")":e}function zj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pr(o)&&(e+=sA(s,i),i=""),r=o,s=s||!pr(r);n++}return""!==i&&(e+=sA(s,i)),e}const Y={};function O(t){oA(pe(),C(),un()+t,wd())}function oA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Cd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Td(e,s,0,n)}Ui(n)}function qd(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function am(t){return 2|t}function oi(t){return(131068&t)>>2}function um(t,e){return-131069&t|e<<2}function cm(t){return 1|t}function yA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ig(i),o.contentQueries(2,e[s],s)}}}function tc(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,NT(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Wo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=PT(),o=vg(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Nr(s,!0),s}function zo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nc(t,e,n){bd(e);try{const r=t.viewQuery;null!==r&&Am(1,r,n);const i=t.template;null!==i&&_A(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yA(t,e),t.staticViewQueries&&Am(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)x$(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Id()}}function Ko(t,e,n,r){const i=e[2];if(256==(256&i))return;bd(e);const s=wd();try{NT(e),function(t){z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_A(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Cd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Td(e,c,0,null),Dg(e,0)}if(function(t){for(let e=Jg(t);null!==e;e=Xg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&_g(s,1),i[2]|=1024}}}(e),function(t){for(let e=Jg(t);null!==e;e=Xg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];yg(r)&&Ko(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&yA(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Cd(e,c)}else{const c=t.contentHooks;null!==c&&Td(e,c,1),Dg(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ui(~i);else{const s=i,o=n[++r],a=n[++r];OU(o,s),a(2,e[s])}}}finally{Ui(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)S$(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Am(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Cd(e,c)}else{const c=t.viewHooks;null!==c&&Td(e,c,2),Dg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,_g(e[3],-1))}finally{Id()}}function c$(t,e,n,r){const i=e[10],s=!wd(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&nc(t,e,r),Ko(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function _A(t,e,n,r,i){const s=un(),o=2&r;try{Ui(-1),o&&e.length>20&&oA(t,e,20,wd()),n(r,i)}finally{Ui(s)}}function vm(t,e,n){!OT()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Vu(n,e),Kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=fr(u);c&&I$(e,n,u);const l=Uu(e,t,a,n);Kt(l,e),null!==o&&D$(0,a-i,l,u,0,o),c&&(Un(n.index,e)[8]=l)}}(t,e,n,er(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=z.lFrame.currentDirectiveIndex;try{Ui(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Eg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&AA(c,l)}}finally{Ui(-1),Eg(a)}}(t,e,n))}function wm(t,e,n=er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function zd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Y);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function DA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Em(t,e,n,r){let i=!1;if(OT()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];iA(n,o.selectors,!1)&&(i||(i=[]),Rd(Vu(n,e),t,o.type),fr(o)?(SA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,xA(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=zo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Sd(n.mergedAttrs,d.hostAttrs),MA(t,n,e,c,d),b$(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||rA(e)?null:C$(d,s);o.push(h),a=DA(d,c,a),u=DA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Nn("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Sd(n.mergedAttrs,n.attrs),i}function TA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function AA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function SA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function b$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function xA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function MA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ws(i.type)),o=new Fu(s,fr(i),null);t.blueprint[r]=o,n[r]=o,TA(t,e,0,r,zo(t,n,i.hostVars,Y),i)}function I$(t,e,n){const r=er(e,t),i=wA(n),s=t[10],o=Kd(t,tc(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Lr(t,e,n,r,i,s){const o=er(t,e);!function(t,e,n,r,i,s,o){if(null==s)He(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Q(s):o(s,r||"",i);He(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function D$(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function C$(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function RA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function S$(t,e){const n=Un(e,t);if(yg(n)){const r=n[1];80&n[2]?Ko(r,n,r.template,n[8]):n[5]>0&&Im(n)}}function Im(t){for(let r=Jg(t);null!==r;r=Xg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ko(o,s,o.template,s[8])}else s[5]>0&&Im(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Un(n[r],t);yg(i)&&i[5]>0&&Im(i)}}function x$(t,e){const n=Un(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),nc(r,n,n[8])}function Kd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Dm(t){for(;t;){t[2]|=64;const e=Zu(t);if(pU(t)&&!e)return t;t=e}return null}function Tm(t,e,n){const r=e[10];r.begin&&r.begin();try{Ko(t,e,t.template,n)}catch(i){throw FA(e,i),i}finally{r.end&&r.end()}}function kA(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Wg(n),i=r[1];c$(i,r,i.template,n)}}(t[8])}function Am(t,e,n){Ig(0),e(t,n)}const O$=(()=>Promise.resolve(null))();function NA(t){return t[7]||(t[7]=[])}function OA(t){return t.cleanup||(t.cleanup=[])}function FA(t,e){const n=t[9],r=n?n.get(Ho,null):null;r&&r.handleError(e)}function LA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ai(t,e,n){const r=vd(e,t);!function(t,e,n){He(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Qd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ng(i,a):2==s&&(r=ng(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Sm=new Z("INJECTOR",-1);class VA{get(e,n=qu){if(n===qu){const r=new Error(`NullInjectorError: No provider for ${fe(e)}!`);throw r.name="NullInjectorError",r}return n}}const xm=new Z("Set Injector scope."),rc={},L$={};let Mm;function UA(){return void 0===Mm&&(Mm=new VA),Mm}function BA(t,e=null,n=null,r){const i=jA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function jA(t,e=null,n=null,r){return new V$(t,n,e||UA(),r)}class V${constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Or(n,a=>this.processProvider(a,e,n)),Or([e],a=>this.processInjectorType(a,[],s)),this.records.set(Sm,Qo(void 0,this));const o=this.records.get(xm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:fe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=qu,r=J.Default){this.assertNotDestroyed();const i=l0(this),s=Pi(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof Z)&&ig(e);a=u&&this.injectableDefInScope(u)?Qo(Rm(e),rc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?UA():this.parent).get(e,n=r&J.Optional&&n===qu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Pd]=o[Pd]||[]).unshift(fe(e)),i)throw o;return function(t,e,n,r){const i=t[Pd];throw e[c0]&&i.unshift(e[c0]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=fe(e);if(Array.isArray(e))i=e.map(fe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):fe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Pi(s),l0(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(fe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=te(e)))return!1;let i=yT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=yT(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Or(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Or(f,p=>this.processProvider(p,h,f||Ce))}}this.injectorDefTypes.add(o);const u=ws(o)||(()=>new o);this.records.set(o,Qo(u,rc));const c=i.providers;if(null!=c&&!a){const l=e;Or(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Yo(e=te(e))?e:te(e&&e.provide);const s=function(t,e,n){return HA(t)?Qo(void 0,t.useValue):Qo($A(t),rc)}(e);if(Yo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Qo(void 0,rc,!0),o.factory=()=>Fg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===rc&&(n.value=L$,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Rm(t){const e=ig(t),n=null!==e?e.factory:ws(t);if(null!==n)return n;if(t instanceof Z)throw new Error(`Token ${fe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${fe(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[hd]||t[_T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function $A(t,e,n){let r;if(Yo(t)){const i=te(t);return ws(i)||Rm(i)}if(HA(t))r=()=>te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Fg(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>j(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ws(i)||Rm(i);r=()=>new i(...Fg(t.deps))}return r}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HA(t){return null!==t&&"object"==typeof t&&mB in t}function Yo(t){return"function"==typeof t}let ft=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return BA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return BA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=qu,t.NULL=new VA,t.\u0275prov=oe({token:t,providedIn:"any",factory:()=>j(Sm)}),t.__NG_ELEMENT_ID__=-1,t})();function eH(t,e){Dd(Wg(t)[1],dt())}function xe(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Om(t.inputs),o.declaredInputs=Om(t.declaredInputs),o.outputs=Om(t.outputs);const a=i.hostBindings;a&&iH(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&nH(t,u),c&&rH(t,c),tg(t.inputs,i.inputs),tg(t.declaredInputs,i.declaredInputs),tg(t.outputs,i.outputs),fr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===xe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Sd(i.hostAttrs,n=Sd(n,i.hostAttrs))}}(r)}function Om(t){return t===Co?{}:t===Ce?[]:t}function nH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function rH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function iH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Yd=null;function Jo(){if(!Yd){const t=Ie.Symbol;if(t&&t.iterator)Yd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Yd=r)}}}return Yd}function ic(t){return!!Pm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Jo()in t)}function Pm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ur(t,e,n,r){const i=C();return Qt(i,Ro(),e)&&(pe(),Lr(qe(),i,t,e,n,r)),Ur}function H(t,e,n,r,i,s,o,a){const u=C(),c=pe(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Wo(e,t,4,o||null,Vi(c,a));Em(e,n,l,Vi(c,u)),Dd(e,l);const d=l.tViews=zd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Nr(d,!1);const h=u[11].createComment("");$d(c,u,h,d),Kt(h,u),Kd(u,u[l]=RA(h,u,h,d)),_d(d)&&vm(c,u,d),null!=o&&wm(u,d,a)}function I(t,e=J.Default){const n=C();return null===n?j(t,e):XT(dt(),n,te(t),e)}function Bm(){throw new Error("invalid")}function F(t,e,n){const r=C();return Qt(r,Ro(),e)&&function(t,e,n,r,i,s,o,a){const u=er(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(LA(t,n,l,r,i),yd(e)&&function(t,e){const n=Un(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,He(s)?s.setProperty(u,r,i):Tg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(pe(),qe(),r,t,e,r[11],n,!1),F}function jm(t,e,n,r,i){const o=i?"class":"style";LA(t,n,e.inputs[o],o,r)}function m(t,e,n,r){const i=C(),s=pe(),o=20+t,a=i[11],u=i[o]=em(a,e,z.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Wo(e,t,2,i,Vi(a,s));return Em(e,n,c,Vi(a,o)),null!==c.attrs&&Qd(c,c.attrs,!1),null!==c.mergedAttrs&&Qd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Nr(c,!0);const l=c.mergedAttrs;null!==l&&Ad(a,u,l);const d=c.classes;null!==d&&om(a,u,d);const h=c.styles;null!==h&&eA(a,u,h),64!=(64&c.flags)&&$d(s,i,u,c),0===z.lFrame.elementDepthCount&&Kt(u,i),z.lFrame.elementDepthCount++,_d(c)&&(vm(s,i,c),function(t,e,n){if(dg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&wm(i,c)}function y(){let t=dt();vg()?z.lFrame.isParent=!1:(t=t.parent,Nr(t,!1));const e=t;z.lFrame.elementDepthCount--;const n=pe();n.firstCreatePass&&(Dd(n,t),dg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&jm(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&jm(n,e,C(),e.stylesWithoutHost,!1)}function Me(t,e,n,r){m(t,e,n,r),y()}function Zd(){return C()}function oc(t){return!!t&&"function"==typeof t.then}const $m=function(t){return!!t&&"function"==typeof t.subscribe};function Oe(t,e,n,r){const i=C(),s=pe(),o=dt();return function(t,e,n,r,i,s,o,a){const u=_d(r),l=t.firstCreatePass&&OA(t),d=e[8],h=NA(e);let f=!0;if(3&r.type||a){const v=er(r,e),b=a?a(v):v,w=h.length,x=a?U=>a(nt(U[r.index])):r.index;if(He(n)){let U=null;if(!a&&u&&(U=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,f=!1;else{s=Hm(r,e,d,s,!1);const X=n.listen(b,i,s);h.push(s,X),l&&l.push(i,x,w,w+1)}}else s=Hm(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),l&&l.push(i,x,w,o)}else s=Hm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const v=_.length;if(v)for(let b=0;b<v;b+=2){const wt=e[_[b]][_[b+1]].subscribe(s),Yn=h.length;h.push(s,wt),l&&l.push(i,r.index,Yn,-(Yn+1))}}}(s,i,i[11],o,t,e,!!n,r),Oe}function TS(t,e,n,r){try{return!1!==n(r)}catch(i){return FA(t,i),!1}}function Hm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Un(t.index,e):e;0==(32&e[2])&&Dm(a);let u=TS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=TS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Pt(t=1){return function(t){return(z.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,z.lFrame.contextLView))[8]}(t)}function FS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gr(s):oi(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];$H(t[a],e)&&(u=!0,t[a+1]=r?cm(l):am(l)),a=r?gr(l):oi(l)}u&&(t[n+1]=r?am(s):cm(s))}function $H(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Uo(t,e)>=0}function eh(t,e){return function(t,e,n,r){const i=C(),s=pe(),o=function(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[un()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ac(n=Gm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Gm(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==oi(r))return t[gr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Gm(null,t,e,u[1],r),u=ac(u,e.attrs,r),function(t,e,n,r){t[gr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ac(r,t[s].hostAttrs,n);return ac(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gr(o),u=oi(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||Uo(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=gr(t[a+1]);t[r+1]=qd(h,a),0!==h&&(t[h+1]=um(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=qd(a,0),0!==a&&(t[a+1]=um(t[a+1],r)),a=r;else t[r+1]=qd(u,0),0===a?a=r:t[u+1]=um(t[u+1],r),u=r;c&&(t[r+1]=am(t[r+1])),FS(t,l,r,!0),FS(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Uo(s,e)>=0&&(n[r+1]=cm(n[r+1]))}(e,l,t,r,s),o=qd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Y&&Qt(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];th(function(t){return 1==(1&t)}(c)?KS(u,e,n,i,oi(c),o):void 0)||(th(s)||function(t){return 2==(2&t)}(c)&&(s=KS(u,null,n,i,a,o)),function(t,e,n,r,i){const s=He(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:$n.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=$n.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,vd(un(),n),i,s))}(s,s.data[un()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=fe(ji(t)))),t}(e,n),r,o)}(t,e,null,!0),eh}function Gm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ac(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ac(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function KS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Y&&(h=d?Ce:void 0);let f=d?Ng(h,r):l===r?h:void 0;if(c&&!th(f)&&(f=Ng(u,r)),th(f)&&(a=f,o))return a;const p=t[i+1];i=o?gr(p):oi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ng(u,r))}return a}function th(t){return void 0!==t}function M(t,e=""){const n=C(),r=pe(),i=t+20,s=r.firstCreatePass?Wo(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return He(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$d(r,n,o,s),Nr(s,!1)}function nh(t){return Is("",t,""),nh}function Is(t,e,n){const r=C(),i=function(t,e,n,r){return Qt(t,Ro(),n)?e+Q(n)+r:Y}(r,t,e,n);return i!==Y&&ai(r,un(),i),Is}const Ds=void 0;var Iq=["en",[["a","p"],["AM","PM"],Ds],[["AM","PM"],Ds,Ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ds,"{1} 'at' {0}",Ds],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ca={};function m1(t){return t in ca||(ca[t]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[t]),ca[t]}var N=(()=>((N=N||{})[N.LocaleId=0]="LocaleId",N[N.DayPeriodsFormat=1]="DayPeriodsFormat",N[N.DayPeriodsStandalone=2]="DayPeriodsStandalone",N[N.DaysFormat=3]="DaysFormat",N[N.DaysStandalone=4]="DaysStandalone",N[N.MonthsFormat=5]="MonthsFormat",N[N.MonthsStandalone=6]="MonthsStandalone",N[N.Eras=7]="Eras",N[N.FirstDayOfWeek=8]="FirstDayOfWeek",N[N.WeekendRange=9]="WeekendRange",N[N.DateFormat=10]="DateFormat",N[N.TimeFormat=11]="TimeFormat",N[N.DateTimeFormat=12]="DateTimeFormat",N[N.NumberSymbols=13]="NumberSymbols",N[N.NumberFormats=14]="NumberFormats",N[N.CurrencyCode=15]="CurrencyCode",N[N.CurrencySymbol=16]="CurrencySymbol",N[N.CurrencyName=17]="CurrencyName",N[N.Currencies=18]="Currencies",N[N.Directionality=19]="Directionality",N[N.PluralCase=20]="PluralCase",N[N.ExtraData=21]="ExtraData",N))();const rh="en-US";let y1=rh;function Km(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let s=0;s<t.length;s++)Km(t[s],e,n,r,i);else{const s=pe(),o=C();let a=Yo(t)?t:te(t.provide),u=$A(t);const c=dt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Yo(t)||!t.multi){const f=new Fu(u,i,I),p=Ym(a,e,i?l:l+h,d);-1===p?(Rd(Vu(c,o),s,a),Qm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Ym(a,e,l+h,d),p=Ym(a,e,l,l+h),_=f>=0&&n[f],v=p>=0&&n[p];if(i&&!v||!i&&!_){Rd(Vu(c,o),s,a);const b=function(t,e,n,r,i){const s=new Fu(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,j1(s,i,r&&!n),s}(i?EG:wG,n.length,i,r,u);!i&&v&&(n[p].providerFactory=b),Qm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),o.push(b)}else Qm(s,t,f>-1?f:p,j1(n[i?p:f],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function Qm(t,e,n,r){const i=Yo(e),s=function(t){return!!t.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function j1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ym(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wG(t,e,n,r){return Jm(this.multi,[])}function EG(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Uu(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Jm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Jm(i,s);return s}function Jm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=pe();if(r.firstCreatePass){const i=fr(t);Km(n,r.data,r.blueprint,i,!0),Km(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class $1{}class CG{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${fe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let da=(()=>{class t{}return t.NULL=new CG,t})();function TG(){return ha(dt(),C())}function ha(t,e){return new qn(er(t,e))}let qn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=TG,t})();class q1{}let ui=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=C(),n=Un(dt().index,t);return function(t){return t[11]}(kr(n)?n:t)}(),t})(),MG=(()=>{class t{}return t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null}),t})();class fa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const G1=new fa("13.1.1"),Xm={};function uh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(nt(s)),hr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&uh(u[1],u,c,r)}const o=n.type;if(8&o)uh(t,e,n.child,r);else if(32&o){const a=Yg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=J0(e,n);if(Array.isArray(a))r.push(...a);else{const u=Zu(e[16]);uh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class hc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return uh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(hr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(tm(e,r),Nd(n,r))}this._attachedToViewContainer=!1}$0(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=NA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&OA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Dm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ed(!0);try{Tm(t,e,n)}finally{Ed(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ec(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class RG extends hc{constructor(e){super(e),this._view=e}detectChanges(){kA(this._view)}checkNoChanges(){!function(t){Ed(!0);try{kA(t)}finally{Ed(!1)}}(this._view)}get context(){return null}}class W1 extends da{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Wt(e);return new Zm(n,this.ngModule)}}function z1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const NG=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>O0});class Zm extends $1{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(zj).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return z1(this.componentDef.inputs)}get outputs(){return z1(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Xm,i);return s!==Xm||r===Xm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(q1,RT),a=s.get(MG,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(He(t))return t.selectRootElement(e,n===Rr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):em(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||O0,clean:O$,playerHandler:e||null,flags:0}}(),f=zd(0,null,null,1,0,null,null,null,null,null),p=tc(null,f,h,d,null,null,o,u,a,s);let _,v;bd(p);try{const b=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Wo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Qd(u,c,!0),null!==t&&(Ad(i,t,c),null!==u.classes&&om(i,t,u.classes),null!==u.styles&&eA(i,t,u.styles)));const l=r.createRenderer(t,e),d=tc(n,wA(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Rd(Vu(u,n),o,e.type),SA(o,u),xA(u,n.length,1)),Kd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Ad(u,l,["ng-version",G1.full]);else{const{attrs:w,classes:x}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!pr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);w&&Ad(u,l,w),x&&x.length>0&&om(u,l,x.join(" "))}if(v=mg(f,20),void 0!==n){const w=v.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const U=n[x];w.push(null!=U?Array.from(U):null)}}_=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=dt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),MA(t,r,e,zo(t,e,1,null),n));const i=Uu(e,t,r.directiveStart,r);Kt(i,e);const s=er(r,e);return s&&Kt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=dt();e.contentQueries(1,o,u.directiveStart)}const a=dt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ui(a.index),TA(n[1],a,0,a.directiveStart,a.directiveEnd,e),AA(e,o)),o}(b,this.componentDef,p,h,[eH]),nc(f,p,null)}finally{Id()}return new FG(this.componentType,_,ha(v,p),p,v)}}class FG extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new RG(i),this.componentType=e}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class ci{}class K1{}const pa=new Map;class J1 extends ci{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new W1(this);const r=Jn(e);this._bootstrapComponents=Fr(r.bootstrap),this._r3Injector=jA(e,n,[{provide:ci,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],fe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ft.THROW_IF_NOT_FOUND,r=J.Default){return e===ft||e===ci||e===Sm?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ey extends K1{constructor(e){super(),this.moduleType=e,null!==Jn(e)&&function(t){const e=new Set;!function n(r){const i=Jn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${fe(e)} vs ${fe(e.name)}`)}(s,pa.get(s),r),pa.set(s,r));const o=Fr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new J1(this.moduleType,e)}}function vr(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Qt(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Y?void 0:n}(t,o+1)}(C(),function(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function ty(t){return e=>{setTimeout(t,void 0,e)}}const We=class extends Zr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=ty(u),a&&(a=ty(a)),c&&(c=ty(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof tt&&e.add(l),l}};Symbol;let li=(()=>{class t{}return t.__NG_ELEMENT_ID__=s3,t})();const r3=li,i3=class extends r3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=tc(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),nc(n,r,e),new hc(r)}};function s3(){return function(t,e){return 4&t.type?new i3(e,t,ha(t,e)):null}(dt(),C())}let wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=o3,t})();function o3(){return function(t,e){let n;const r=e[t.index];if(hr(r))n=r;else{let i;if(8&t.type)i=nt(r);else{const s=e[11];i=s.createComment("");const o=er(t,e);Es(s,jd(s,o),i,function(t,e){return He(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=RA(r,e,i,t),Kd(e,n)}return new rx(n,t,e)}(dt(),C())}const a3=wr,rx=class extends a3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Md(this._hostTNode,this._hostLView);if(zT(e)){const n=No(e,this._hostLView),r=ko(e);return new Oo(n[1].data[r+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=ix(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Zm(Wt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(ci,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(hr(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new rx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],r0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=im(s,o),u=r[11],c=jd(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ec(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),r0(ry(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=ix(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=tm(this._lContainer,n);r&&(Nd(ry(this._lContainer),n),$0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=tm(this._lContainer,n);return r&&null!=Nd(ry(this._lContainer),n)?new hc(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function ix(t){return t[8]}function ry(t){return t[8]||(t[8]=[])}function hh(...t){}const fh=new Z("Application Initializer");let ma=(()=>{class t{constructor(n){this.appInits=n,this.resolve=hh,this.reject=hh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(oc(s))n.push(s);else if($m(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(j(fh,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const mc=new Z("AppId"),P3={provide:mc,useFactory:function(){return`${yy()}${yy()}${yy()}`},deps:[]};function yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ax=new Z("Platform Initializer"),yc=new Z("Platform ID"),Sx=new Z("appBootstrapListener");let xx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const qi=new Z("LocaleId"),Mx=new Z("DefaultCurrencyCode");class F3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ph=(()=>{class t{compileModuleSync(n){return new ey(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Fr(Jn(n).declarations).reduce((o,a)=>{const u=Wt(a);return u&&o.push(new Zm(u)),o},[]);return new F3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const V3=(()=>Promise.resolve(0))();function _y(t){"undefined"==typeof Zone?V3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ie.requestAnimationFrame,e=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ie,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wy(t),t.isCheckStableRunning=!0,vy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Rx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Rx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),kx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,wy(t),vy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,B3,hh,hh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const B3={};function vy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Rx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kx(t){t._nesting--,vy(t)}class H3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Ey=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),_y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_y(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(j(Be))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Nx=(()=>{class t{constructor(){this._applications=new Map,by.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return by.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class q3{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Er,by=new q3;const Ox=new Z("AllowMultipleToken");class Px{constructor(e,n){this.name=e,this.token=n}}function Fx(t,e,n=[]){const r=`Platform: ${e}`,i=new Z(r);return(s=[])=>{let o=Lx();if(!o||o.injector.get(Ox,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:xm,useValue:"platform"});!function(t){if(Er&&!Er.destroyed&&!Er.injector.get(Ox,!1))throw new Nn("400","");Er=t.get(Vx);const e=t.get(Ax,null);e&&e.forEach(n=>n())}(ft.create({providers:a,name:r}))}return function(t){const e=Lx();if(!e)throw new Nn("401","");return e}()}}function Lx(){return Er&&!Er.destroyed?Er:null}let Vx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new H3:("zone.js"===t?void 0:t)||new Be({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Be,useValue:a}];return a.run(()=>{const c=ft.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Ho,null);if(!d)throw new Nn("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Iy(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(ma);return h.runInitializers(),h.donePromise.then(()=>(function(t){Pn(t,"Expected localeId to be defined"),"string"==typeof t&&(y1=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(qi,rh)||rh),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Ux({},r);return function(t,e,n){const r=new ey(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(_c);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Nn("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Nn("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(j(ft))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Ux(t,e){return Array.isArray(e)?e.reduce(Ux,t):Object.assign(Object.assign({},t),e)}let _c=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ke(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new ke(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),_y(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=xu(t),n=function(t,e){return"number"==typeof Zp(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Mr(r[0]):Su(n)(It(r,e)):ti}(a,u.pipe(function(t={}){const{connector:e=(()=>new Zr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const _=o;f(),null==_||_.unsubscribe()};return Ot((_,v)=>{c++,!d&&!l&&h();const b=u=null!=u?u:e();v.add(()=>{c--,0===c&&!d&&!l&&(a=eg(p,i))}),b.subscribe(v),o||(o=new le({next:w=>b.next(w),error:w=>{d=!0,h(),a=eg(f,n,w),b.error(w)},complete:()=>{l=!0,h(),a=eg(f,r),b.complete()}}),It(_).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Nn("405","");let i;i=n instanceof $1?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ci),a=i.create(ft.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Ey,null),l=c&&a.injector.get(Nx);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Iy(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Nn("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Iy(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Sx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(j(Be),j(ft),j(Ho),j(da),j(ma))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let jx=!0,Dy=(()=>{class t{}return t.__NG_ELEMENT_ID__=tW,t})();function tW(t){return function(t,e,n){if(yd(t)&&!n){const r=Un(t.index,e);return new hc(r,r)}return 47&t.type?new hc(e[16],e):null}(dt(),C(),16==(16&t))}class Kx{constructor(){}supports(e){return ic(e)}create(e){return new uW(e)}}const aW=(t,e)=>e;class uW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Yx(r,i,s)?n:r,a=Yx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ic(e))throw new Error(`Error trying to diff '${fe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new cW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Qx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new lW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Jx{constructor(){}supports(e){return e instanceof Map||Pm(e)}create(){return new dW}}class dW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Pm(e)))throw new Error(`Error trying to diff '${fe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new hW(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class hW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xx(){return new vc([new Kx])}let vc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Xx()),deps:[[t,new Bo,new Xe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=oe({token:t,providedIn:"root",factory:Xx}),t})();function Zx(){return new ya([new Jx])}let ya=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Zx()),deps:[[t,new Bo,new Xe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=oe({token:t,providedIn:"root",factory:Zx}),t})();const pW=[new Jx],mW=new vc([new Kx]),yW=new ya(pW),_W=Fx(null,"core",[{provide:yc,useValue:"unknown"},{provide:Vx,deps:[ft]},{provide:Nx,deps:[]},{provide:xx,deps:[]}]),IW=[{provide:_c,useClass:_c,deps:[Be,ft,Ho,da,ma]},{provide:NG,deps:[Be],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ma,useClass:ma,deps:[[new Xe,fh]]},{provide:ph,useClass:ph,deps:[]},P3,{provide:vc,useFactory:function(){return mW},deps:[]},{provide:ya,useFactory:function(){return yW},deps:[]},{provide:qi,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||rh},deps:[[new zu(qi),new Xe,new Bo]]},{provide:Mx,useValue:"USD"}];let CW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(j(_c))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:IW}),t})(),mh=null;function $r(){return mh}const rr=new Z("DocumentToken");let Ts=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:function(){return j(eM)},providedIn:"platform"}),t})();const MW=new Z("Location Initialized");let eM=(()=>{class t extends Ts{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){tM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){tM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(j(rr))},t.\u0275prov=oe({token:t,factory:function(){return new eM(j(rr))},providedIn:"platform"}),t})();function tM(){return!!window.history.pushState}function xy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function nM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function di(t){return t&&"?"!==t[0]?"?"+t:t}let _a=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:function(){return function(t){const e=j(rr).location;return new rM(j(Ts),e&&e.origin||"")}()},providedIn:"root"}),t})();const My=new Z("appBaseHref");let rM=(()=>{class t extends _a{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(j(Ts),j(My,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),NW=(()=>{class t extends _a{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=xy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(j(Ts),j(My,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Ry=(()=>{class t{constructor(n,r){this._subject=new We,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=nM(iM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,iM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=di,t.joinWithSlash=xy,t.stripTrailingSlash=nM,t.\u0275fac=function(n){return new(n||t)(j(_a),j(Ts))},t.\u0275prov=oe({token:t,factory:function(){return new Ry(j(_a),j(Ts))},providedIn:"root"}),t})();function iM(t){return t.replace(/\/index.html$/,"")}var it=(()=>((it=it||{})[it.Zero=0]="Zero",it[it.One=1]="One",it[it.Two=2]="Two",it[it.Few=3]="Few",it[it.Many=4]="Many",it[it.Other=5]="Other",it))();const $W=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=m1(e);if(n)return n;const r=e.split("-")[0];if(n=m1(r),n)return n;if("en"===r)return Iq;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[N.PluralCase]};class Th{}let yz=(()=>{class t extends Th{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch($W(r||this.locale)(n)){case it.Zero:return"zero";case it.One:return"one";case it.Two:return"two";case it.Few:return"few";case it.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(j(qi))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),bc=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(ic(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${fe(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(I(vc),I(ya),I(qn),I(ui))},t.\u0275dir=W({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class wz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fM=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),pM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{pM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(wr),I(li),I(vc))},t.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function pM(t,e){t.context.$implicit=e.item}let As=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Ez,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(wr),I(li))},t.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ez{constructor(){this.$implicit=null,this.ngIf=null}}function gM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${fe(e)}'.`)}let Kz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[{provide:Th,useClass:yz}]}),t})();let Xz=(()=>{class t{}return t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new Zz(j(rr),window)}),t})();class Zz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vM(this.window.history)||vM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function vM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class qy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new qy,mh||(mh=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null);return null==n?null:function(t){Ah=Ah||document.createElement("a"),Ah.setAttribute("href",t);const e=Ah.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ah,Ic=null;const wM=new Z("TRANSITION_ID"),o4=[{provide:fh,useFactory:function(t,e,n){return()=>{n.get(ma).donePromise.then(()=>{const r=$r(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[wM,rr,ft],multi:!0}];class Gy{static init(){var t;t=new Gy,by=t}addToWindow(e){Ie.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?$r().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let a4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Sh=new Z("EventManagerPlugins");let xh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(j(Sh),j(Be))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class EM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let bM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Dc=(()=>{class t extends bM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(IM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(IM))}}return t.\u0275fac=function(n){return new(n||t)(j(rr))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function IM(t){$r().remove(t)}const Wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zy=/%COMP%/g;function Mh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Mh(t,i,n):(i=i.replace(zy,t),n.push(i))}return n}function TM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ky=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Rr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new f4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Rr.ShadowDom:return new p4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(j(xh),j(Dc),j(mc))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class Qy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Wy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Wy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Wy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($n.DashCase|$n.Important)?e.style.setProperty(n,r,i&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,TM(r)):this.eventManager.addEventListener(e,n,TM(r))}}class f4 extends Qy{constructor(e,n,r,i){super(e),this.component=r;const s=Mh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(zy,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(zy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class p4 extends Qy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Mh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let g4=(()=>{class t extends EM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(j(rr))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const SM=["alt","control","meta","shift"],y4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let v4=(()=>{class t extends EM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(SM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&xM.hasOwnProperty(e)&&(e=xM[e]))}return y4[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),SM.forEach(s=>{s!=i&&_4[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(j(rr))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const D4=Fx(_W,"browser",[{provide:yc,useValue:"browser"},{provide:Ax,useValue:function(){qy.makeCurrent(),Gy.init()},multi:!0},{provide:rr,useFactory:function(){return t=document,pg=t,document;var t},deps:[]}]),C4=[{provide:xm,useValue:"root"},{provide:Ho,useFactory:function(){return new Ho},deps:[]},{provide:Sh,useClass:g4,multi:!0,deps:[rr,Be,yc]},{provide:Sh,useClass:v4,multi:!0,deps:[rr]},{provide:Ky,useClass:Ky,deps:[xh,Dc,mc]},{provide:q1,useExisting:Ky},{provide:bM,useExisting:Dc},{provide:Dc,useClass:Dc,deps:[rr]},{provide:Ey,useClass:Ey,deps:[Be]},{provide:xh,useClass:xh,deps:[Sh,Be]},{provide:class{},useClass:a4,deps:[]}];let T4=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:mc,useValue:n.appId},{provide:wM,useExisting:mc},o4]}}}return t.\u0275fac=function(n){return new(n||t)(j(t,12))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:C4,imports:[Kz,CW]}),t})();"undefined"!=typeof window&&window;const{isArray:L4}=Array,{getPrototypeOf:V4,prototype:U4,keys:B4}=Object;function kM(t){if(1===t.length){const e=t[0];if(L4(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&V4(t)===U4}(e)){const n=B4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:$4}=Array;function NM(t){return Te(e=>function(t,e){return $4(e)?t(...e):t(e)}(t,e))}function OM(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let PM=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(ui),I(qn))},t.\u0275dir=W({type:t}),t})(),Ss=(()=>{class t extends PM{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bn(t)))(r||t)}}(),t.\u0275dir=W({type:t,features:[xe]}),t})();const Hr=new Z("NgValueAccessor"),W4={provide:Hr,useExisting:Ae(()=>xs),multi:!0},K4=new Z("CompositionEventMode");let xs=(()=>{class t extends PM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=$r()?$r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(ui),I(qn),I(K4,8))},t.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Oe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([W4]),xe]}),t})();function Wi(t){return null==t||0===t.length}function LM(t){return null!=t&&"number"==typeof t.length}const Yt=new Z("NgValidators"),zi=new Z("NgAsyncValidators"),Q4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(e){return function(t){return e=>{if(Wi(e.value)||Wi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function(t){return e=>{if(Wi(e.value)||Wi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return BM(e)}static requiredTrue(e){return function(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return $M(e)}static minLength(e){return HM(e)}static maxLength(e){return qM(e)}static pattern(e){return function(t){if(!t)return Cc;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Wi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return JM(e)}static composeAsync(e){return XM(e)}}function BM(t){return Wi(t.value)?{required:!0}:null}function $M(t){return Wi(t.value)||Q4.test(t.value)?null:{email:!0}}function HM(t){return e=>Wi(e.value)||!LM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function qM(t){return e=>LM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Cc(t){return null}function WM(t){return null!=t}function zM(t){const e=oc(t)?It(t):t;return $m(e),e}function KM(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function QM(t,e){return e.map(n=>n(t))}function YM(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function JM(t){if(!t)return null;const e=t.filter(WM);return 0==e.length?null:function(n){return KM(QM(n,e))}}function Jy(t){return null!=t?JM(YM(t)):null}function XM(t){if(!t)return null;const e=t.filter(WM);return 0==e.length?null:function(n){return function(...t){const e=fT(t),{args:n,keys:r}=kM(t),i=new ke(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Mr(n[l]).subscribe(new Et(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?OM(r,a):a),s.complete())}))}});return e?i.pipe(NM(e)):i}(QM(n,e).map(zM)).pipe(Te(KM))}}function Xy(t){return null!=t?XM(YM(t)):null}function ZM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eR(t){return t._rawValidators}function tR(t){return t._rawAsyncValidators}function Zy(t){return t?Array.isArray(t)?t:[t]:[]}function Rh(t,e){return Array.isArray(t)?t.includes(e):t===e}function nR(t,e){const n=Zy(e);return Zy(t).forEach(i=>{Rh(n,i)||n.push(i)}),n}function rR(t,e){return Zy(e).filter(n=>!Rh(t,n))}class iR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ki extends iR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn extends iR{get formDirective(){return null}get path(){return null}}class sR{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Tc=(()=>{class t extends sR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Ki,2))},t.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&eh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[xe]}),t})(),Ac=(()=>{class t extends sR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(hn,10))},t.\u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&eh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[xe]}),t})();function Sc(t,e){n_(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oR(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Oh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ph(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function n_(t,e){const n=eR(t);null!==e.validator?t.setValidators(ZM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=tR(t);null!==e.asyncValidator?t.setAsyncValidators(ZM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ph(e._rawValidators,i),Ph(e._rawAsyncValidators,i)}function Fh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=eR(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=tR(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Ph(e._rawValidators,r),Ph(e._rawAsyncValidators,r),n}function oR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Lh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xc="VALID",Vh="INVALID",va="PENDING",Mc="DISABLED";function s_(t){return(a_(t)?t.validators:t)||null}function cR(t){return Array.isArray(t)?Jy(t):t||null}function o_(t,e){return(a_(e)?e.asyncValidators:t)||null}function lR(t){return Array.isArray(t)?Xy(t):t||null}function a_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class u_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=cR(this._rawValidators),this._composedAsyncValidatorFn=lR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xc}get invalid(){return this.status===Vh}get pending(){return this.status==va}get disabled(){return this.status===Mc}get enabled(){return this.status!==Mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=lR(e)}addValidators(e){this.setValidators(nR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rR(e,this._rawAsyncValidators))}hasValidator(e){return Rh(this._rawValidators,e)}hasAsyncValidator(e){return Rh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=va,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=xc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xc||this.status===va)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mc:xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=va,this._hasOwnPendingAsyncValidator=!0;const n=zM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof fi?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof c_&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Mc:this.errors?Vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(va)?va:this._anyControlsHaveStatus(Vh)?Vh:xc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){a_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wa extends u_{constructor(e=null,n,r){super(s_(n),o_(r,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class fi extends u_{constructor(e,n,r){super(s_(n),o_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof wa?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class c_ extends u_{constructor(e,n,r){super(s_(n),o_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof wa?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let kc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),mR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})();const d_=new Z("NgModelWithFormControlWarning"),m8={provide:hn,useExisting:Ae(()=>Ms)};let Ms=(()=>{class t extends hn{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Sc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Oh(n.control||null,n,!1),Lh(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Oh(r||null,n),i instanceof wa&&(Sc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function(t,e){n_(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function(t,e){return Fh(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){n_(this.form,this),this._oldForm&&Fh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(I(Yt,10),I(zi,10))},t.\u0275dir=W({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Oe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([m8]),xe,Vn]}),t})();const v8={provide:Ki,useExisting:Ae(()=>Ea)};let Ea=(()=>{class t extends Ki{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new We,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xs?n=s:function(t){return Object.getPrototypeOf(t.constructor)===Ss}(s)?r=s:i=s}),i||r||n||null}(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(I(hn,13),I(Yt,10),I(zi,10),I(Hr,10),I(d_,8))},t.\u0275dir=W({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([v8]),xe,Vn]}),t})();function IR(t){return"number"==typeof t?t:parseInt(t,10)}let Uh=(()=>{class t{constructor(){this._validator=Cc}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):Cc,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(){return null!=this[this.inputName]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,features:[Vn]}),t})();const S8={provide:Yt,useExisting:Ae(()=>Rs),multi:!0};let Rs=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(n){this._required=null!=n&&!1!==n&&"false"!=`${n}`,this._onChange&&this._onChange()}validate(n){return this.required?BM(n):null}registerOnValidatorChange(n){this._onChange=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("required",r.required?"":null)},inputs:{required:"required"},features:[Le([S8])]}),t})();const M8={provide:Yt,useExisting:Ae(()=>m_),multi:!0};let m_=(()=>{class t{constructor(){this._enabled=!1}set email(n){this._enabled=""===n||!0===n||"true"===n,this._onChange&&this._onChange()}validate(n){return this._enabled?$M(n):null}registerOnValidatorChange(n){this._onChange=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Le([M8])]}),t})();const R8={provide:Yt,useExisting:Ae(()=>Nc),multi:!0};let Nc=(()=>{class t extends Uh{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>IR(n),this.createValidator=n=>HM(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bn(t)))(r||t)}}(),t.\u0275dir=W({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[Le([R8]),xe]}),t})();const k8={provide:Yt,useExisting:Ae(()=>y_),multi:!0};let y_=(()=>{class t extends Uh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>IR(n),this.createValidator=n=>qM(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bn(t)))(r||t)}}(),t.\u0275dir=W({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Le([k8]),xe]}),t})(),O8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[[mR]]}),t})(),xR=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:d_,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[O8]}),t})(),Bh=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new fi(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new wa(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new c_(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof wa||n instanceof fi||n instanceof c_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:xR}),t})();function ie(...t){return It(t,xu(t))}class Dr extends Zr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function MR(t,e,n){t?ei(n,t,e):e()}const jh=wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function __(...t){return Su(1)(It(t,xu(t)))}function RR(t){return new ke(e=>{Mr(t()).subscribe(e)})}function kR(){return Ot((t,e)=>{let n=null;t._refCount++;const r=new Et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class U8 extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ZC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tt;const n=this.getSubject();e.add(this.source.subscribe(new Et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tt.EMPTY)}return e}refCount(){return kR()(this)}}function ks(t,e){return Ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Et(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Mr(t(u,l)).subscribe(i=new Et(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function j8(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new Et(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function NR(t,e){return Ot(j8(t,e,arguments.length>=2,!0))}function ba(t,e){return Ot((n,r)=>{let i=0;n.subscribe(new Et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Qi(t){return Ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new Et(n,void 0,void 0,o=>{s=Mr(t(o,Qi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Oc(t,e){return be(e)?bt(t,e,1):bt(t,1)}function v_(t){return t<=0?()=>ti:Ot((e,n)=>{let r=[];e.subscribe(new Et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function OR(t=$8){return Ot((e,n)=>{let r=!1;e.subscribe(new Et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $8(){return new jh}function PR(t){return Ot((e,n)=>{let r=!1;e.subscribe(new Et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ia(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ba((i,s)=>t(i,s,r)):ps,ld(1),n?PR(e):OR(()=>new jh))}function In(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Et(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ps}class pi{constructor(e,n){this.id=e,this.url=n}}class $h extends pi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends pi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FR extends pi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class G8 extends pi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8 extends pi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class t6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Da(t){return new t6(t)}const BR="ngNavigationCancelingError";function w_(t){const e=Error("NavigationCancelingError: "+t);return e[BR]=!0,e}function r6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jR(t[i],e[i]))return!1;return!0}function jR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function $R(t){return Array.prototype.concat.apply([],t)}function HR(t){return t.length>0?t[t.length-1]:null}function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Gr(t){return $m(t)?t:oc(t)?It(Promise.resolve(t)):ie(t)}const o6={exact:function WR(t,e,n){if(!Os(t.segments,e.segments)||!Hh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!WR(t.children[r],e.children[r],n))return!1;return!0},subset:zR},qR={exact:function(t,e){return qr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jR(t[n],e[n]))},ignored:()=>!0};function GR(t,e,n){return o6[n.paths](t.root,e.root,n.matrixParams)&&qR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function zR(t,e,n){return KR(t,e,e.segments,n)}function KR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Os(i,n)||e.hasChildren()||!Hh(i,n,r))}if(t.segments.length===n.length){if(!Os(t.segments,n)||!Hh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!zR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Os(t.segments,i)&&Hh(t.segments,i,r)&&t.children[ue])&&KR(t.children[ue],e,s,r)}}function Hh(t,e,n){return e.every((r,i)=>qR[n](t[i].parameters,r.parameters))}class Ns{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return d6.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ft(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qh(this)}}class Fc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Da(this.parameters)),this._parameterMap}toString(){return ZR(this)}}function Os(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class QR{}class YR{parse(e){const n=new w6(e);return new Ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Lc(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Gh(n)}=${Gh(i)}`).join("&"):`${Gh(n)}=${Gh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const d6=new YR;function qh(t){return t.segments.map(e=>ZR(e)).join("/")}function Lc(t,e){if(!t.hasChildren())return qh(t);if(e){const n=t.children[ue]?Lc(t.children[ue],!1):"",r=[];return Ft(t.children,(i,s)=>{s!==ue&&r.push(`${s}:${Lc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ft(t.children,(r,i)=>{i===ue&&(n=n.concat(e(r,i)))}),Ft(t.children,(r,i)=>{i!==ue&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ue?[Lc(t.children[ue],!1)]:[`${i}:${Lc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${qh(t)}/${n[0]}`:`${qh(t)}/(${n.join("//")})`}}function JR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gh(t){return JR(t).replace(/%3B/gi,";")}function E_(t){return JR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wh(t){return decodeURIComponent(t)}function XR(t){return Wh(t.replace(/\+/g,"%20"))}function ZR(t){return`${E_(t.path)}${function(t){return Object.keys(t).map(e=>`;${E_(e)}=${E_(t[e])}`).join("")}(t.parameters)}`}const g6=/^[^\/()?;=#]+/;function zh(t){const e=t.match(g6);return e?e[0]:""}const m6=/^[^=?&#]+/,_6=/^[^&#]+/;class w6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new de(e,n)),r}parseSegment(){const e=zh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fc(Wh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=zh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=zh(this.remaining);i&&(r=i,this.capture(r))}e[Wh(n)]=Wh(r)}parseQueryParam(e){const n=function(t){const e=t.match(m6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(_6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XR(n),s=XR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ek{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=b_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=b_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=I_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return I_(e,this._root).map(n=>n.value)}}function b_(t,e){if(t===e.value)return e;for(const n of e.children){const r=b_(t,n);if(r)return r}return null}function I_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=I_(t,n);if(r.length)return r.unshift(e),r}return[]}class gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ca(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class tk extends ek{constructor(e,n){super(e),this.snapshot=n,D_(this,e)}toString(){return this.snapshot.toString()}}function nk(t,e){const n=function(t,e){const o=new Kh([],{},{},"",{},ue,e,null,t.root,-1,{});return new ik("",new gi(o,[]))}(t,e),r=new Dr([new Fc("",{})]),i=new Dr({}),s=new Dr({}),o=new Dr({}),a=new Dr(""),u=new Ta(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new tk(new gi(u,[]),n)}class Ta{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kh{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ik extends ek{constructor(e,n){super(n),this.url=e,D_(this,n)}toString(){return sk(this._root)}}function D_(t,e){e.value._routerState=t,e.children.forEach(n=>D_(t,n))}function sk(t){const e=t.children.length>0?` { ${t.children.map(sk).join(", ")} } `:"";return`${t.value}${e}`}function C_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function T_(t,e){const n=qr(t.params,e.params)&&function(t,e){return Os(t,e)&&t.every((n,r)=>qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||T_(t.parent,e.parent))}function Vc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vc(t,r,i);return Vc(t,r)})}(t,e,n);return new gi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vc(t,a)),o}}const r=function(t){return new Ta(new Dr(t.url),new Dr(t.params),new Dr(t.queryParams),new Dr(t.fragment),new Dr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Vc(t,s));return new gi(r,i)}}function Qh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Uc(t){return"object"==typeof t&&null!=t&&t.outlets}function A_(t,e,n,r,i){let s={};return r&&Ft(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Ns(n.root===t?e:ok(n.root,t,e),s,i)}function ok(t,e,n){const r={};return Ft(t.children,(i,s)=>{r[s]=i===e?n:ok(i,e,n)}),new de(t.segments,r)}class ak{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Uc);if(i&&i!==HR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class S_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function uk(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return Yh(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Uc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!lk(u,c,o))return s;r+=2}else{if(!lk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new de(t.segments.slice(r.pathIndex),t.children),Yh(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?x_(t,e,n):r.match?Yh(t,0,i):x_(t,e,n)}function Yh(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Uc(t[0])?t[0].outlets:{[ue]:t}}(n),i={};return Ft(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=uk(t.children[o],e,s))}),Ft(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function x_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Uc(s)){const u=k6(s.outlets);return new de(r,u)}if(0===i&&Qh(n[0])){r.push(new Fc(t.segments[e].path,ck(n[0]))),i++;continue}const o=Uc(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qh(a)?(r.push(new Fc(o,ck(a))),i+=2):(r.push(new Fc(o,{})),i++)}return new de(r,{})}function k6(t){const e={};return Ft(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=x_(new de([],{}),0,n))}),e}function ck(t){const e={};return Ft(t,(n,r)=>e[r]=`${n}`),e}function lk(t,e,n){return t==n.path&&qr(e,n.parameters)}class O6{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),C_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ca(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ft(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ca(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ca(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ca(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new e6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new X8(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(C_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),C_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class M_{constructor(e,n){this.routes=e,this.module=n}}function Yi(t){return"function"==typeof t}function Ps(t){return t instanceof Ns}const Bc=Symbol("INITIAL_VALUE");function jc(){return ks(t=>function(...t){const e=xu(t),n=fT(t),{args:r,keys:i}=kM(t);if(0===r.length)return It([],e);const s=new ke(function(t,e,n=ps){return r=>{MR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)MR(e,()=>{const c=It(t[u],e);let l=!1;c.subscribe(new Et(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>OM(i,o):ps));return n?s.pipe(NM(n)):s}(t.map(e=>e.pipe(ld(1),function(...t){const e=xu(t);return Ot((n,r)=>{(e?__(t,n,e):__(t,n)).subscribe(r)})}(Bc)))).pipe(NR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Bc?i:(s===Bc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ps(s)?i:s),e)},Bc),ba(e=>e!==Bc),Te(e=>Ps(e)?e:!0===e),ld(1)))}class j6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $c,this.attachRef=null}}class $c{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new j6,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let R_=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.name=s||ue,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new $6(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I($c),I(wr),I(da),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(GT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(dt(),t)}("name"),I(Dy))},t.\u0275dir=W({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class $6{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ta?this.route:e===$c?this.childContexts:this.parent.get(e,n)}}let dk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Me(0,"router-outlet")},directives:[R_],encapsulation:2}),t})();function hk(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];H6(r,q6(e,r))}}function H6(t,e){t.children&&hk(t.children,e)}function q6(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function k_(t){const e=t.children&&t.children.map(k_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=dk),n}function or(t){return t.outlet||ue}function fk(t,e){const n=t.filter(r=>or(r)===e);return n.push(...t.filter(r=>or(r)!==e)),n}const pk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},pk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||r6)(n,t,e);if(!s)return Object.assign({},pk);const o={};Ft(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Xh(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Zh(t,e,r)&&or(r)!==ue)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ue]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&or(s)!==ue){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[or(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Zh(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Zh(t,n,a)&&!i[or(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[or(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Zh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function gk(t,e,n,r){return!!(or(t)===r||r!==ue&&Zh(e,n,t))&&("**"===t.path||Jh(e,t,n).matched)}function mk(t,e,n){return 0===e.length&&!t.children[n]}class Hc{constructor(e){this.segmentGroup=e||null}}class yk{constructor(e){this.urlTree=e}}function ef(t){return new ke(e=>e.error(new Hc(t)))}function _k(t){return new ke(e=>e.error(new yk(t)))}function Q6(t){return new ke(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class X6{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ci)}apply(){const e=Xh(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ue).pipe(Te(s=>this.createUrlTree(N_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qi(s=>{if(s instanceof yk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ue).pipe(Te(i=>this.createUrlTree(N_(i),e.queryParams,e.fragment))).pipe(Qi(i=>{throw i instanceof Hc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ue]:e}):e;return new Ns(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Te(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(Oc(s=>{const o=r.children[s],a=fk(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Te(u=>({segment:u,outlet:s})))}),NR((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ba((i,s)=>t(i,s,r)):ps,v_(1),n?PR(e):OR(()=>new jh))}())}expandSegment(e,n,r,i,s,o){return It(r).pipe(Oc(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Qi(c=>{if(c instanceof Hc)return ie(null);throw c}))),Ia(a=>!!a),Qi((a,u)=>{if(a instanceof jh||"EmptyError"===a.name){if(mk(n,i,s))return ie(new de([],{}));throw new Hc(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return gk(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ef(n):ef(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_k(s):this.lineralizeSegments(r,s).pipe(bt(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Jh(n,i,s);if(!a)return ef(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_k(d):this.lineralizeSegments(i,d).pipe(bt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ie(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Te(h=>(r._loadedConfig=h,new de(i,{})))):ie(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Jh(n,r,i);if(!o)return ef(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(bt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=Xh(n,a,c,f),v=new de(p.segments,p.children);if(0===_.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(Te(U=>new de(a,U)));if(0===f.length&&0===_.length)return ie(new de(a,{}));const b=or(r)===s;return this.expandSegment(h,v,f,_,b?ue:s,!0).pipe(Te(x=>new de(a.concat(x.segments),x.children)))}))}getChildConfig(e,n,r){return n.children?ie(new M_(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ie(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(bt(i=>{return i?this.configLoader.load(e.injector,n).pipe(Te(s=>(n._loadedConfig=s,s))):(t=n,new ke(e=>e.error(w_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):ie(new M_([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ie(i.map(o=>{const a=e.get(o);let u;if((t=a)&&Yi(t.canLoad))u=a.canLoad(n,r);else{if(!Yi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var t;return Gr(u)})).pipe(jc(),In(o=>{if(!Ps(o))return;const a=w_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Te(o=>!0===o)):ie(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ue])return Q6(e.redirectTo);i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ns(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ft(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ft(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function N_(t){const e={};for(const r of Object.keys(t.children)){const s=N_(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class vk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tf{constructor(e,n){this.component=e,this.route=n}}function t7(t,e,n){const r=t._root;return qc(r,e?e._root:null,n,[r.value])}function nf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function qc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ca(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Os(t.url,e.url)||!qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T_(t,e)||!qr(t.queryParams,e.queryParams);default:return!T_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tf(a.outlet.component,o))}else o&&Gc(e,a,i),i.canActivateChecks.push(new vk(r)),qc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ft(s,(o,a)=>Gc(o,n.getContext(a),i)),i}function Gc(t,e,n){const r=Ca(t),i=t.value;Ft(r,(s,o)=>{Gc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new tf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class p7{}function wk(t){return new ke(e=>e.error(t))}class m7{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Xh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ue);if(null===n)return null;const r=new Kh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gi(r,n),s=new ik(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=rk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=fk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=Ek(r);return i.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return mk(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!gk(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?HR(r).parameters:{};s=new Kh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dk(e),or(e),e.component,e,bk(n),Ik(n)+r.length,Ck(e))}else{const f=Jh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Kh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dk(e),or(e),e.component,e,bk(n),Ik(n)+o.length,Ck(e))}const u=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=Xh(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var t;if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new gi(s,f)]}if(0===u.length&&0===l.length)return[new gi(s,[])];const d=or(e)===i,h=this.processSegment(u,c,l,d?ue:i);return null===h?null:[new gi(s,h)]}}function v7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ek(t){const e=[],n=new Set;for(const r of t){if(!v7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Ek(r.children);e.push(new gi(r.value,i))}return e.filter(r=>!n.has(r))}function bk(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ik(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dk(t){return t.data||{}}function Ck(t){return t.resolve||{}}function O_(t){return ks(e=>{const n=t(e);return n?It(n).pipe(Te(()=>e)):ie(e)})}class A7 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const P_=new Z("ROUTES");class Tk{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Te(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new M_($R(o.injector.get(P_,void 0,J.Self|J.Optional)).map(k_),o)}),Qi(s=>{throw n._loader$=void 0,s}));return n._loader$=new U8(i,()=>new Zr).pipe(kR()),n._loader$}loadModuleFactory(e){return Gr(e()).pipe(bt(n=>n instanceof K1?ie(n):It(this.compiler.compileModuleAsync(n))))}}class x7{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function M7(t){throw t}function R7(t,e,n){return e.parse("/")}function Ak(t,e){return ie(null)}const k7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ze=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zr,this.errorHandler=M7,this.malformedUriErrorHandler=R7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ak,afterPreactivation:Ak},this.urlHandlingStrategy=new x7,this.routeReuseStrategy=new A7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ci),this.console=o.get(xx);const d=o.get(Be);this.isNgZoneEnabled=d instanceof Be&&Be.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ns(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tk(o,a,h=>this.triggerEvent(new LR(h)),h=>this.triggerEvent(new VR(h))),this.routerState=nk(this.currentUrlTree,this.rootComponentType),this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ba(i=>0!==i.id),Te(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ks(i=>{let s=!1,o=!1;return ie(i).pipe(In(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ks(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return rf(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(ks(d=>{const h=this.transitions.getValue();return r.next(new $h(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ti:Promise.resolve(d)}),function(t,e,n,r){return ks(i=>function(t,e,n,r,i){return new X6(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Te(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),In(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return bt(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new m7(t,e,n,r,i,s).recognize();return null===o?wk(new p7):ie(o)}catch(o){return wk(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Te(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),In(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new W8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:v}=a,b=new $h(h,this.serializeUrl(f),p,_);r.next(b);const w=nk(f,this.rootComponentType).snapshot;return ie(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ti}),O_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),In(a=>{const u=new z8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Te(a=>Object.assign(Object.assign({},a),{guards:t7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ie(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return It(t).pipe(bt(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const u=nf(a,e,i);let c;if(function(t){return t&&Yi(t.canDeactivate)}(u))c=Gr(u.canDeactivate(t,e,n,r));else{if(!Yi(u))throw new Error("Invalid CanDeactivate guard");c=Gr(u(t,e,n,r))}return c.pipe(Ia())})).pipe(jc()):ie(!0)}(i.component,i.route,n,e,r)),Ia(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return It(e).pipe(Oc(i=>__(function(t,e){return null!==t&&e&&e(new J8(t)),ie(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new Z8(t)),ie(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>RR(()=>ie(o.guards.map(u=>{const c=nf(u,o.node,n);let l;if(function(t){return t&&Yi(t.canActivateChild)}(c))l=Gr(c.canActivateChild(r,t));else{if(!Yi(c))throw new Error("Invalid CanActivateChild guard");l=Gr(c(r,t))}return l.pipe(Ia())})).pipe(jc())));return ie(s).pipe(jc())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>RR(()=>{const o=nf(s,e,n);let a;if(function(t){return t&&Yi(t.canActivate)}(o))a=Gr(o.canActivate(e,t));else{if(!Yi(o))throw new Error("Invalid CanActivate guard");a=Gr(o(e,t))}return a.pipe(Ia())}));return ie(i).pipe(jc())}(t,i.route,n))),Ia(i=>!0!==i,!0))}(r,s,t,e):ie(a)),Te(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),In(a=>{if(Ps(a.guardsResult)){const c=w_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new K8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ba(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),O_(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(In(u=>{const c=new Q8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),ks(u=>{let c=!1;return ie(u).pipe(function(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let s=0;return It(i).pipe(Oc(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ie({});const s={};return It(i).pipe(bt(o=>function(t,e,n,r){const i=nf(t,e,r);return Gr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(In(a=>{s[o]=a}))),v_(1),bt(()=>Object.keys(s).length===i.length?ie(s):ti))}(t._resolve,t,e,r).pipe(Te(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),rk(t,n).resolve),null)))}(o.route,r,t,e)),In(()=>s++),v_(1),bt(o=>s===i.length?ie(n):ti))})}(this.paramsInheritanceStrategy,this.ngModule.injector),In({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),In(u=>{const c=new Y8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),O_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Te(a=>{const u=function(t,e,n){const r=Vc(t,e._root,n?n._root:void 0);return new tk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),In(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Te(r=>(new O6(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),In({next(){s=!0},complete(){s=!0}}),function(t){return Ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Qi(a=>{if(o=!0,function(t){return t&&t[BR]}(a)){const u=Ps(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new FR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rf(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new G8(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ti}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){hk(n),this.config=n.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return A_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ak(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ft(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new ak(n,e,r)}(n);if(s.toRoot())return A_(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new S_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new S_(s,s===e.root,0)}const r=Qh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new S_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Yh(o.segmentGroup,o.index,s.commands):uk(o.segmentGroup,o.index,s.commands);return A_(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ps(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},k7):!1===r?Object.assign({},N7):r,Ps(n))return GR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return GR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Pc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=rf(r)&&l&&!rf(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let _,v,b;o?(_=o.resolve,v=o.reject,b=o.promise):b=new Promise((U,X)=>{_=U,v=X});const w=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):x=0,this.setTransition({id:w,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:_,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(U=>Promise.reject(U))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new FR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Bm()},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function rf(t){return"imperative"!==t}let Fs=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Zr,this.subscription=n.events.subscribe(s=>{s instanceof Pc&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Aa(this.skipLocationChange),replaceUrl:Aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Aa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(ze),I(Ta),I(_a))},t.\u0275dir=W({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Oe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Ur("target",r.target)("href",r.href,qg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vn]}),t})();function Aa(t){return""===t||!!t}class Sk{}class xk{preload(e,n){return ie(null)}}let Mk=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new Tk(i,r,u=>n.triggerEvent(new LR(u)),u=>n.triggerEvent(new VR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ba(n=>n instanceof Pc),Oc(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ci);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return It(i).pipe(Su(),Te(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ie(r._loadedConfig):this.loader.load(n.injector,r)).pipe(bt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(j(ze),j(ph),j(ft),j(Sk))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),L_=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof $h?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Pc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof UR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new UR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Bm()},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Ls=new Z("ROUTER_CONFIGURATION"),Rk=new Z("ROUTER_FORROOT_GUARD"),V7=[Ry,{provide:QR,useClass:YR},{provide:ze,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new ze(null,t,e,n,r,i,$R(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[QR,$c,Ry,ft,ph,P_,Ls,[class{},new Xe],[class{},new Xe]]},$c,{provide:Ta,useFactory:function(t){return t.routerState.root},deps:[ze]},Mk,xk,class{preload(e,n){return n().pipe(Qi(()=>ie(null)))}},{provide:Ls,useValue:{enableTracing:!1}}];function U7(){return new Px("Router",ze)}let kk=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[V7,Nk(n),{provide:Rk,useFactory:$7,deps:[[ze,new Xe,new Bo]]},{provide:Ls,useValue:r||{}},{provide:_a,useFactory:j7,deps:[Ts,[new zu(My),new Xe],Ls]},{provide:L_,useFactory:B7,deps:[ze,Xz,Ls]},{provide:Sk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:xk},{provide:Px,multi:!0,useFactory:U7},[V_,{provide:fh,multi:!0,useFactory:W7,deps:[V_]},{provide:Ok,useFactory:z7,deps:[V_]},{provide:Sx,multi:!0,useExisting:Ok}]]}}static forChild(n){return{ngModule:t,providers:[Nk(n)]}}}return t.\u0275fac=function(n){return new(n||t)(j(Rk,8),j(ze,8))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})();function B7(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new L_(t,e,n)}function j7(t,e,n={}){return n.useHash?new NW(t,e):new rM(t,e)}function $7(t){return"guarded"}function Nk(t){return[{provide:iB,multi:!0,useValue:t},{provide:P_,multi:!0,useValue:t}]}let V_=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zr}appInitializer(){return this.injector.get(MW,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(ze),o=this.injector.get(Ls);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Ls),i=this.injector.get(Mk),s=this.injector.get(L_),o=this.injector.get(ze),a=this.injector.get(_c);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(j(ft))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function W7(t){return t.appInitializer.bind(t)}function z7(t){return t.bootstrapListener.bind(t)}const Ok=new Z("Router Initializer");function Q7(t,e){1&t&&(m(0,"div"),M(1,"Date is required"),y())}function Y7(t,e){if(1&t&&(m(0,"div",16),H(1,Q7,2,0,"div",14),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.orderDateSelector.errors.required)}}function J7(t,e){1&t&&(m(0,"div"),M(1,"Please select a valid date."),y())}const X7=function(t){return{"is-invalid":t}};let Z7=(()=>{class t{constructor(n,r){this.formBuilder=n,this.router=r,this.orderDetailsForm=fi,this.submitted=!1,this.maxDate=new Date,this.dateError=!1}get f(){return this.orderDetailsForm.controls}onSubmit(){this.submitted=!0,this.orderDetailsForm.invalid||(new Date(this.orderDetailsForm.value.orderDateSelector)>new Date?this.dateError=!0:this.submitted&&(this.dateError=!1,this.router.navigate(["/view-orders"])))}ngOnInit(){this.orderDetailsForm=this.formBuilder.group({orderDateSelector:["",[mt.required]]})}goToVerifyUsersCom(){this.router.navigate(["/view-users"])}goToUsersCom(){this.router.navigate(["/view-users"])}goToOrdersCom(){this.router.navigate(["/view-orders"])}}return t.\u0275fac=function(n){return new(n||t)(I(Bh),I(ze))},t.\u0275cmp=on({type:t,selectors:[["app-admin-home"]],decls:29,vars:6,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-3","display-6","text-center"],[1,"p-4","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"],[1,"p-1","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","orderDateSelector","type","date","formControlName","orderDateSelector","placeholder","Select a date","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),M(7,"Welcome Admin"),y(),Me(8,"hr"),y(),m(9,"div",7),m(10,"button",8),Oe("click",function(){return r.goToVerifyUsersCom()}),M(11,"Verify New Users "),y(),y(),m(12,"div",7),m(13,"button",8),Oe("click",function(){return r.goToUsersCom()}),M(14,"View Verified Users "),y(),y(),m(15,"div",7),m(16,"button",8),Oe("click",function(){return r.goToOrdersCom()}),M(17,"View Today's Orders "),y(),y(),Me(18,"hr"),m(19,"div",9),m(20,"form",10),Oe("ngSubmit",function(){return r.onSubmit()}),m(21,"div",11),m(22,"div",11),Me(23,"input",12),H(24,Y7,2,1,"div",13),H(25,J7,2,0,"div",14),y(),y(),m(26,"div",7),m(27,"button",15),M(28,"View Orders "),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(20),F("formGroup",r.orderDetailsForm),O(3),F("ngClass",vr(4,X7,r.submitted&&r.f.orderDateSelector.errors)),O(1),F("ngIf",r.submitted&&r.f.orderDateSelector.errors),O(1),F("ngIf",r.dateError))},directives:[kc,Ac,Ms,xs,Tc,Ea,Rs,bc,As],styles:[""]}),t})();function Pk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Pk(s,r,i,o,a,"next",u)}function a(u){Pk(s,r,i,o,a,"throw",u)}o(void 0)})}}const B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ct(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Uk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function sf(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Bk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jk(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Sa(){return"object"==typeof indexedDB}function of(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function H_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}}class Wr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(lK,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new mi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const lK=/\{\$([^}]+)}/g;function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Hk(s)&&Hk(o)){if(!uf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hk(t){return null!==t&&"object"==typeof t}function cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class fK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=q_),void 0===i.error&&(i.error=q_),void 0===i.complete&&(i.complete=q_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q_(){}function W_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Dn(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vs="[DEFAULT]";class wK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Vs})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Vs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class IK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const z_=[];var ge=(()=>{return(t=ge||(ge={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ge;var t})();const qk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},DK=ge.INFO,CK={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},TK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=CK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class xa{constructor(e){this.name=e,this._logLevel=DK,this._logHandler=TK,this._userLogHandler=null,z_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}class AK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const K_="@firebase/app",Q_=new xa("@firebase/app"),Y_="[DEFAULT]",e5={[K_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Us=new Map,lf=new Map;function t5(t,e){try{t.container.addComponent(e)}catch(n){Q_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(lf.has(e))return Q_.debug(`There were multiple attempts to register component ${e}.`),!1;lf.set(e,t);for(const n of Us.values())t5(n,t);return!0}function Ma(t,e){return t.container.getProvider(e)}const Kc=new Wr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class r5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}const Ra="9.6.1";function Wk(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Y_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Kc.create("bad-app-name",{appName:String(r)});const i=Us.get(r);if(i){if(uf(t,i.options)&&uf(n,i.config))return i;throw Kc.create("duplicate-app",{appName:r})}const s=new IK(r);for(const a of lf.values())s.addComponent(a);const o=new r5(t,n,s);return Us.set(r,o),o}function J_(t=Y_){const e=Us.get(t);if(!e)throw Kc.create("no-app",{appName:t});return e}function zk(){return Array.from(Us.values())}function Ke(t,e,n){var r;let i=null!==(r=e5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Q_.warn(a.join(" "))}Cn(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Qk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Cn(new fn("platform-logger",e=>new AK(e),"PRIVATE")),Ke(K_,"0.7.11",""),Ke(K_,"0.7.11","esm2017"),Ke("fire-js","");const a5=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zk=new Wr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),eN=new xa("@firebase/auth");function hf(t,...e){eN.logLevel<=ge.ERROR&&eN.error(`Auth (9.6.1): ${t}`,...e)}function Tn(t,...e){throw ev(t,...e)}function zr(t,...e){return ev(t,...e)}function tN(t,e,n){const r=Object.assign(Object.assign({},a5()),{[e]:n});return new Wr("auth","Firebase",r).create(e,{appName:t.name})}function ev(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zk.create(t,...e)}function S(t,e,...n){if(!t)throw ev(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function Ji(t,e){t||Kr(e)}const nN=new Map;function yi(t){Ji(t instanceof Function,"Expected a class definition");let e=nN.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nN.set(t,e),e)}function Qc(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function rN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Uk()||Bk()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===rN()||"https:"===rN()||sf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nv(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},f5=new Yc(3e4,6e4);function yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tt(t,e,n,r){return rv.apply(this,arguments)}function rv(){return rv=g(function*(t,e,n,r,i={}){return sN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cf(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),iN.fetch()(oN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),rv.apply(this,arguments)}function sN(t,e,n){return iv.apply(this,arguments)}function iv(){return iv=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},h5),e);try{const i=new p5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ff(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ff(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ff(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tN(t,l,c);Tn(t,l)}}catch(i){if(i instanceof mi)throw i;Tn(t,"network-request-failed")}}),iv.apply(this,arguments)}function _i(t,e,n,r){return sv.apply(this,arguments)}function sv(){return sv=g(function*(t,e,n,r,i={}){const s=yield Tt(t,e,n,r,i);return"mfaPendingCredential"in s&&Tn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),sv.apply(this,arguments)}function oN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?nv(t.config,i):`${t.config.apiScheme}://${i}`}class p5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"timeout")),f5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function ov(){return ov=g(function*(t,e){return Tt(t,"POST","/v1/accounts:delete",e)}),ov.apply(this,arguments)}function y5(t,e){return uv.apply(this,arguments)}function uv(){return uv=g(function*(t,e){return Tt(t,"POST","/v1/accounts:lookup",e)}),uv.apply(this,arguments)}function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function cv(){return cv=g(function*(t,e=!1){const n=Dn(t),r=yield n.getIdToken(e),i=pf(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jc(lv(i.auth_time)),issuedAtTime:Jc(lv(i.iat)),expirationTime:Jc(lv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),cv.apply(this,arguments)}function lv(t){return 1e3*Number(t)}function pf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return B_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i),null}}function vi(t,e){return dv.apply(this,arguments)}function dv(){return dv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof mi&&w5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),dv.apply(this,arguments)}function w5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class E5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class aN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xc(t){return hv.apply(this,arguments)}function hv(){return hv=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield vi(t,y5(n,{idToken:r}));S(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?D5(s.providerUserInfo):[],a=I5(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),hv.apply(this,arguments)}function fv(){return fv=g(function*(t){const e=Dn(t);yield Xc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),fv.apply(this,arguments)}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D5(t){return t.map(e=>{var{providerId:n}=e,r=Qk(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pv(){return pv=g(function*(t,e){const n=yield sN(t,{},g(function*(){const r=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),pv.apply(this,arguments)}class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(void 0!==e.idToken,"internal-error"),S(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=pf(t);return S(e,"internal-error"),S(void 0!==e.exp,"internal-error"),S(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return pv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function Xi(t,e){S("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new E5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new aN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield vi(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return cv.apply(this,arguments)}(this,e)}reload(){return function(t){return fv.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Xc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield vi(e,function(t,e){return ov.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,_=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=n.createdAt)&&void 0!==c?c:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:x,emailVerified:U,isAnonymous:X,providerData:wt,stsTokenManager:Yn}=n;S(x&&Yn,e,"internal-error");const id=Zc.fromJSON(this.name,Yn);S("string"==typeof x,e,"internal-error"),Xi(d,e.name),Xi(h,e.name),S("boolean"==typeof U,e,"internal-error"),S("boolean"==typeof X,e,"internal-error"),Xi(f,e.name),Xi(p,e.name),Xi(_,e.name),Xi(v,e.name),Xi(b,e.name),Xi(w,e.name);const vo=new Bs({uid:x,auth:e,email:h,emailVerified:U,displayName:d,isAnonymous:X,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:id,createdAt:b,lastLoginAt:w});return wt&&Array.isArray(wt)&&(vo.providerData=wt.map(sd=>Object.assign({},sd))),v&&(vo._redirectEventId=v),vo}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Zc;i.updateFromServerResponse(n);const s=new Bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xc(s),s})()}}const uN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function gf(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,s),this.fullPersistenceKey=gf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Bs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Na(yi(uN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||yi(uN);const o=gf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Bs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Na(s,e,r)):new Na(s,e,r)})()}}function cN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pN(e))return"Blackberry";if(gN(e))return"Webos";if(gv(e))return"Safari";if((e.includes("chrome/")||dN(e))&&!e.includes("edge/"))return"Chrome";if(fN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function lN(t=Ct()){return/firefox\//i.test(t)}function gv(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dN(t=Ct()){return/crios\//i.test(t)}function hN(t=Ct()){return/iemobile/i.test(t)}function fN(t=Ct()){return/android/i.test(t)}function pN(t=Ct()){return/blackberry/i.test(t)}function gN(t=Ct()){return/webos/i.test(t)}function mf(t=Ct()){return/iphone|ipad|ipod/i.test(t)}function mN(t=Ct()){return mf(t)||fN(t)||gN(t)||pN(t)||/windows phone/i.test(t)||hN(t)}function yN(t,e=[]){let n;switch(t){case"Browser":n=cN(Ct());break;case"Worker":n=`${cN(Ct())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class x5{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _N(this),this.idTokenSubscription=new _N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Na.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Xc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Dn(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&S(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(yi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&yi(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield Na.create(n,[yi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function An(t){return Dn(t)}class _N{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new fK(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class EN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}function yv(){return yv=g(function*(t,e){return Tt(t,"POST","/v1/accounts:update",e)}),yv.apply(this,arguments)}function vv(){return vv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithPassword",yt(t,e))}),vv.apply(this,arguments)}function Cv(){return Cv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}),Cv.apply(this,arguments)}function Tv(){return Tv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}),Tv.apply(this,arguments)}class el extends EN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new el(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new el(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function(t,e){return vv.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Cv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Tn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function(t,e){return yv.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return Tv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Tn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function wi(t,e){return Av.apply(this,arguments)}function Av(){return Av=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithIdp",yt(t,e))}),Av.apply(this,arguments)}class rl{constructor(e){var n,r,i,s,o,a;const u=Wc(zc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);S(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=Wc(zc(t)).link,n=e?Wc(zc(e)).deep_link_id:null,r=Wc(zc(t)).deep_link_id;return(r?Wc(zc(r)).link:null)||r||n||e||t}(e);try{return new rl(n)}catch(r){return null}}}let DN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return el._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=rl.parseLink(r);return S(i,"argument-error"),el._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class K5 extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function CN(t,e){return Nv.apply(this,arguments)}function Nv(){return Nv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signUp",yt(t,e))}),Nv.apply(this,arguments)}class ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Bs._fromIdTokenResponse(e,r,i),o=TN(r);return new ar({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=TN(r);return new ar({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function TN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class vf extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vf(e,n,r,i)}}function AN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?vf._fromErrorAndOperation(t,s,e,r):s})}function Fv(t,e){return Lv.apply(this,arguments)}function Lv(){return Lv=g(function*(t,e,n=!1){const r=yield vi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ar._forOperation(t,"link",r)}),Lv.apply(this,arguments)}function Uv(){return Uv=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield vi(t,AN(r,i,e,t),n);S(s.idToken,r,"internal-error");const o=pf(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),ar._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Tn(r,"user-mismatch"),s}}),Uv.apply(this,arguments)}function MN(t,e){return Bv.apply(this,arguments)}function Bv(){return Bv=g(function*(t,e,n=!1){const r="signIn",i=yield AN(t,r,e),s=yield ar._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),Bv.apply(this,arguments)}function $v(){return $v=g(function*(t,e){return MN(An(t),e)}),$v.apply(this,arguments)}function ew(){return ew=g(function*(t,e,n){const r=An(t),i=yield CN(r,{returnSecureToken:!0,email:e,password:n}),s=yield ar._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),ew.apply(this,arguments)}function RN(t,e,n){return function(t,e){return $v.apply(this,arguments)}(Dn(t),DN.credential(e,n))}function r9(t,e){return aw.apply(this,arguments)}function aw(){return aw=g(function*(t,e){return Tt(t,"POST","/v1/accounts:update",e)}),aw.apply(this,arguments)}function uw(){return uw=g(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=Dn(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield vi(r,r9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),uw.apply(this,arguments)}new WeakMap;const bf="__sak";class NN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m9=(()=>{class t extends NN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Ct();return gv(t)||mf(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=mN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);jk()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ON=(()=>{class t extends NN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let _9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function gw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class v9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=gw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function _t(){return window}function mw(){return void 0!==_t().WorkerGlobalScope&&"function"==typeof _t().importScripts}function yw(){return(yw=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const PN="firebaseLocalStorageDb",If="firebaseLocalStorage",FN="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Df(t,e){return t.transaction([If],e?"readwrite":"readonly").objectStore(If)}function _w(){const t=indexedDB.open(PN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(If,{keyPath:FN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(If)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(PN);return new sl(t).toPromise()}(),e(yield _w()))}))})}function LN(t,e,n){return vw.apply(this,arguments)}function vw(){return vw=g(function*(t,e,n){const r=Df(t,!0).put({[FN]:e,value:n});return new sl(r).toPromise()}),vw.apply(this,arguments)}function ww(){return ww=g(function*(t,e){const n=Df(t,!1).get(e),r=yield new sl(n).toPromise();return void 0===r?null:r.value}),ww.apply(this,arguments)}function VN(t,e){const n=Df(t,!0).delete(e);return new sl(n).toPromise()}const x9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield _w()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return mw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=_9._getInstance(mw()?self:null),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function(){return yw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new v9(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield _w();return yield LN(n,bf,"1"),yield VN(n,bf),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>LN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function(t,e){return ww.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>VN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Df(o,!1).getAll();return new sl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function BN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function $s(t,e){return e?yi(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}BN("rcb"),new Yc(3e4,6e4);class Mw extends EN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W9(t){return MN(t.auth,new Mw(t),t.bypassAuthState)}function z9(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function(t,e){return Uv.apply(this,arguments)}(n,new Mw(t),t.bypassAuthState)}function K9(t){return Rw.apply(this,arguments)}function Rw(){return Rw=g(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),Fv(n,new Mw(t),t.bypassAuthState)}),Rw.apply(this,arguments)}new Yc(2e3,1e4);const Tf=new Map;class J9 extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return z9;default:Tn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Tf.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return Fw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Tf.set(n.auth._key(),r)}return n.bypassAuthState||Tf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Fw(){return Fw=g(function*(t,e){const n=HN(e),r=$N(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),Fw.apply(this,arguments)}function $N(t){return yi(t._redirectPersistence)}function HN(t){return gf("pendingRedirect",t.config.apiKey,t.name)}function qN(t,e){return Hw.apply(this,arguments)}function Hw(){return Hw=g(function*(t,e,n=!1){const r=An(t),i=$s(r,e),o=yield new J9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),Hw.apply(this,arguments)}class rQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zN(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(WN(e))}saveEventToCache(e){this.cachedEventUids.add(WN(e)),this.lastProcessedEventTime=Date.now()}}function WN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function sQ(t){return Gw.apply(this,arguments)}function Gw(){return Gw=g(function*(t,e={}){return Tt(t,"GET","/v1/projects",e)}),Gw.apply(this,arguments)}const oQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aQ=/^https?/;function Ww(){return Ww=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield sQ(t);for(const n of e)try{if(cQ(n))return}catch(r){}Tn(t,"unauthorized-domain")}),Ww.apply(this,arguments)}function cQ(t){const e=Qc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!aQ.test(n))return!1;if(oQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lQ=new Yc(3e4,6e4);function KN(){const t=_t().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Af=null;function hQ(t){return Af=Af||function(t){return new Promise((e,n)=>{var r,i,s;function o(){KN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KN(),n(zr(t,"network-request-failed"))},timeout:lQ.get()})}if(null===(i=null===(r=_t().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=_t().gapi)||void 0===s?void 0:s.load)){const a=BN("iframefcb");return _t()[a]=()=>{gapi.load?o():n(zr(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Af=null,e})}(t),Af}const fQ=new Yc(5e3,15e3),mQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _Q(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nv(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ra},i=yQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cf(r).slice(1)}`}function zw(){return zw=g(function*(t){const e=yield hQ(t),n=_t().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:_Q(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mQ,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),u=_t().setTimeout(()=>{o(a)},fQ.get());function c(){_t().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),zw.apply(this,arguments)}const wQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class QN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function YN(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof K5){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?nv(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${cf(a).slice(1)}`}const Kw="webStorageSupport",RQ=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ON,this._completeRedirectFn=qN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ji(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=YN(e,n,r,Qc(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},wQ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=dN(c)?"_blank":n),lN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=Ct()){var e;return mf(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new QN(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch(h){}return new QN(d)}(e,a,gw())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function(t){_t().location.href=t}(YN(e,n,r,Qc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function(t){return zw.apply(this,arguments)}(e),i=new rQ(e);return r.register("authEvent",s=>(S(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kw,{type:Kw},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[Kw];void 0!==o&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return Ww.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mN()||gv()||mf()}};var XN="@firebase/auth";class kQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ol(t=J_()){const e=Ma(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=Ma(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(uf(n.getOptions(),null!=e?e:{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:RQ,persistence:[x9,m9,ON]})}!function(t){Cn(new fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{S(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),S(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yN(t)},u=new x5(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new fn("auth-internal",e=>{const n=An(e.getProvider("auth").getImmediate());return new kQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(XN,"0.19.4",void 0),Ke(XN,"0.19.4","esm2017")}("Browser"),Ke("firebase","9.6.1","app");var P,LQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ei={},Qw=Qw||{},K=LQ||self;function Sf(){}function Yw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function al(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Jw="closure_uid_"+(1e9*Math.random()>>>0),UQ=0;function BQ(t,e,n){return t.call.apply(t.bind,arguments)}function jQ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return(Lt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BQ:jQ).apply(null,arguments)}function xf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}var HQ={};es.prototype.s=!1,es.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Jw)&&t[Jw]||(t[Jw]=++UQ)}(this);delete HQ[t]}},es.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},tO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function nO(t){return Array.prototype.concat.apply([],arguments)}function Xw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mf(t){return/^[\s\xa0]*$/.test(t)}var gn,rO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function pn(t,e){return-1!=t.indexOf(e)}function Zw(t,e){return t<e?-1:t>e?1:0}e:{var iO=K.navigator;if(iO){var sO=iO.userAgent;if(sO){gn=sO;break e}}gn=""}function eE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oO(t){const e={};for(const n in t)e[n]=t[n];return e}var aO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<aO.length;s++)n=aO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tE(t){return tE[" "](t),t}tE[" "]=Sf;var Rf,WQ=pn(gn,"Opera"),Oa=pn(gn,"Trident")||pn(gn,"MSIE"),cO=pn(gn,"Edge"),nE=cO||Oa,lO=pn(gn,"Gecko")&&!(pn(gn.toLowerCase(),"webkit")&&!pn(gn,"Edge"))&&!(pn(gn,"Trident")||pn(gn,"MSIE"))&&!pn(gn,"Edge"),zQ=pn(gn.toLowerCase(),"webkit")&&!pn(gn,"Edge");function dO(){var t=K.document;return t?t.documentMode:void 0}e:{var rE="",iE=function(){var t=gn;return lO?/rv:([^\);]+)(\)|;)/.exec(t):cO?/Edge\/([\d\.]+)/.exec(t):Oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zQ?/WebKit\/(\S+)/.exec(t):WQ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(iE&&(rE=iE?iE[1]:""),Oa){var sE=dO();if(null!=sE&&sE>parseFloat(rE)){Rf=String(sE);break e}}Rf=rE}var KQ={};function QQ(){return e=KQ,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=rO(String(Rf)).split("."),n=rO("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=Zw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Zw(0==i[2].length,0==s[2].length)||Zw(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var YQ=K.document&&Oa&&(dO()||parseInt(Rf,10))||void 0,JQ=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Sf,e),K.removeEventListener("test",Sf,e)}catch(n){}return t}();function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ul(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lO){e:{try{tE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:XQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ul.Z.h.call(this)}}Jt.prototype.h=function(){this.defaultPrevented=!0},Vt(ul,Jt);var XQ={2:"touch",3:"pen",4:"mouse"};ul.prototype.h=function(){ul.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),ZQ=0;function eY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ZQ,this.ca=this.fa=!1}function kf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nf(t){this.src=t,this.g={},this.h=0}function aE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=eO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function uE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Nf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=uE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new eY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var cE="closure_lm_"+(1e6*Math.random()|0),lE={};function fO(t,e,n,r,i){if(r&&r.once)return gO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fO(t,e[s],n,r,i);return null}return n=pE(n),t&&t[cl]?t.N(e,n,al(r)?!!r.capture:!!r,i):pO(t,e,n,!1,r,i)}function pO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=al(i)?!!i.capture:!!i,a=hE(t);if(a||(t[cE]=a=new Nf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=nY;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JQ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gO(t,e[s],n,r,i);return null}return n=pE(n),t&&t[cl]?t.O(e,n,al(r)?!!r.capture:!!r,i):pO(t,e,n,!0,r,i)}function mO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mO(t,e[s],n,r,i);else r=al(r)?!!r.capture:!!r,n=pE(n),t&&t[cl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=uE(s=t.g[e],n,r,i))&&(kf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=hE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uE(e,n,r,i)),(n=-1<t?e[t]:null)&&dE(n))}function dE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[cl])aE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hE(e))?(aE(n,t),0==n.h&&(n.src=null,e[cE]=null)):kf(t)}}}function yO(t){return t in lE?lE[t]:lE[t]="on"+t}function nY(t,e){if(t.ca)t=!0;else{e=new ul(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&dE(t),t=n.call(r,e)}return t}function hE(t){return(t=t[cE])instanceof Nf?t:null}var fE="__closure_events_fn_"+(1e9*Math.random()>>>0);function pE(t){return"function"==typeof t?t:(t[fE]||(t[fE]=function(e){return t.handleEvent(e)}),t[fE])}function At(){es.call(this),this.i=new Nf(this),this.P=this,this.I=null}function Ut(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;uO(e=new Jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Of(o,r,!0,e)&&i}if(i=Of(o=e.g=t,r,!0,e)&&i,i=Of(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Of(o=e.g=n[s],r,!1,e)&&i}function Of(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&aE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(At,es),At.prototype[cl]=!0,At.prototype.removeEventListener=function(t,e,n,r){mO(this,t,e,n,r)},At.prototype.M=function(){if(At.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.I=null},At.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var gE=K.JSON.stringify;function rY(){var t=vO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yE,_O=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new sY,t=>t.reset());class sY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oY(t){K.setTimeout(()=>{throw t},0)}function mE(t,e){yE||function(){var t=K.Promise.resolve(void 0);yE=function(){t.then(uY)}}(),_E||(yE(),_E=!0),vO.add(t,e)}var _E=!1,vO=new class{constructor(){this.h=this.g=null}add(e,n){const r=_O.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function uY(){for(var t;t=rY();){try{t.h.call(t.g)}catch(n){oY(n)}var e=_O;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_E=!1}function Pf(t,e){At.call(this),this.h=t||1,this.g=e||K,this.j=Lt(this.kb,this),this.l=Date.now()}function vE(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function wE(t,e,n){if("function"==typeof t)n&&(t=Lt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Lt(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function wO(t){t.g=wE(()=>{t.g=null,t.i&&(t.i=!1,wO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Vt(Pf,At),(P=Pf.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ut(this,"tick"),this.da&&(vE(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){Pf.Z.M.call(this),vE(this),delete this.g};class cY extends es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wO(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(t){es.call(this),this.h=t,this.g={}}Vt(ll,es);var EO=[];function bO(t,e,n,r){Array.isArray(n)||(n&&(EO[0]=n.toString()),n=EO);for(var i=0;i<n.length;i++){var s=fO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function IO(t){eE(t.g,function(e,n){this.g.hasOwnProperty(n)&&dE(e)},t),t.g={}}function Ff(){this.g=!0}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ll.prototype.M=function(){ll.Z.M.call(this),IO(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ff.prototype.Aa=function(){this.g=!1},Ff.prototype.info=function(){};var Hs={},DO=null;function Lf(){return DO=DO||new At}function CO(t){Jt.call(this,Hs.Ma,t)}function dl(t){const e=Lf();Ut(e,new CO(e,t))}function TO(t,e){Jt.call(this,Hs.STAT_EVENT,t),this.stat=e}function mn(t){const e=Lf();Ut(e,new TO(e,t))}function AO(t,e){Jt.call(this,Hs.Na,t),this.size=e}function hl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}Hs.Ma="serverreachability",Vt(CO,Jt),Hs.STAT_EVENT="statevent",Vt(TO,Jt),Hs.Na="timingevent",Vt(AO,Jt);var Vf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EE(){}function MO(){}EE.prototype.h=null;var DE,fl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bE(){Jt.call(this,"d")}function IE(){Jt.call(this,"c")}function Uf(){}function pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ll(this),this.P=pY,this.W=new Pf(t=nE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new RO}function RO(){this.i=null,this.g="",this.h=!1}Vt(bE,Jt),Vt(IE,Jt),Vt(Uf,EE),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},DE=new Uf;var pY=45e3,CE={},Bf={};function TE(t,e,n){t.K=1,t.v=Gf(bi(e)),t.s=n,t.U=!0,kO(t,null)}function kO(t,e){t.F=Date.now(),gl(t),t.A=bi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),jO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new RO,t.g=lP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new cY(Lt(t.Ia,t,t.g),t.O)),bO(t.V,t.g,"readystatechange",t.gb),e=t.H?oO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),dl(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function NO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function OO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=gY(t,n),i==Bf){4==e&&(t.o=4,mn(14),r=!1),Pa(t.j,t.m,null,"[Incomplete Response]");break}if(i==CE){t.o=4,mn(15),Pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Pa(t.j,t.m,i,null),AE(t,i)}NO(t)&&i!=Bf&&i!=CE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),VE(e),e.L=!0,mn(11))):(Pa(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),ml(t))}function gY(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bf:(n=Number(e.substring(n,r)),isNaN(n)?CE:(r+=1)+n>e.length?Bf:(e=e.substr(r,n),t.C=r+n,e))}function gl(t){t.Y=Date.now()+t.P,PO(t,t.P)}function PO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hl(Lt(t.eb,t),e)}function jf(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function ml(t){0==t.l.G||t.I||oP(t.l,t)}function qs(t){jf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,vE(t.W),IO(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function AE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ME(n.i,t)))if(n.I=t.N,!t.J&&ME(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hl(Lt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Jf(n),Qf(n)}LE(n),mn(18)}if(1>=qO(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else zs(n,11)}else if((t.J||n.g==t)&&Jf(n),!Mf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(pn(p,"spdy")||pn(p,"quic")||pn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(RE(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Ve(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=cP(r,r.H?r.la:null,r.W),o.J){GO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(jf(a),gl(a)),r.g=o}else iP(r);0<n.l.length&&Yf(n)}else"stop"!=c[0]&&"close"!=c[0]||zs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zs(n,7):PE(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}dl(4)}catch(c){}}function SE(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yw(t)||"string"==typeof t)tO(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Yw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Yw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Fa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xE(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Gs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Gs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Gs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(P=pl.prototype).setTimeout=function(t){this.P=t},P.gb=function(t){t=t.target;const e=this.L;e&&3==Ii(t)?e.l():this.Ia(t)},P.Ia=function(t){try{if(t==this.g)e:{const l=Ii(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||nE||this.g&&(this.h.h||this.g.ga()||ZO(this.g)))){this.I||4!=l||7==e||dl(8==e||0>=d?3:2),jf(this);var n=this.g.ba();this.N=n;t:if(NO(this)){var r=ZO(this.g);t="";var i=r.length,s=4==Ii(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qs(this),ml(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mn(12),qs(this),ml(this);break e}Pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AE(this,n)}this.U?(OO(this,l,o),nE&&this.i&&3==l&&(bO(this.V,this.W,"tick",this.fb),this.W.start())):(Pa(this.j,this.m,o,null),AE(this,o)),4==l&&qs(this),this.i&&!this.I&&(4==l?oP(this.l,this):(this.i=!1,gl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),qs(this),ml(this)}}}catch(l){}},P.fb=function(){if(this.g){var t=Ii(this.g),e=this.g.ga();this.C<e.length&&(jf(this),OO(this,t,e),this.i&&4!=t&&gl(this))}},P.cancel=function(){this.I=!0,qs(this)},P.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dl(3),mn(17)),qs(this),this.o=2,ml(this)):PO(this,this.Y-t)},(P=Fa.prototype).R=function(){xE(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},P.T=function(){return xE(this),this.g.concat()},P.get=function(t,e){return Gs(this.h,t)?this.h[t]:e},P.set=function(t,e){Gs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},P.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var FO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ws(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ws){this.g=void 0!==e?e:t.g,$f(this,t.j),this.s=t.s,Hf(this,t.i),qf(this,t.m),this.l=t.l,e=t.h;var n=new vl;n.i=e.i,e.g&&(n.g=new Fa(e.g),n.h=e.h),LO(this,n),this.o=t.o}else t&&(n=String(t).match(FO))?(this.g=!!e,$f(this,n[1]||"",!0),this.s=yl(n[2]||""),Hf(this,n[3]||"",!0),qf(this,n[4]),this.l=yl(n[5]||"",!0),LO(this,n[6]||"",!0),this.o=yl(n[7]||"")):(this.g=!!e,this.h=new vl(null,this.g))}function bi(t){return new Ws(t)}function $f(t,e,n){t.j=n?yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hf(t,e,n){t.i=n?yl(e,!0):e}function qf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LO(t,e,n){e instanceof vl?(t.h=e,function(t,e){e&&!t.j&&(ts(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UO(this,r),jO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=_l(e,IY)),t.h=new vl(e,t.g))}function Ve(t,e,n){t.h.set(e,n)}function Gf(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wY(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_l(e,VO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_l(e,VO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(_l(n,"/"==n.charAt(0)?bY:EY,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_l(n,DY)),t.join("")};var VO=/[#\/\?@]/g,EY=/[#\?:]/g,bY=/[#\?]/g,IY=/[#\?@]/g,DY=/#/g;function vl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ts(t){t.g||(t.g=new Fa,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function UO(t,e){ts(t),e=La(t,e),Gs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Gs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xE(t)))}function BO(t,e){return ts(t),e=La(t,e),Gs(t.g.h,e)}function jO(t,e,n){UO(t,e),0<n.length&&(t.i=null,t.g.set(La(t,e),Xw(n)),t.h+=n.length)}function La(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $O(t){this.l=t||AY,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=vl.prototype).add=function(t,e){ts(this),this.i=null,t=La(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){ts(this),this.g.forEach(function(n,r){tO(n,function(i){t.call(e,i,r,this)},this)},this)},P.T=function(){ts(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},P.R=function(t){ts(this);var e=[];if("string"==typeof t)BO(this,t)&&(e=nO(e,this.g.get(La(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=nO(e,t[n])}return e},P.set=function(t,e){return ts(this),this.i=null,BO(this,t=La(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var AY=10;function HO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function qO(t){return t.h?1:t.g?t.g.size:0}function ME(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function RE(t,e){t.g?t.g.add(e):t.h=e}function GO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Xw(t.i)}function kE(){}function SY(){this.g=new kE}function xY(t,e,n){const r=n||"";try{SE(t,function(i,s){let o=i;al(i)&&(o=gE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function wl(t){this.l=t.$b||null,this.j=t.ib||!1}function zf(t,e){At.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=NE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$O.prototype.cancel=function(){if(this.i=WO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},kE.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)},kE.prototype.parse=function(t){return K.JSON.parse(t,void 0)},Vt(wl,EE),wl.prototype.g=function(){return new zf(this.l,this.j)},wl.prototype.i=function(t){return function(){return t}}({}),Vt(zf,At);var NE=0;function zO(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function El(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bl(t)}function bl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=zf.prototype).open=function(t,e){if(this.readyState!=NE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bl(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,El(this)),this.readyState=NE},P.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zO(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},P.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?El(this):bl(this),3==this.readyState&&zO(this)}},P.Ua=function(t){this.g&&(this.response=this.responseText=t,El(this))},P.Ta=function(t){this.g&&(this.response=t,El(this))},P.ha=function(){this.g&&El(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RY=K.JSON.parse;function ot(t){At.call(this),this.headers=new Fa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=KO,this.K=this.L=!1}Vt(ot,At);var KO="",kY=/^https?$/i,NY=["POST","PUT"];function PY(t){return"content-type"==t.toLowerCase()}function QO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YO(t),Kf(t)}function YO(t){t.D||(t.D=!0,Ut(t,"complete"),Ut(t,"error"))}function JO(t){if(t.h&&void 0!==Qw&&(!t.C[1]||4!=Ii(t)||2!=t.ba()))if(t.v&&4==Ii(t))wE(t.Fa,0,t);else if(Ut(t,"readystatechange"),4==Ii(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(FO)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!kY.test(i?i.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",YO(t)}}finally{Kf(t)}}}function Kf(t,e){if(t.g){XO(t);const n=t.g,r=t.C[0]?Sf:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function XO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function Ii(t){return t.g?t.g.readyState:0}function ZO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case KO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function OE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return eE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eP(t){this.za=0,this.l=[],this.h=new Ff,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Il("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Il("baseRetryDelayMs",5e3,t),this.$a=Il("retryDelaySeedMs",1e4,t),this.Ya=Il("forwardChannelMaxRetries",2,t),this.ra=Il("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new $O(t&&t.concurrentRequestLimit),this.Ca=new SY,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function PE(t){if(tP(t),3==t.G){var e=t.V++,n=bi(t.F);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Dl(t,n),(e=new pl(t,t.h,e,void 0)).K=2,e.v=Gf(bi(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=lP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gl(e)}uP(t)}function Qf(t){t.g&&(VE(t),t.g.cancel(),t.g=null)}function tP(t){Qf(t),t.u&&(K.clearTimeout(t.u),t.u=null),Jf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function FE(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Yf(t)}function Yf(t){HO(t.i)||t.m||(t.m=!0,mE(t.Ha,t),t.C=0)}function nP(t,e){var n;n=e?e.m:t.V++;const r=bi(t.F);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.U),Dl(t,r),t.o&&t.s&&OE(r,t.o,t.s),n=new pl(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=rP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),RE(t.i,n),TE(n,r,e)}function Dl(t,e){t.j&&SE({},function(n,r){Ve(e,r,n)})}function rP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Lt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{xY(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function iP(t){t.g||t.u||(t.Y=1,mE(t.Ga,t),t.A=0)}function LE(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=hl(Lt(t.Ga,t),aP(t,t.A)),t.A++,0))}function VE(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function sP(t){t.g=new pl(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=bi(t.oa);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.N?"0":"1"),Ve(e,"AID",t.U),Dl(t,e),Ve(e,"TYPE","xmlhttp"),t.o&&t.s&&OE(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Gf(bi(e)),n.s=null,n.U=!0,kO(n,t)}function Jf(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function oP(t,e){var n=null;if(t.g==e){Jf(t),VE(t),t.g=null;var r=2}else{if(!ME(t.i,e))return;n=e.D,GO(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ut(r=Lf(),new AO(r,n,e,i)),Yf(t)}else iP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(qO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=hl(Lt(t.Ha,t,e),aP(t,t.C)),t.C++,0)))}(t,e)||2==r&&LE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}function aP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Lt(t.jb,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||$f(n,"https"),Gf(n)),function(t,e){const n=new Ff;if(K.Image){const r=new Image;r.onload=xf(Wf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xf(Wf,n,r,"TestLoadImage: error",!1,e),r.onabort=xf(Wf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xf(Wf,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mn(2);t.G=0,t.j&&t.j.va(e),uP(t),tP(t)}function uP(t){t.G=0,t.I=-1,t.j&&((0!=WO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Xw(t.l),t.l.length=0),t.j.ua())}function cP(t,e,n){let r=function(t){return t instanceof Ws?bi(t):new Ws(t,void 0)}(n);if(""!=r.i)e&&Hf(r,e+"."+r.i),qf(r,r.m);else{const i=K.location;r=function(t,e,n,r){var i=new Ws(null,void 0);return t&&$f(i,t),e&&Hf(i,e),n&&qf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&eE(t.aa,function(i,s){Ve(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ve(r,e,n),Ve(r,"VER",t.ma),Dl(t,r),r}function lP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ot(n&&t.Ba&&!t.qa?new wl({ib:!0}):t.qa)).L=t.H,e}function dP(){}function Xf(){if(Oa&&!(10<=Number(YQ)))throw Error("Environmental error: no available transport.")}function Gn(t,e){At.call(this),this.g=new eP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Va(this)}function hP(t){bE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fP(){IE.call(this),this.status=1}function Va(t){this.g=t}(P=ot.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():DE.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:DE),this.g.onreadystatechange=Lt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void QO(this,s)}t=n||"";const i=new Fa(this.headers);r&&SE(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=PY;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=K.FormData&&t instanceof K.FormData,!(0<=eO(NY,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XO(this),0<this.B&&((this.K=function(t){return Oa&&QQ()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.pa,this)):this.A=wE(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){QO(this,s)}},P.pa=function(){void 0!==Qw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),Kf(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),ot.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?JO(this):this.cb())},P.cb=function(){JO(this)},P.ba=function(){try{return 2<Ii(this)?this.g.status:-1}catch(t){return-1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},P.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RY(e)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=eP.prototype).ma=8,P.G=1,P.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},P.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new pl(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=oO(s),uO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rP(this,i,e),Ve(n=bi(this.F),"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),Dl(this,n),this.o&&s&&OE(n,this.o,s),RE(this.i,i),this.Ra&&Ve(n,"TYPE","init"),this.ja?(Ve(n,"$req",e),Ve(n,"SID","null"),i.$=!0,TE(i,n,null)):TE(i,n,e),this.G=2}}else 3==this.G&&(t?nP(this,t):0==this.l.length||HO(this.i)||nP(this))},P.Ga=function(){if(this.u=null,sP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=hl(Lt(this.bb,this),t)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mn(10),Qf(this),sP(this))},P.ab=function(){null!=this.v&&(this.v=null,Qf(this),LE(this),mn(19))},P.jb=function(t){t?(this.h.info("Successfully pinged google.com"),mn(2)):(this.h.info("Failed to ping google.com"),mn(1))},(P=dP.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},Xf.prototype.g=function(t,e){return new Gn(t,e)},Vt(Gn,At),Gn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),mE(Lt(t.hb,t,e))),mn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=cP(t,null,t.W),Yf(t)},Gn.prototype.close=function(){PE(this.g)},Gn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,FE(this.g,e)}else this.v?((e={}).__data__=gE(t),FE(this.g,e)):FE(this.g,t)},Gn.prototype.M=function(){this.g.j=null,delete this.j,PE(this.g),delete this.g,Gn.Z.M.call(this)},Vt(hP,bE),Vt(fP,IE),Vt(Va,dP),Va.prototype.xa=function(){Ut(this.g,"a")},Va.prototype.wa=function(t){Ut(this.g,new hP(t))},Va.prototype.va=function(t){Ut(this.g,new fP(t))},Va.prototype.ua=function(){Ut(this.g,"b")},Xf.prototype.createWebChannel=Xf.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Vf.NO_ERROR=0,Vf.TIMEOUT=8,Vf.HTTP_ERROR=6,SO.COMPLETE="complete",MO.EventType=fl,fl.OPEN="a",fl.CLOSE="b",fl.ERROR="c",fl.MESSAGE="d",At.prototype.listen=At.prototype.N,ot.prototype.listenOnce=ot.prototype.O,ot.prototype.getLastError=ot.prototype.La,ot.prototype.getLastErrorCode=ot.prototype.Da,ot.prototype.getStatus=ot.prototype.ba,ot.prototype.getResponseJson=ot.prototype.Qa,ot.prototype.getResponseText=ot.prototype.ga,ot.prototype.send=ot.prototype.ea;var VY=Ei.createWebChannelTransport=function(){return new Xf},UY=Ei.getStatEventTarget=function(){return Lf()},UE=Ei.ErrorCode=Vf,BY=Ei.EventType=SO,jY=Ei.Event=Hs,pP=Ei.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$Y=Ei.FetchXmlHttpFactory=wl,Zf=Ei.WebChannel=MO,HY=Ei.XhrIo=ot;const gP="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let Ua="9.6.1";const ns=new xa("@firebase/firestore");function BE(){return ns.logLevel}function A(t,...e){if(ns.logLevel<=ge.DEBUG){const n=e.map(jE);ns.debug(`Firestore (${Ua}): ${t}`,...n)}}function at(t,...e){if(ns.logLevel<=ge.ERROR){const n=e.map(jE);ns.error(`Firestore (${Ua}): ${t}`,...n)}}function ep(t,...e){if(ns.logLevel<=ge.WARN){const n=e.map(jE);ns.warn(`Firestore (${Ua}): ${t}`,...n)}}function jE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function B(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function G(t,e){t||B()}function R(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class St{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class WY{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new St;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new St,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new St)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new mP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Bt(e)}}class zY{constructor(e,n,r){this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class KY{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new zY(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QY{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),new yP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Wn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function YY(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Wn.I=-1;class _P{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new jt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function wP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Cl{constructor(e,n,r){void 0===n?n=0:n>e.length&&B(),void 0===r?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Cl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends Cl{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const JY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Cl{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return JY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ja{constructor(e){this.fields=e,e.sort(Xt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const XY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(G(!!t),"string"==typeof t){let e=0;const n=XY.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $a(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function $E(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bP(t){const e=t.mapValue.fields.__previous_value__;return $E(e)?bP(e):e}function Tl(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}function Qs(t){return null==t}function tp(t){return 0===t&&1/t==-1/0}class V{constructor(e){this.path=e}static fromPath(e){return new V(ve.fromString(e))}static fromName(e){return new V(ve.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new ve(e.slice()))}}function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$E(t)?4:10:B()}function Qr(t,e){const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=rs(r.timestampValue),o=rs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,$a(t.bytesValue).isEqual($a(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ut(r.doubleValue),o=ut(i.doubleValue);return s===o?tp(s)===tp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wP(s)!==wP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Qr(s[a],o[a])))return!1;return!0}(t,e);default:return B()}var i}function Al(t,e){return void 0!==(t.values||[]).find(n=>Qr(n,e))}function Ha(t,e){const n=Ys(t),r=Ys(e);if(n!==r)return he(n,r);switch(n){case 0:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ut(i.integerValue||i.doubleValue),a=ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return DP(t.timestampValue,e.timestampValue);case 4:return DP(Tl(t),Tl(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$a(i),a=$a(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=he(o[u],a[u]);if(0!==c)return c}return he(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=he(ut(i.latitude),ut(s.latitude));return 0!==o?o:he(ut(i.longitude),ut(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ha(o[u],a[u]);if(c)return c}return he(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=he(a[l],c[l]);if(0!==d)return d;const h=Ha(o[a[l]],u[c[l]]);if(0!==h)return h}return he(a.length,c.length)}(t.mapValue,e.mapValue);default:throw B()}}function DP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=rs(t),r=rs(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function HE(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=rs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$a(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qE(r.fields[a])}`;return s+"}"}(t.mapValue):B();var e}function np(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GE(t){return!!t&&"integerValue"in t}function WE(t){return!!t&&"arrayValue"in t}function CP(t){return!!t&&"nullValue"in t}function TP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rp(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(Sl(this.value))}}function AP(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new Xt([n]);if(rp(r)){const s=AP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ja(e)}class Ue{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ue(e,0,ee.min(),Zt.empty(),0)}static newFoundDocument(e,n,r){return new Ue(e,1,n,r,0)}static newNoDocument(e,n){return new Ue(e,2,n,Zt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,Zt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ue(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ZY{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function SP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZY(t,e,n,r,i,s,o)}function xl(t){const e=R(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+HE(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Qs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=op(e.startAt)),e.endAt&&(n+="|ub:",n+=op(e.endAt)),e.R=n}return e.R}function ip(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Qr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RP(t.startAt,e.startAt)&&RP(t.endAt,e.endAt)}function sp(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class yn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new nJ(e,n,r):"array-contains"===n?new sJ(e,r):"in"===n?new oJ(e,r):"not-in"===n?new aJ(e,r):"array-contains-any"===n?new uJ(e,r):new yn(e,n,r)}static P(e,n,r){return"in"===n?new rJ(e,r):new iJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ha(n,this.value)):null!==n&&Ys(this.value)===Ys(n)&&this.v(Ha(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nJ extends yn{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.v(n)}}class rJ extends yn{constructor(e,n){super(e,"in",n),this.keys=xP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iJ extends yn{constructor(e,n){super(e,"not-in",n),this.keys=xP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class sJ extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return WE(n)&&Al(n.arrayValue,this.value)}}class oJ extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Al(this.value.arrayValue,n)}}class aJ extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Al(this.value.arrayValue,n)}}class uJ extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!WE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}class Ml{constructor(e,n){this.position=e,this.before=n}}function op(t){return`${t.before?"b":"a"}:${t.position.map(e=>HE(e)).join(",")}`}class qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function cJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function MP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):Ha(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function RP(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}class Di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Ga(t){return new Di(t)}function ap(t){return!Qs(t.limit)&&"F"===t.limitType}function up(t){return!Qs(t.limit)&&"L"===t.limitType}function zE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function KE(t){for(const e of t.filters)if(e.V())return e.field;return null}function QE(t){return null!==t.collectionGroup}function Wa(t){const e=R(t);if(null===e.S){e.S=[];const n=KE(e),r=zE(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new qa(n)),e.S.push(new qa(Xt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new qa(Xt.keyField(),s))}}}return e.S}function ur(t){const e=R(t);if(!e.D)if("F"===e.limitType)e.D=SP(e.path,e.collectionGroup,Wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Wa(e))n.push(new qa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ml(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Ml(e.startAt.position,!e.startAt.before):null;e.D=SP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function NP(t,e,n){return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rl(t,e){return ip(ur(t),ur(e))&&t.limitType===e.limitType}function OP(t){return`${xl(ur(t))}|lt:${t.limitType}`}function YE(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${HE(r.value)}`;var r}).join(", ")}]`),Qs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+op(t.startAt)),t.endAt&&(e+=", endAt: "+op(t.endAt)),`Target(${e})`}(ur(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!MP(n.startAt,Wa(n),r)||n.endAt&&MP(n.endAt,Wa(n),r)));var n,r}function PP(t){return(e,n)=>{let r=!1;for(const i of Wa(t)){const s=lJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lJ(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ha(a,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}function FP(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function LP(t){return{integerValue:""+t}}function VP(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?LP(e):FP(t,e)}class cp{constructor(){this._=void 0}}function dJ(t,e,n){return t instanceof za?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Js?BP(t,e):t instanceof Xs?jP(t,e):function(r,i){const s=UP(r,i),o=$P(s)+$P(r.N);return GE(s)&&GE(r.N)?LP(o):FP(r.k,o)}(t,e)}function hJ(t,e,n){return t instanceof Js?BP(t,e):t instanceof Xs?jP(t,e):n}function UP(t,e){return t instanceof Ka?GE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class za extends cp{}class Js extends cp{constructor(e){super(),this.elements=e}}function BP(t,e){const n=HP(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xs extends cp{constructor(e){super(),this.elements=e}}function jP(t,e){let n=HP(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class Ka extends cp{constructor(e,n){super(),this.k=e,this.N=n}}function $P(t){return ut(t.integerValue||t.doubleValue)}function HP(t){return WE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pJ{constructor(e,n){this.version=e,this.transformResults=n}}class ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dp{}function gJ(t,e,n){t instanceof Ol?function(r,i,s){const o=r.value.clone(),a=zP(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!lp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zP(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function JE(t,e,n){var i;t instanceof Ol?function(r,i,s){if(!lp(r.precondition,i))return;const o=r.value.clone(),a=KP(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(GP(i),o).setHasLocalMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!lp(r.precondition,i))return;const o=KP(r.fieldTransforms,s,i),a=i.data;a.setAll(WP(r)),a.setAll(o),i.convertToFoundDocument(GP(i),a).setHasLocalMutations()}(t,e,n):lp(t.precondition,i=e)&&i.convertToNoDocument(ee.min())}function mJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=UP(r.transform,i||null);null!=s&&(null==n&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function qP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ba(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Js&&r instanceof Js||n instanceof Xs&&r instanceof Xs?Ba(n.elements,r.elements,Qr):n instanceof Ka&&r instanceof Ka?Qr(n.N,r.N):n instanceof za&&r instanceof za);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function GP(t){return t.isFoundDocument()?t.version:ee.min()}class Ol extends dp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class is extends dp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function WP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zP(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hJ(o,a,n[i]))}return r}function KP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dJ(s,o,e))}return r}class Pl extends dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class XE extends dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class yJ{constructor(e){this.count=e}}var lt,me;function QP(t){switch(t){default:return B();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function YP(t){if(void 0===t)return at("GRPC error has no .code"),E.UNKNOWN;switch(t){case lt.OK:return E.OK;case lt.CANCELLED:return E.CANCELLED;case lt.UNKNOWN:return E.UNKNOWN;case lt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case lt.INTERNAL:return E.INTERNAL;case lt.UNAVAILABLE:return E.UNAVAILABLE;case lt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case lt.NOT_FOUND:return E.NOT_FOUND;case lt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case lt.ABORTED:return E.ABORTED;case lt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case lt.DATA_LOSS:return E.DATA_LOSS;default:return B()}}(me=lt||(lt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class vt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:$t.RED,this.left=null!=i?i:$t.EMPTY,this.right=null!=s?s:$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1,$t.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JP(this.data.getIterator())}getIteratorFrom(e){return new JP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class JP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _J=new vt(V.comparator);function cr(){return _J}const vJ=new vt(V.comparator);function ZE(){return vJ}const wJ=new vt(V.comparator);const EJ=new Qe(V.comparator);function Ee(...t){let e=EJ;for(const n of t)e=e.add(n);return e}const bJ=new Qe(he);function fp(){return bJ}class Fl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n)),new Fl(ee.min(),r,fp(),cr(),Ee())}}class Ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ll(xt.EMPTY_BYTE_STRING,n,Ee(),Ee(),Ee())}}class pp{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.F=i}}class ZP{constructor(e,n){this.targetId=e,this.O=n}}class eF{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tF{constructor(){this.M=0,this.L=rF(),this.B=xt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Ee(),n=Ee(),r=Ee();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Ll(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=rF()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class IJ{constructor(e){this.et=e,this.nt=new Map,this.st=cr(),this.it=nF(),this.rt=new Qe(he)}ot(e){for(const n of e.$)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.O.count,i=this.wt(n);if(i){const s=i.target;if(sp(s))if(0===r){const o=new V(s.path);this.ct(n,o,Ue.newNoDocument(o,ee.min()))}else G(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&sp(a.target)){const u=new V(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Ue.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=Ee();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Fl(e,n,this.rt,this.st,r);return this.st=cr(),this.it=nF(),this.rt=new Qe(he),i}at(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new tF,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Qe(he),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new tF),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function nF(){return new vt(V.comparator)}function rF(){return new vt(V.comparator)}const DJ={asc:"ASCENDING",desc:"DESCENDING"},CJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TJ{constructor(e,n){this.databaseId=e,this.C=n}}function Vl(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iF(t,e){return t.C?e.toBase64():e.toUint8Array()}function AJ(t,e){return Vl(t,e.toTimestamp())}function Mt(t){return G(!!t),ee.fromTimestamp(function(e){const n=rs(e);return new jt(n.seconds,n.nanos)}(t))}function eb(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function sF(t){const e=ve.fromString(t);return G(yF(e)),e}function Ul(t,e){return eb(t.databaseId,e.path)}function Yr(t,e){const n=sF(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(aF(n))}function tb(t,e){return eb(t.databaseId,e)}function Bl(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aF(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uF(t,e,n){return{name:Ul(t,e),fields:n.value.mapValue.fields}}function dF(t,e){return{documents:[tb(t,e.path)]}}function hF(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(TP(l.value))return{unaryFilter:{field:Qa(l.field),op:"IS_NAN"}};if(CP(l.value))return{unaryFilter:{field:Qa(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(TP(l.value))return{unaryFilter:{field:Qa(l.field),op:"IS_NOT_NAN"}};if(CP(l.value))return{unaryFilter:{field:Qa(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(l.field),op:NJ(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Qa((c=u).field),direction:kJ(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Qs(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=gF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gF(e.endAt)),n}function fF(t){let e=function(t){const e=sF(t);return 4===e.length?ve.emptyPath():aF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=pF(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new qa(Ya((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Qs(d)?null:d}(n.limit));let u=null;n.startAt&&(u=mF(n.startAt));let c=null;return n.endAt&&(c=mF(n.endAt)),function(t,e,n,r,i,s,o,a){return new Di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function pF(t){return t?void 0!==t.unaryFilter?[PJ(t)]:void 0!==t.fieldFilter?[OJ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>pF(e)).reduce((e,n)=>e.concat(n)):B():[]}function gF(t){return{before:t.before,values:t.position}}function mF(t){return new Ml(t.values||[],!!t.before)}function kJ(t){return DJ[t]}function NJ(t){return CJ[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Ya(t){return Xt.fromServerFormat(t.fieldPath)}function OJ(t){return yn.create(Ya(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(t.fieldFilter.op),t.fieldFilter.value)}function PJ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ya(t.unaryFilter.field);return yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ya(t.unaryFilter.field);return yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ya(t.unaryFilter.field);return yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ya(t.unaryFilter.field);return yn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function FJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Cr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_F(e)),e=LJ(t.get(n),e);return _F(e)}function LJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function _F(t){return t+"\x01\x01"}class zn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}zn.store="owner",zn.key="owner";class ss{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}ss.store="mutationQueues",ss.keyPath="userId";class Pe{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Pe.store="mutations",Pe.keyPath="batchId",Pe.userMutationsIndex="userMutationsIndex",Pe.userMutationsKeyPath=["userId","batchId"];class en{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Cr(n)]}static key(e,n,r){return[e,Cr(n),r]}}en.store="documentMutations",en.PLACEHOLDER=new en;class Ye{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ye.store="remoteDocuments",Ye.readTimeIndex="readTimeIndex",Ye.readTimeIndexPath="readTime",Ye.collectionReadTimeIndex="collectionReadTimeIndex",Ye.collectionReadTimeIndexPath=["parentPath","readTime"];class Jr{constructor(e){this.byteSize=e}}Jr.store="remoteDocumentGlobal",Jr.key="remoteDocumentGlobalKey";class Sn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Sn.store="targets",Sn.keyPath="targetId",Sn.queryTargetsIndexName="queryTargetsIndex",Sn.queryTargetsKeyPath=["canonicalId","targetId"];class Ht{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Ht.store="targetDocuments",Ht.keyPath=["targetId","path"],Ht.documentTargetsIndex="documentTargetsIndex",Ht.documentTargetsKeyPath=["path","targetId"];class Kn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Kn.key="targetGlobalKey",Kn.store="targetGlobal";class Zs{constructor(e,n){this.collectionId=e,this.parent=n}}Zs.store="collectionParents",Zs.keyPath=["collectionId","parent"];class Ti{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Ti.store="clientMetadata",Ti.keyPath="clientId";class Ja{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ja.store="bundles",Ja.keyPath="bundleId";class Xa{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Xa.store="namedQueries",Xa.keyPath="name";const vF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function eo(t){return"IndexedDbTransactionError"===t.name}class rb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gJ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&JE(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&JE(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>qP(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>qP(n,r))}}class ib{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=wJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ib(e,n,r,i)}}class os{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=xt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bF{constructor(e){this.Gt=e}}function ab(t){const e=fF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?NP(e,e.limit,"L"):e}class WJ{constructor(){this.zt=new ub}addToCollectionParentIndex(e,n){return this.zt.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.zt.getEntries(n))}}class ub{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ve.comparator)).toArray()}}class Mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class no{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new no(0)}static re(){return new no(-1)}}function ro(t){return lb.apply(this,arguments)}function lb(){return lb=g(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==vF)throw t;A("LocalStore","Unexpectedly lost primary lease")}),lb.apply(this,arguments)}class iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EP(this.inner)}}class LF{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Pn(e,n,r))}Pn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return V.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):QE(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new V(n)).next(r=>{let i=ZE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=ZE();return this.Jt.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const u=(c=n,l=a.child(i),new Di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Ue.newInvalidDocument(l),i=i.insert(l,d)),JE(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{kl(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=Ee();for(const o of n)for(const a of o.mutations)a instanceof is&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class pb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pb(e,n.fromCache,r,i)}}class VF{Fn(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ee.min())?this.Mn(e,n):this.On.vn(e,i).next(s=>{const o=this.Ln(n,s);return(ap(n)||up(n))&&this.Bn(n.limitType,o,i,r)?this.Mn(e,n):(BE()<=ge.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),YE(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Qe(PP(e));return n.forEach((i,s)=>{kl(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,n){return BE()<=ge.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",YE(n)),this.On.getDocumentsMatchingQuery(e,n,ee.min())}}class iX{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new vt(he),this.Kn=new iu(s=>xl(s),ip),this.jn=ee.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new LF(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function BF(t,e){return gb.apply(this,arguments)}function gb(){return gb=g(function*(t,e){const n=R(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new LF(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=Ee();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}),gb.apply(this,arguments)}function sX(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const _=u.docVersions.get(f);G(null!==_),p.version.compareTo(_)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function jF(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function oX(t,e){const n=R(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,v=c,G((_=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,f))}var p,_,v});let u=cr();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=Ee();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=cr();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):A("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ee.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function aX(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function su(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new os(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function ou(t,e,n){return mb.apply(this,arguments)}function mb(){return mb=g(function*(t,e,n){const r=R(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!eo(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),mb.apply(this,arguments)}function Ep(t,e,n){const r=R(t);let i=ee.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Kn.get(c);return void 0!==d?D.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:Ee())).next(a=>({documents:a,zn:s})))}class dX{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return D.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:Mt(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:ab(r.bundledQuery),readTime:Mt(r.readTime)}),D.resolve();var r}}class wb{constructor(){this.ts=new Qe(Rt.es),this.ns=new Qe(Rt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new Rt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new V(new ve([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new V(new ve([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=Ee();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return V.comparator(e.key,n.key)||he(e.fs,n.fs)}static ss(e,n){return he(e.fs,n.fs)||V.comparator(e.key,n.key)}}class hX{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Qe(Rt.es)}checkEmpty(e){return D.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new rb(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new Rt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return D.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return D.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(he);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),D.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new V(s),0);let a=new Qe(he);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),D.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return D.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new Rt(n,0),i=this.ws.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class fX{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new vt(V.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.clone():Ue.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Ue.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=cr();const s=new V(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||kl(n,u)&&(i=i.insert(u.key,u.clone()))}return D.resolve(i)}Es(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pX(this)}getSize(e){return D.resolve(this.size)}}class pX extends class{constructor(){this.changes=new iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ee.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Ue.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?D.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class gX{constructor(e){this.persistence=e,this.Is=new iu(n=>xl(n),ip),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.As=0,this.Rs=new wb,this.targetCount=0,this.Ps=no.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),D.resolve()}ce(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ps=new no(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.ce(n),D.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Rs.containsKey(n))}}class mX{constructor(e,n){this.bs={},this.Be=new Wn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new gX(this),this.Jt=new WJ,this.Je=new fX(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new bF(n),this.Ye=new dX(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new hX(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new yX(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return D.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class yX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.Cs=new wb,this.Ns=null}static ks(e){return new Eb(e)}get xs(){if(this.Ns)return this.Ns;throw B()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),D.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.xs,r=>{const i=V.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return D.or([()=>D.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class Db{constructor(){this.activeTargetIds=fp()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zF{constructor(){this.pi=new Db,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _X{Ei(e){}shutdown(){}}class KF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wX{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class EX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);A("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw ep("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Mi}/v1/${n}:${vX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new HY;a.listenOnce(BY.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case UE.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case UE.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case UE.HTTP_ERROR:const l=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new T(h,d.message))}else o(new T(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(E.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=VY(),o=UY(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new $Y({})),this.qi(a.initMessageHeaders,n,r),Uk()||Bk()||Ct().indexOf("Electron/")>=0||jk()||Ct().indexOf("MSAppHost/")>=0||sf()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new wX({Vi:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(l||(A("Connection","Opening WebChannel transport."),c.open(),l=!0),A("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,_,v)=>{p.listen(_,b=>{try{v(b)}catch(w){setTimeout(()=>{throw w},0)}})};return f(c,Zf.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(c,Zf.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.Fi())}),f(c,Zf.EventType.ERROR,p=>{d||(d=!0,ep("Connection","WebChannel transport errored:",p),h.Fi(new T(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,Zf.EventType.MESSAGE,p=>{var _;if(!d){const v=p.data[0];G(!!v);const b=v,w=b.error||(null===(_=b[0])||void 0===_?void 0:_.error);if(w){A("Connection","WebChannel received error:",w);const x=w.status;let U=function(wt){const Yn=lt[wt];if(void 0!==Yn)return YP(Yn)}(x),X=w.message;void 0===U&&(U=E.INTERNAL,X="Unknown error status: "+x+" with message "+w.message),d=!0,h.Fi(new T(U,X)),c.close()}else A("Connection","WebChannel received:",v),h.Oi(v)}}),f(o,jY.STAT_EVENT,p=>{p.stat===pP.PROXY?A("Connection","Detected buffering proxy"):p.stat===pP.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Dp(){return"undefined"!=typeof document?document:null}function Gl(t){return new TJ(t,!0)}class Tb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class YF{constructor(e,n,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Tb(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return g(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return g(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return g(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new T(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(g(function*(){e.state=0,e.start()}))}Ar(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Oe.enqueueAndForget(()=>this.rr===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bX extends YF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:B(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(G(void 0===c||"string"==typeof c),xt.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:YP(u.code);return new T(c,u.message||"")}(o);n=new eF(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yr(t,r.document.name),s=Mt(r.document.updateTime),o=new Zt({mapValue:{fields:r.document.fields}}),a=Ue.newFoundDocument(i,s,o);n=new pp(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Yr(t,r.document),s=r.readTime?Mt(r.readTime):ee.min(),o=Ue.newNoDocument(i,s);n=new pp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Yr(t,r.document);n=new pp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,s=new yJ(r.count||0);n=new ZP(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Mt(s.readTime):ee.min()}(e);return this.listener.Pr(n,r)}br(e){const n={};n.database=Bl(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=sp(a)?{documents:dF(i,a)}:{query:hF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=iF(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Vl(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=Bl(this.k),n.removeTarget=e,this.gr(n)}}class IX extends YF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(r,i){let s=Mt(r.updateTime?r.updateTime:i);return s.isEqual(ee.min())&&(s=Mt(i)),new pJ(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Mt(e.commitTime);return this.listener.Cr(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Bl(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Ol)n={update:uF(t,e.key,e.value)};else if(e instanceof Pl)n={delete:Ul(t,e.key)};else if(e instanceof is)n={update:uF(t,e.key,e.data),updateMask:FJ(e.fieldMask)};else{if(!(e instanceof XE))return B();n={verify:Ul(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof za)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ka)return{fieldPath:s.field.canonicalString(),increment:o.N};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:AJ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:B()),n;var i}(this.k,r))};this.gr(n)}}class DX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}ji(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class CX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(at(n),this.Lr=!1):A("OnlineStateTracker",n)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class TX{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(g(function*(){var u;ls(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.Gr.add(4),yield au(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield Wl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new CX(r,i)}}function Wl(t){return Ab.apply(this,arguments)}function Ab(){return Ab=g(function*(t){if(ls(t))for(const e of t.zr)yield e(!0)}),Ab.apply(this,arguments)}function au(t){return Sb.apply(this,arguments)}function Sb(){return Sb=g(function*(t){for(const e of t.zr)yield e(!1)}),Sb.apply(this,arguments)}function Cp(t,e){const n=R(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),Rb(n)?Mb(n):cu(n).lr()&&xb(n,e))}function zl(t,e){const n=R(t),r=cu(n);n.Wr.delete(e),r.lr()&&JF(n,e),0===n.Wr.size&&(r.lr()?r._r():ls(n)&&n.Jr.set("Unknown"))}function xb(t,e){t.Yr.X(e.targetId),cu(t).br(e)}function JF(t,e){t.Yr.X(e),cu(t).vr(e)}function Mb(t){t.Yr=new IJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),cu(t).start(),t.Jr.Br()}function Rb(t){return ls(t)&&!cu(t).hr()&&t.Wr.size>0}function ls(t){return 0===R(t).Gr.size}function XF(t){t.Yr=void 0}function AX(t){return kb.apply(this,arguments)}function kb(){return kb=g(function*(t){t.Wr.forEach((e,n)=>{xb(t,e)})}),kb.apply(this,arguments)}function SX(t,e){return Nb.apply(this,arguments)}function Nb(){return Nb=g(function*(t,e){XF(t),Rb(t)?(t.Jr.Kr(e),Mb(t)):t.Jr.set("Unknown")}),Nb.apply(this,arguments)}function xX(t,e,n){return Ob.apply(this,arguments)}function Ob(){return Ob=g(function*(t,e,n){if(t.Jr.set("Online"),e instanceof eF&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tp(t,r)}else if(e instanceof pp?t.Yr.ot(e):e instanceof ZP?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(ee.min()))try{const r=yield jF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),JF(i,a);const c=new os(u.target,a,1,u.sequenceNumber);xb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Tp(t,r)}var r}),Ob.apply(this,arguments)}function Tp(t,e,n){return Pb.apply(this,arguments)}function Pb(){return Pb=g(function*(t,e,n){if(!eo(e))throw e;t.Gr.add(1),yield au(t),t.Jr.set("Offline"),n||(n=()=>jF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield Wl(t)}))}),Pb.apply(this,arguments)}function ZF(t,e){return e().catch(n=>Tp(t,n,e))}function uu(t){return Fb.apply(this,arguments)}function Fb(){return Fb=g(function*(t){const e=R(t),n=ds(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;MX(e);)try{const i=yield aX(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,RX(e,i)}catch(i){yield Tp(e,i)}eL(e)&&tL(e)}),Fb.apply(this,arguments)}function MX(t){return ls(t)&&t.Qr.length<10}function RX(t,e){t.Qr.push(e);const n=ds(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function eL(t){return ls(t)&&!ds(t).hr()&&t.Qr.length>0}function tL(t){ds(t).start()}function kX(t){return Lb.apply(this,arguments)}function Lb(){return Lb=g(function*(t){ds(t).kr()}),Lb.apply(this,arguments)}function NX(t){return Vb.apply(this,arguments)}function Vb(){return Vb=g(function*(t){const e=ds(t);for(const n of t.Qr)e.Dr(n.mutations)}),Vb.apply(this,arguments)}function OX(t,e,n){return Ub.apply(this,arguments)}function Ub(){return Ub=g(function*(t,e,n){const r=t.Qr.shift(),i=ib.from(r,e,n);yield ZF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uu(t)}),Ub.apply(this,arguments)}function PX(t,e){return Bb.apply(this,arguments)}function Bb(){return Bb=g(function*(t,e){var n;e&&ds(t).Sr&&(yield(n=g(function*(r,i){if(QP(s=i.code)&&s!==E.ABORTED){const o=r.Qr.shift();ds(r).wr(),yield ZF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),eL(t)&&tL(t)}),Bb.apply(this,arguments)}function $b(){return $b=g(function*(t,e){const n=R(t);e?(n.Gr.delete(2),yield Wl(n)):e||(n.Gr.add(2),yield au(n),n.Jr.set("Unknown"))}),$b.apply(this,arguments)}function cu(t){return t.Xr||(t.Xr=function(e,n,r){const i=R(e);return i.Fr(),new bX(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:AX.bind(null,t),Ni:SX.bind(null,t),Pr:xX.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Xr.wr(),Rb(t)?Mb(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),XF(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function ds(t){return t.Zr||(t.Zr=function(e,n,r){const i=R(e);return i.Fr(),new IX(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:kX.bind(null,t),Ni:PX.bind(null,t),Nr:NX.bind(null,t),Cr:OX.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Zr.wr(),yield uu(t)):(yield t.Zr.stop(),t.Qr.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class Hb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(t,e){if(at("AsyncQueue",`${e}: ${t}`),eo(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=ZE(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class nL{constructor(){this.eo=new vt(V.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):B():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new hu(e,n,du.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class FX{constructor(){this.so=void 0,this.listeners=[]}}class LX{constructor(){this.queries=new iu(e=>OP(e),Rl),this.onlineState="Unknown",this.io=new Set}}function Gb(){return Gb=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new FX),i)try{s.so=yield n.onListen(r)}catch(o){const a=lu(o,`Initialization of query '${YE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&Kb(n)}),Gb.apply(this,arguments)}function zb(){return zb=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),zb.apply(this,arguments)}function VX(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&Kb(n)}function UX(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Kb(t){t.io.forEach(e=>{e.next()})}class Qb{constructor(e,n,r){this.query=e,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.ho(e)&&(this.ao.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class sL{constructor(e){this.key=e}}class oL{constructor(e){this.key=e}}class aL{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=Ee(),this.mutatedKeys=Ee(),this.Ao=PP(e),this.Ro=new du(this.Ao)}get Po(){return this.To}bo(e,n){const r=n?n.vo:new nL,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=ap(this.query)&&i.size===this.query.limit?i.last():null,c=up(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=kl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||c)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),ap(this.query)||up(this.query))for(;o.size>this.query.limit;){const l=ap(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new hu(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new nL,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Ee(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new oL(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new sL(r))}),n}ko(e){this.To=e.zn,this.Io=Ee();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return hu.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class $X{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HX{constructor(e){this.key=e,this.$o=!1}}class qX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new iu(a=>OP(a),Rl),this.Mo=new Map,this.Lo=new Set,this.Bo=new vt(V.comparator),this.Uo=new Map,this.qo=new wb,this.Ko={},this.jo=new Map,this.Qo=no.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function GX(t,e){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t,e){const n=vI(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield su(n.localStore,ur(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Jb(n,e,r,"current"===a),n.isPrimaryClient&&Cp(n.remoteStore,o)}return i}),Yb.apply(this,arguments)}function Jb(t,e,n,r){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=g(function*(p,_,v,b){let w=_.view.bo(v);w.Bn&&(w=yield Ep(p.localStore,_.query,!1).then(({documents:X})=>_.view.bo(X,w)));const x=b&&b.targetChanges.get(_.targetId),U=_.view.applyChanges(w,p.isPrimaryClient,x);return uI(p,_.targetId,U.Co),U.snapshot}),function(p,_,v,b){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Ep(t.localStore,e,!0),s=new aL(e,i.zn),o=s.bo(i.documents),a=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);uI(t,n,u.Co);const c=new $X(e,n,s);return t.Oo.set(e,c),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}),Xb.apply(this,arguments)}function WX(t,e){return Zb.apply(this,arguments)}function Zb(){return Zb=g(function*(t,e){const n=R(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(s=>!Rl(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ou(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zl(n.remoteStore,r.targetId),fu(n,r.targetId)}).catch(ro))):(fu(n,r.targetId),yield ou(n.localStore,r.targetId,!0))}),Zb.apply(this,arguments)}function eI(){return eI=g(function*(t,e,n){const r=wI(t);try{const i=yield function(s,o){const a=R(s),u=jt.now(),c=o.reduce((d,h)=>d.add(h.key),Ee());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const p of o){const _=mJ(p,l.get(p.key));null!=_&&f.push(new is(p.key,_,AP(_.value.mapValue),ct.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new vt(he)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ai(r,i.changes),yield uu(r.remoteStore)}catch(i){const s=lu(i,"Failed to persist write");n.reject(s)}}),eI.apply(this,arguments)}function uL(t,e){return tI.apply(this,arguments)}function tI(){return tI=g(function*(t,e){const n=R(t);try{const r=yield oX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?G(o.$o):i.removedDocuments.size>0&&(G(o.$o),o.$o=!1))}),yield Ai(n,r,e)}catch(r){yield ro(r)}}),tI.apply(this,arguments)}function cL(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&Kb(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KX(t,e,n){return nI.apply(this,arguments)}function nI(){return nI=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new vt(V.comparator);o=o.insert(s,Ue.newNoDocument(s,ee.min()));const a=Ee().add(s),u=new Fl(ee.min(),new Map,new Qe(he),o,a);yield uL(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),cI(r)}else yield ou(r.localStore,e,!1).then(()=>fu(r,e,n)).catch(ro)}),nI.apply(this,arguments)}function QX(t,e){return rI.apply(this,arguments)}function rI(){return rI=g(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield sX(n.localStore,e);aI(n,r,null),oI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ai(n,i)}catch(i){yield ro(i)}}),rI.apply(this,arguments)}function YX(t,e,n){return iI.apply(this,arguments)}function iI(){return iI=g(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);aI(r,e,n),oI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ai(r,i)}catch(i){yield ro(i)}}),iI.apply(this,arguments)}function oI(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function aI(t,e,n){const r=R(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function fu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||lL(t,r)})}function lL(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(zl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),cI(t))}function uI(t,e,n){for(const r of n)r instanceof sL?(t.qo.addReference(r.key,e),XX(t,r)):r instanceof oL?(A("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||lL(t,r.key)):B()}function XX(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(A("SyncEngine","New document in limbo: "+n),t.Lo.add(r),cI(t))}function cI(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new V(ve.fromString(e)),r=t.Qo.next();t.Uo.set(r,new HX(n)),t.Bo=t.Bo.insert(n,r),Cp(t.remoteStore,new os(ur(Ga(n.path)),r,2,Wn.I))}}function Ai(t,e,n){return lI.apply(this,arguments)}function lI(){return lI=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=pb.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(c,h=>D.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!eo(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,_)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),lI.apply(this,arguments)}function ZX(t,e){return dI.apply(this,arguments)}function dI(){return dI=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield BF(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(n,r.Gn)}var i}),dI.apply(this,arguments)}function eZ(t,e){const n=R(t),r=n.Uo.get(e);if(r&&r.$o)return Ee().add(r.key);{let i=Ee();const s=n.Mo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function vI(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KX.bind(null,e),e.Fo.Pr=VX.bind(null,e.eventManager),e.Fo.zo=UX.bind(null,e.eventManager),e}function wI(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YX.bind(null,e),e}class cZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.k=Gl(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new iX(t,e,n,r)}(this.persistence,new VF,e.initialUser,this.k)}Yo(e){return new mX(Eb.ks,this.k)}Jo(e){return new zF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class EI{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>cL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ZX.bind(null,r.syncEngine),yield function(t,e){return $b.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LX}createDatastore(e){const n=Gl(e.databaseInfo.databaseId),r=new EX(e.databaseInfo);return new DX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>cL(this.syncEngine,a,0),o=KF.bt()?new KF:new _X,new TX(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new qX(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);A("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield au(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gZ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=_P.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=lu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function pL(t,e){return bI.apply(this,arguments)}function bI(){return bI=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield BF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),bI.apply(this,arguments)}function gL(t,e){return II.apply(this,arguments)}function II(){return II=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield DI(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=g(function*(o,a){const u=R(o);u.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const c=ls(u);u.Gr.add(3),yield au(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield Wl(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),II.apply(this,arguments)}function DI(t){return CI.apply(this,arguments)}function CI(){return CI=g(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield pL(t,new cZ)),t.offlineComponents}),CI.apply(this,arguments)}function Sp(t){return TI.apply(this,arguments)}function TI(){return TI=g(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield gL(t,new EI)),t.onlineComponents}),TI.apply(this,arguments)}function xI(){return xI=g(function*(t){const e=yield Sp(t),n=e.eventManager;return n.onListen=GX.bind(null,e.syncEngine),n.onUnlisten=WX.bind(null,e.syncEngine),n}),xI.apply(this,arguments)}function vL(t,e,n={}){const r=new St;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Ap({next:d=>{s.enqueueAndForget(()=>function(t,e){return zb.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new T(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Qb(o,c,{includeMetadataChanges:!0,wo:!0});return function(t,e){return Gb.apply(this,arguments)}(i,l)}(yield function(t){return xI.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}class DZ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const wL=new Map;function MI(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EL(t){if(!V.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bL(t){if(V.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":B()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class DL{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ql{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DL({}),this._settingsFrozen=!1,e instanceof Kl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(i.options.projectId)}(e))}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DL(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new qY;switch(n.type){case"gapi":const r=n.client;return G(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new KY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wL.get(e);n&&(A("ComponentProvider","Removing Datastore"),wL.delete(e),n.terminate())}(this),Promise.resolve()}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class tn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tn(this.firestore,e,this._query)}}class Xr extends tn{constructor(e,n,r){super(e,n,Ga(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new V(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Si(t,e,...n){if(t=Dn(t),MI("collection","path",e),t instanceof Ql){const r=ve.fromString(e,...n);return bL(r),new Xr(t,null,r)}{if(!(t instanceof et||t instanceof Xr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return bL(r),new Xr(t.firestore,null,r)}}class SZ{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Tb(this,"async_queue_retry"),this.Ra=()=>{const n=Dp();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const n=Dp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const n=new St;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return g(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(n){if(!eo(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const n=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=n,n}enqueueAfterDelay(e,n,r){this.Pa(),this.Aa.indexOf(e)>-1&&(n=0);const i=Hb.createAndSchedule(this,e,n,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&B()}verifyOperationInProgress(){}Sa(){var e=this;return g(function*(){let n;do{n=e.ma,yield n}while(n!==e.ma)})()}Da(e){for(const n of this.pa)if(n.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.pa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const n=this.pa.indexOf(e);this.pa.splice(n,1)}}class $e extends Ql{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new SZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||TL(this),this._firestoreClient.terminate()}}function CL(t=J_()){return Ma(t,"firestore").getImmediate()}function kt(t){return t._firestoreClient||TL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new DZ(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new gZ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class gu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(xt.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xL{constructor(e){this._methodName=e}}class kI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const MZ=/^__.*__$/;class RZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}function RL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Mp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Rp(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(RL(this.xa)&&MZ.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class kZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||Gl(e)}ja(e,n,r,i=!1){return new Mp({xa:e,methodName:n,Ka:r,path:Xt.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function mu(t){const e=t._freezeSettings(),n=Gl(t._databaseId);return new kZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NI(t,e,n,r,i,s={}){const o=t.ja(s.merge||s.mergeFields?2:0,e,n,i);PI("Data must be an object, but it was:",o,r);const a=FL(r,o);let u,c;if(s.merge)u=new ja(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=FI(e,d,n);if(!o.contains(h))throw new T(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);VL(l,h)||l.push(h)}u=new ja(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new RZ(new Zt(a),u,c)}function so(t,e){if(LL(t=Dn(t)))return PI("Unsupported field value:",e,t),FL(t,e);if(t instanceof xL)return function(n,r){if(!RL(r.xa))throw r.Ua(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=so(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Dn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return VP(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=jt.fromDate(n);return{timestampValue:Vl(r.k,i)}}if(n instanceof jt){const i=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vl(r.k,i)}}if(n instanceof kI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:iF(r.k,n._byteString)};if(n instanceof et){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ua(`Unsupported field value: ${xp(n)}`)}(t,e)}function FL(t,e){const n={};return EP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=so(i,e.Fa(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function LL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof kI||t instanceof io||t instanceof et||t instanceof xL)}function PI(t,e,n){if(!LL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xp(n);throw e.Ua("an object"===r?t+" a custom object":t+" "+r)}var r}function FI(t,e,n){if((e=Dn(e))instanceof gu)return e._internalPath;if("string"==typeof e)return LI(t,e);throw Rp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const FZ=new RegExp("[~\\*/\\[\\]]");function LI(t,e,n){if(e.search(FZ)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gu(...e.split("."))._internalPath}catch(r){throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(E.INVALID_ARGUMENT,a+t+u)}function VL(t,e){return t.some(n=>n.isEqual(e))}class VI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class LZ extends VI{data(){return super.data()}}function kp(t,e){return"string"==typeof e?LI(t,e):e instanceof gu?e._internalPath:e._delegate._internalPath}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends VI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Np extends yu{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Np(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Np(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Np(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:VZ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class UI{}function ao(t,...e){for(const n of e)t=n._apply(t);return t}class UZ extends UI{constructor(e,n,r){super(),this.Ga=e,this.za=n,this.Ha=r,this.type="where"}_apply(e){const n=mu(e.firestore),r=function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on FieldPath.documentId().`);if("in"===c||"not-in"===c){GL(l,c);const f=[];for(const p of l)f.push(qL(a,i,p));d={arrayValue:{values:f}}}else d=qL(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||GL(l,c),d=function(t,e,n,r=!1){return so(n,t.ja(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);const h=yn.create(u,c,d);return function(f,p){if(p.V()){const v=KE(f);if(null!==v&&!v.isEqual(p.field))throw new T(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${p.field.toString()}'`);const b=zE(f);null!==b&&WL(0,p.field,b)}const _=function(v,b){for(const w of v.filters)if(b.indexOf(w.op)>=0)return w.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==_)throw new T(E.INVALID_ARGUMENT,_===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,0,n,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new tn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Di(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function uo(t,e,n){const r=e,i=kp("where",t);return new UZ(i,r,n)}class BZ extends UI{constructor(e,n){super(),this.Ga=e,this.Ja=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new qa(i,s);return function(a,u){if(null===zE(a)){const c=KE(a);null!==c&&WL(0,c,u.field)}}(r,o),o}(e._query,this.Ga,this.Ja);return new tn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Di(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class BL extends UI{constructor(e,n,r){super(),this.type=e,this.Ya=n,this.Xa=r}_apply(e){return new tn(e.firestore,e.converter,NP(e._query,this.Ya,this.Xa))}}function qL(t,e,n){if("string"==typeof(n=Dn(n))){if(""===n)throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(e)&&-1!==n.indexOf("/"))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!V.isDocumentKey(r))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return np(t,new V(r))}if(n instanceof et)return np(t,n._key);throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${xp(n)}.`)}function GL(t,e){if(!Array.isArray(t)||0===t.length)throw new T(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new T(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WL(t,e,n){if(!n.isEqual(e))throw new T(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class co extends class{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){const r={};return Ks(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new kI(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);G(yF(r));const i=new Kl(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function lo(t){t=ye(t,tn);const e=ye(t.firestore,$e),n=kt(e),r=new co(e);return function(t){if(up(t)&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),vL(n,t._query).then(i=>new _u(e,r,t,i))}function zL(t,e){const n=ye(t.firestore,$e),r=function(t,e,...n){if(t=Dn(t),1===arguments.length&&(e=_P.A()),MI("doc","path",e),t instanceof Ql){const r=ve.fromString(e,...n);return EL(r),new et(t,null,new V(r))}{if(!(t instanceof et||t instanceof Xr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return EL(r),new et(t.firestore,t instanceof Xr?t.converter:null,new V(r))}}(t),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function(t,e){return function(n,r){const i=new St;return n.asyncQueue.enqueueAndForget(g(function*(){return function(t,e,n){return eI.apply(this,arguments)}(yield function(t){return Sp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(kt(t),e)}(n,[NI(mu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}!function(t,e=!0){Ua="9.6.1",Cn(new fn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new $e(i,new WY(n.getProvider("auth-internal")),new QY(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Ke(gP,"3.4.1",t),Ke(gP,"3.4.1","esm2017")}(),Wk({apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",projectId:"dosapointfirebase"});const WZ=ol(),xi=CL();let ho=(()=>{class t{constructor(n){this.router=n,this.menuFromDb=[],this.allUser=[]}writeToUsersCollection(n){return g(function*(){yield zL(Si(xi,"users"),n)})()}writeToOrdersCollection(n){return g(function*(){const r={orderNumber:n.orderNumber,customerName:n.customerName,mobile:n.mobile,orderItems:n.orderedItems,totalAmount:n.totalAmount,orderDate:n.orderDate,orderStatus:n.orderStatus};yield zL(Si(xi,"orders"),r)})()}verifyCredentials(n){return g(function*(){const r=ao(Si(xi,"users"),uo("email","==",n.email),uo("activated","==",!0));return(yield lo(r)).size>0?1:0})()}verifyAdminCredentials(n){return g(function*(){const r=ao(Si(xi,"users"),uo("email","==",n.email),uo("activated","==",!0),uo("role","in",["admin","developer"]));return(yield lo(r)).size>0?1:0})()}checkAlreadyRegisteredMobile(n){return g(function*(){const r=ao(Si(xi,"users"),uo("mobile","==",n.mobile));return(yield lo(r)).size>0?1:0})()}getUserByEmail(n){var r=this;return g(function*(){const i=ao(Si(xi,"users"),uo("email","==",n));return(yield lo(i)).forEach(o=>{r.userInfo=o.data()}),r.userInfo})()}getMenu(){var n=this;return g(function*(){if(n.menuFromDb.length<=0){const r=ao(Si(xi,"menu"));(yield lo(r)).forEach(s=>{n.menuFromDb.push(s.data())})}return n.menuFromDb})()}getAllUser(){var n=this;return g(function*(){if(n.menuFromDb.length<=0){const r=ao(Si(xi,"users"));(yield lo(r)).forEach(s=>{n.allUser.push(s.data())})}return n.allUser})()}getNewOrderId(){var n=this;return g(function*(){const r=ao(Si(xi,"orders"),function(t,e="asc"){const n=e,r=kp("orderBy","orderDate");return new BZ(r,n)}(0,"desc"),(function(t,e){if(e<=0)throw new T(E.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",1),new BL("limit",1,"F")));return(yield lo(r)).forEach(s=>{n.newOrderId=s.data().orderNumber}),n.newOrderId})()}get isLoggedIn(){return null===localStorage.getItem("user")}SignOut(){WZ.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("userInfo"),this.menuFromDb.length=0,this.router.navigate(["customer-login"])})}clearMenu(){this.menuFromDb.length=0}}return t.\u0275fac=function(n){return new(n||t)(j(ze))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zZ(t,e){1&t&&(m(0,"div"),M(1,"Email is required"),y())}function KZ(t,e){1&t&&(m(0,"div"),M(1,"Please enter a valid email"),y())}function QZ(t,e){if(1&t&&(m(0,"div",19),H(1,zZ,2,0,"div",13),H(2,KZ,2,0,"div",13),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.email.errors.required),O(1),F("ngIf",n.f.email.errors.pattern)}}function YZ(t,e){1&t&&(m(0,"div"),M(1,"Password is required"),y())}function JZ(t,e){1&t&&(m(0,"div"),M(1,"Password should be minimum 6 characters"),y())}function XZ(t,e){if(1&t&&(m(0,"div",19),H(1,YZ,2,0,"div",13),H(2,JZ,2,0,"div",13),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.password.errors.required),O(1),F("ngIf",n.f.password.errors.minlength)}}function ZZ(t,e){1&t&&(m(0,"div"),M(1,"Invalid Password! Please retry."),y())}function eee(t,e){1&t&&(m(0,"div"),M(1,"Email is not registered."),y())}function tee(t,e){1&t&&(m(0,"div"),M(1,"Email is not registered as Admin."),y())}function nee(t,e){1&t&&Me(0,"span",20)}const KL=function(t){return{"is-invalid":t}},ree=ol();let iee=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.adminLoginForm=fi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.notRegisteredError=!1,this.notAdminError=!1}get f(){return this.adminLoginForm.controls}onSubmit(){this.submitted=!0,this.credentialsError=!1,this.notRegisteredError=!1,!this.adminLoginForm.invalid&&this.submitted&&(this.loading=!0,RN(ree,this.adminLoginForm.value.email,this.adminLoginForm.value.password).then(n=>{this.userService.verifyAdminCredentials(this.adminLoginForm.value).then(r=>{0==r?(this.notAdminError=!0,this.loading=!1):(this.loading=!1,console.log("signed in"),this.router.navigate(["/admin-home"]))})}).catch(n=>{const r=n.code,i=n.message;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1),console.log("Error:",i,r),console.log("error code:",r)}))}ngOnInit(){this.adminLoginForm=this.formBuilder.group({email:["",[mt.required,mt.email,mt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[mt.required]]})}}return t.\u0275fac=function(n){return new(n||t)(I(Bh),I(ze),I(ho))},t.\u0275cmp=on({type:t,selectors:[["app-admin-login"]],decls:26,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),M(8,"Admin Login"),y(),m(9,"form",8),Oe("ngSubmit",function(){return r.onSubmit()}),m(10,"div",9),Me(11,"input",10),H(12,QZ,3,2,"div",11),y(),m(13,"div",9),Me(14,"input",12),H(15,XZ,3,2,"div",11),y(),H(16,ZZ,2,0,"div",13),H(17,eee,2,0,"div",13),H(18,tee,2,0,"div",13),m(19,"button",14),M(20,"Login "),H(21,nee,1,0,"span",15),y(),m(22,"div",16),m(23,"div",17),m(24,"a",18),M(25,"Customer Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(9),F("formGroup",r.adminLoginForm),O(2),F("ngClass",vr(9,KL,r.submitted&&r.f.email.errors)),O(1),F("ngIf",r.submitted&&r.f.email.errors),O(2),F("ngClass",vr(11,KL,r.submitted&&r.f.password.errors)),O(1),F("ngIf",r.submitted&&r.f.password.errors),O(1),F("ngIf",r.credentialsError),O(1),F("ngIf",r.notRegisteredError),O(1),F("ngIf",r.notAdminError),O(3),F("ngIf",r.loading))},directives:[kc,Ac,Ms,xs,Tc,Ea,Rs,bc,As,Nc,Fs],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),t})(),see=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["app-view-orders"]],decls:25,vars:0,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"table"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),M(7,"Order Details"),y(),Me(8,"hr",7),m(9,"div"),m(10,"table",8),m(11,"thead"),m(12,"tr"),m(13,"th"),M(14,"Name"),y(),y(),y(),m(15,"tbody"),m(16,"tr"),m(17,"td"),M(18,"Dinesh"),y(),y(),y(),y(),y(),m(19,"div",9),m(20,"div",10),M(21,"Total Sale: 0 Rs. "),y(),y(),m(22,"div",9),m(23,"div",10),M(24,"Total Sale Till Date: 0 Rs. "),y(),y(),y(),y(),y(),y(),y(),y())},styles:[""]}),t})(),oee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["app-view-users"]],decls:22,vars:0,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"table"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),M(7,"Users"),y(),Me(8,"hr",7),m(9,"div"),m(10,"table",8),m(11,"thead"),m(12,"tr"),m(13,"th"),M(14,"Name"),y(),y(),y(),m(15,"tbody"),m(16,"tr"),m(17,"td"),M(18,"Dinesh"),y(),y(),y(),y(),y(),m(19,"div",9),m(20,"div",10),M(21,"Total Users: "),y(),y(),y(),y(),y(),y(),y(),y())},styles:[""]}),t})();function aee(t,e){return n=>{const i=n.controls[e];i.errors&&!i.errors.confirmedValidator||i.setErrors(n.controls[t].value!==i.value?{confirmedValidator:!0}:null)}}function uee(t,e){1&t&&(m(0,"div"),M(1,"Name is required"),y())}function cee(t,e){1&t&&(m(0,"div"),M(1,"Maximum length can be 50 characters only."),y())}function lee(t,e){1&t&&(m(0,"div"),M(1,"Please enter a valid name."),y())}function dee(t,e){if(1&t&&(m(0,"div",23),H(1,uee,2,0,"div",20),H(2,cee,2,0,"div",20),H(3,lee,2,0,"div",20),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.fullName.errors.required),O(1),F("ngIf",n.f.fullName.errors.maxlength),O(1),F("ngIf",n.f.fullName.errors.pattern)}}function hee(t,e){1&t&&(m(0,"div"),M(1,"Mobile Number is required"),y())}function fee(t,e){1&t&&(m(0,"div"),M(1,"Please Enter 10 Digits Mobile Number "),y())}function pee(t,e){if(1&t&&(m(0,"div",23),H(1,hee,2,0,"div",20),H(2,fee,2,0,"div",20),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.mobile.errors.required),O(1),F("ngIf",n.f.mobile.errors.pattern)}}function gee(t,e){1&t&&(m(0,"div"),M(1,"Email is required"),y())}function mee(t,e){1&t&&(m(0,"div"),M(1,"Please enter a valid email"),y())}function yee(t,e){if(1&t&&(m(0,"div",23),H(1,gee,2,0,"div",20),H(2,mee,2,0,"div",20),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.email.errors.required),O(1),F("ngIf",n.f.email.errors.pattern)}}function _ee(t,e){1&t&&(m(0,"div"),M(1,"Password is required"),y())}function vee(t,e){1&t&&(m(0,"div"),M(1,"Password should be minimum 6 characters"),y())}function wee(t,e){if(1&t&&(m(0,"div",23),H(1,_ee,2,0,"div",20),H(2,vee,2,0,"div",20),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.password.errors.required),O(1),F("ngIf",n.f.password.errors.minlength)}}function Eee(t,e){1&t&&(m(0,"div"),M(1,"Confirm Password is required"),y())}function bee(t,e){1&t&&(m(0,"div"),M(1,"Password and Confirm Password must be same."),y())}function Iee(t,e){if(1&t&&(m(0,"div",23),H(1,Eee,2,0,"div",20),H(2,bee,2,0,"div",20),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.confirmPassword.errors.required),O(1),F("ngIf",n.f.confirmPassword.errors.confirmedValidator)}}function Dee(t,e){1&t&&Me(0,"span",24)}function Cee(t,e){1&t&&(m(0,"div"),M(1,"Mobile Number is already registered. Please Login."),y())}function Tee(t,e){1&t&&(m(0,"div"),M(1,"Email is already registered. Please Login."),y())}const Xl=function(t){return{"is-invalid":t}},Aee=ol();let See=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.registrationForm=fi,this.submitted=!1,this.loading=!1,this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1}get f(){return this.registrationForm.controls}onSubmit(){this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1,this.submitted=!0,!this.registrationForm.invalid&&this.submitted&&(this.loading=!0,this.userService.checkAlreadyRegisteredMobile(this.registrationForm.value).then(n=>{1==n?(this.alreadyRegisteredMobile=!0,this.loading=!1,console.log("already registered mobile")):(console.log("registering"),this.loading=!1,function(t,e,n){return ew.apply(this,arguments)}(Aee,this.registrationForm.value.email,this.registrationForm.value.password).then(r=>{this.registerUserForValidation(this.registrationForm),function(t,e){uw.apply(this,arguments)}(r.user,{displayName:this.registrationForm.value.fullName}),console.log("user created"),this.router.navigate(["/registration-success"])}).catch(r=>{const i=r.code,s=r.message;"auth/email-already-in-use"==i&&(this.alreadyRegisteredEmail=!0,this.loading=!1),console.log("error:",s,i)}))}))}ngOnInit(){this.registrationForm=this.formBuilder.group({fullName:["",[mt.required,mt.maxLength(50),mt.pattern("^[a-zA-Z ]*$")]],mobile:["",[mt.required,mt.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],email:["",[mt.required,mt.email,mt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[mt.required]],confirmPassword:["",[mt.required]],role:[""],activated:[""],timeStamp:[""]},{validator:aee("password","confirmPassword")})}registerUserForValidation(n){n.controls.role.setValue("user"),n.controls.password.setValue("********"),n.controls.confirmPassword.setValue("********"),n.controls.activated.setValue(!1),n.controls.timeStamp.setValue(new Date),this.userService.writeToUsersCollection(n.value)}}return t.\u0275fac=function(n){return new(n||t)(I(Bh),I(ze),I(ho))},t.\u0275cmp=on({type:t,selectors:[["app-customer-registration"]],decls:38,vars:24,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-2","bd-highlight","note"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","fullName","type","text","formControlName","fullName","placeholder","Full Name","required","","autofocus","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputMobile","type","text","maxlength","10","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","formControlName","mobile","placeholder","Mobile Number","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4",3,"ngClass"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),M(8,"New Registration"),y(),m(9,"div",8),m(10,"div",9),M(11,"(Below details will be verified by admin)"),y(),y(),m(12,"form",10),Oe("ngSubmit",function(){return r.onSubmit()}),m(13,"div",11),m(14,"div",11),Me(15,"input",12),H(16,dee,4,3,"div",13),y(),m(17,"div",11),Me(18,"input",14),H(19,pee,3,2,"div",13),y(),y(),m(20,"div",11),Me(21,"input",15),H(22,yee,3,2,"div",13),y(),m(23,"div",11),Me(24,"input",16),H(25,wee,3,2,"div",13),y(),m(26,"div",11),Me(27,"input",17),H(28,Iee,3,2,"div",13),y(),m(29,"button",18),M(30,"Submit "),H(31,Dee,1,0,"span",19),y(),H(32,Cee,2,0,"div",20),H(33,Tee,2,0,"div",20),m(34,"div",8),m(35,"div",21),m(36,"a",22),M(37,"Back To Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(12),F("formGroup",r.registrationForm),O(3),F("ngClass",vr(14,Xl,r.submitted&&r.f.fullName.errors)),O(1),F("ngIf",r.submitted&&r.f.fullName.errors),O(2),F("ngClass",vr(16,Xl,r.submitted&&r.f.mobile.errors)),O(1),F("ngIf",r.submitted&&r.f.mobile.errors),O(2),F("ngClass",vr(18,Xl,r.submitted&&r.f.email.errors)),O(1),F("ngIf",r.submitted&&r.f.email.errors),O(2),F("ngClass",vr(20,Xl,r.submitted&&r.f.password.errors)),O(1),F("ngIf",r.submitted&&r.f.password.errors),O(2),F("ngClass",vr(22,Xl,r.submitted&&r.f.confirmPassword.errors)),O(1),F("ngIf",r.submitted&&r.f.confirmPassword.errors),O(3),F("ngIf",r.loading),O(1),F("ngIf",r.alreadyRegisteredMobile),O(1),F("ngIf",r.alreadyRegisteredEmail))},directives:[kc,Ac,Ms,xs,Tc,Ea,Rs,bc,As,y_,Nc,Fs],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}"]}),t})();function xee(t,e){1&t&&(m(0,"div"),M(1,"Email is required"),y())}function Mee(t,e){1&t&&(m(0,"div"),M(1,"Please enter a valid email"),y())}function Ree(t,e){if(1&t&&(m(0,"div",21),H(1,xee,2,0,"div",15),H(2,Mee,2,0,"div",15),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.email.errors.required),O(1),F("ngIf",n.f.email.errors.pattern)}}function kee(t,e){1&t&&(m(0,"div"),M(1,"Password is required"),y())}function Nee(t,e){1&t&&(m(0,"div"),M(1,"Password should be minimum 6 characters"),y())}function Oee(t,e){if(1&t&&(m(0,"div",21),H(1,kee,2,0,"div",15),H(2,Nee,2,0,"div",15),y()),2&t){const n=Pt();O(1),F("ngIf",n.f.password.errors.required),O(1),F("ngIf",n.f.password.errors.minlength)}}function Pee(t,e){1&t&&Me(0,"span",22)}function Fee(t,e){1&t&&(m(0,"div"),M(1,"Invalid Password! Please retry."),y())}function Lee(t,e){1&t&&(m(0,"div"),M(1,"Your account is not activated yet."),y())}function Vee(t,e){1&t&&(m(0,"div"),M(1,"Email is not registered. Please register first."),y())}const QL=function(t){return{"is-invalid":t}},Uee=ol();let YL=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.loginForm=fi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.activationError=!1,this.notRegisteredError=!1}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.notRegisteredError=!1,this.activationError=!1,this.credentialsError=!1,!this.loginForm.invalid&&this.submitted&&(this.loading=!0,RN(Uee,this.loginForm.value.email,this.loginForm.value.password).then(n=>{this.userService.verifyCredentials(this.loginForm.value).then(r=>{0==r?(this.activationError=!0,this.loading=!1,localStorage.setItem("user","null")):(this.loading=!1,this.userData=n.user,localStorage.setItem("user",JSON.stringify(this.userData)),this.getUserInfo(this.loginForm.value.email),console.log("signed in"),this.router.navigate(["/menu"]))})}).catch(n=>{localStorage.removeItem("user");const r=n.code;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1)}))}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[mt.required,mt.email,mt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[mt.required]]})}getUserInfo(n){var r=this;return g(function*(){yield r.userService.getUserByEmail(n).then(i=>{r.userInfo=JSON.stringify(i)}),localStorage.setItem("userInfo",r.userInfo)})()}}return t.\u0275fac=function(n){return new(n||t)(I(Bh),I(ze),I(ho))},t.\u0275cmp=on({type:t,selectors:[["app-login"]],decls:30,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","email","true","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-registration"],[1,"d-flex","flex-row-reverse","bd-highlight"],["routerLink","/admin-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),M(8,"Login"),y(),m(9,"form",8),Oe("ngSubmit",function(){return r.onSubmit()}),m(10,"div",9),Me(11,"input",10),H(12,Ree,3,2,"div",11),y(),m(13,"div",9),Me(14,"input",12),H(15,Oee,3,2,"div",11),y(),m(16,"button",13),M(17,"Login "),H(18,Pee,1,0,"span",14),y(),H(19,Fee,2,0,"div",15),H(20,Lee,2,0,"div",15),H(21,Vee,2,0,"div",15),m(22,"div",16),m(23,"div",17),m(24,"a",18),M(25,"New Registration"),y(),y(),y(),m(26,"div",19),m(27,"div",17),m(28,"a",20),M(29,"Admin Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(9),F("formGroup",r.loginForm),O(2),F("ngClass",vr(9,QL,r.submitted&&r.f.email.errors)),O(1),F("ngIf",r.submitted&&r.f.email.errors),O(2),F("ngClass",vr(11,QL,r.submitted&&r.f.password.errors)),O(1),F("ngIf",r.submitted&&r.f.password.errors),O(3),F("ngIf",r.loading),O(1),F("ngIf",r.credentialsError),O(1),F("ngIf",r.activationError),O(1),F("ngIf",r.notRegisteredError))},directives:[kc,Ac,Ms,xs,Tc,Ea,m_,Rs,bc,As,Nc,Fs],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),t})();class Bee{}function jee(t,e){1&t&&Me(0,"span",12)}function $ee(t,e){if(1&t){const n=Zd();m(0,"tr"),m(1,"td"),M(2),y(),m(3,"td"),M(4),y(),m(5,"td"),m(6,"img",15),Oe("click",function(){const i=Ou(n),s=i.index,o=i.$implicit;return Pt(2).decreaseQuantity(s,o.quantity,o.price,o.itemName)}),y(),M(7),m(8,"img",16),Oe("click",function(){const i=Ou(n),s=i.index,o=i.$implicit;return Pt(2).increaseQuantity(s,o.quantity,o.price,o.itemName)}),y(),y(),m(9,"td"),M(10),y(),y()}if(2&t){const n=e.$implicit;O(2),nh(n.itemName),O(2),nh(n.price),O(3),Is(" ",n.quantity," "),O(3),Is(" ",n.price*n.quantity," ")}}function Hee(t,e){if(1&t&&(m(0,"table",13),m(1,"thead"),m(2,"tr"),m(3,"th"),M(4,"Item"),y(),m(5,"th"),M(6,"Price"),y(),m(7,"th"),M(8,"Quantity"),y(),m(9,"th"),M(10,"Amount"),y(),y(),y(),m(11,"tbody"),H(12,$ee,11,4,"tr",14),y(),y()),2&t){const n=Pt();O(12),F("ngForOf",n.menuFromDb)}}function qee(t,e){if(1&t&&(m(0,"div",17),m(1,"div",18),M(2),y(),y()),2&t){const n=Pt();O(2),Is("Total: ",n.finalAmount," Rs. ")}}function Gee(t,e){if(1&t){const n=Zd();m(0,"div",17),m(1,"button",19),Oe("click",function(){return Ou(n),Pt().orderConfirmation()}),M(2,"Order Now "),y(),y()}}function Wee(t,e){1&t&&(m(0,"div"),M(1,"Please add food to order."),y())}let zee=(()=>{class t{constructor(n,r){this.router=n,this.userService=r,this.order=new Bee,this.orderedItems="",this.menuFromDb=Array(),this.finalAmount=0,this.orderError=!1,this.foodItemIndex=[],this.newOrderNumber=0,n.events.forEach(i=>{i instanceof $h&&"popstate"===i.navigationTrigger&&(this.menuFromDb.length=0)})}ngOnInit(){this.menuFromDb.length=0,this.getMenu()}getMenu(){var n=this;return g(function*(){yield n.userService.getMenu().then(r=>{n.menuFromDb=r})})()}increaseQuantity(n,r,i,s){this.orderError=!1,this.menuFromDb[n].quantity=this.menuFromDb[n].quantity+1,this.finalAmount=this.finalAmount+i}decreaseQuantity(n,r,i,s){this.menuFromDb[n].quantity>0&&(this.menuFromDb[n].quantity=this.menuFromDb[n].quantity-1,this.finalAmount=this.finalAmount-i)}orderConfirmation(){var n=this;return g(function*(){n.finalAmount<=0?n.orderError=!0:confirm("Total Amount is: "+n.finalAmount+". Confirm the order?")&&(yield n.getNewOrderId(),n.orderedItems="",n.menuFromDb.forEach(i=>{var s=i.itemName+"-"+i.quantity;i.quantity>0&&(n.orderedItems.length>0&&(n.orderedItems=n.orderedItems+", "),n.orderedItems=n.orderedItems+s)}),n.userInfoObject=JSON.parse(localStorage.userInfo),n.order.orderNumber=n.newOrderNumber,n.order.customerName=n.userInfoObject.fullName,n.order.mobile=n.userInfoObject.mobile,n.order.orderedItems=n.orderedItems,n.order.totalAmount=n.finalAmount,n.order.orderDate=new Date,n.order.orderStatus="Completed",n.saveOrder(n.order),n.router.navigate(["order"],{state:{newOrderNumber:n.newOrderNumber}}))})()}getNewOrderId(){var n=this;return g(function*(){return yield n.userService.getNewOrderId().then(r=>{n.newOrderNumber=r+1}),n.newOrderNumber})()}saveOrder(n){var r=this;return g(function*(){yield r.userService.writeToOrdersCollection(n).then(i=>{console.log("Order is saved:")})})()}}return t.\u0275fac=function(n){return new(n||t)(I(ze),I(ho))},t.\u0275cmp=on({type:t,selectors:[["app-menu"]],decls:15,vars:5,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"menu","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],["class","d-flex flex-row-reverse bd-highlight",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["src","/assets/minus2.png","width","18vh","alt","-",3,"click"],["src","/assets/plus2.png","width","18.5vh","alt","-",3,"click"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight","fw-bold"],[1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm",3,"click"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),M(7,"Menu"),y(),Me(8,"hr",7),m(9,"div"),H(10,jee,1,0,"span",8),H(11,Hee,13,1,"table",9),y(),H(12,qee,3,1,"div",10),H(13,Gee,3,0,"div",10),H(14,Wee,2,0,"div",11),y(),y(),y(),y(),y(),y()),2&n&&(O(10),F("ngIf",r.menuFromDb.length<=0),O(1),F("ngIf",r.menuFromDb.length>0),O(1),F("ngIf",r.menuFromDb.length>0),O(1),F("ngIf",r.menuFromDb.length>0),O(1),F("ngIf",r.orderError))},directives:[As,fM],styles:[".menu[_ngcontent-%COMP%]{min-height:84vh}"]}),t})(),Kee=(()=>{class t{constructor(n,r){this.router=n,this.userService=r,this.orderNumber=history.state.newOrderNumber}ngOnInit(){console.log("order no. is:",this.orderNumber)}goToMenu(){this.userService.clearMenu(),this.router.navigate(["menu"])}}return t.\u0275fac=function(n){return new(n||t)(I(ze),I(ho))},t.\u0275cmp=on({type:t,selectors:[["app-order"]],decls:17,vars:1,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","text-center","mx-auto"],["aria-hidden","true",1,"fa","fa-check-circle","fa-3x"],[1,"p-3","display-6","text-center"],[1,"p-3","display-5","text-center"],[1,"p-4","display-4","text-center"],[1,"p-4","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),Me(7,"i",7),m(8,"h3",8),M(9,"Your order is confirmed."),y(),m(10,"h3",9),M(11),y(),m(12,"h3",10),M(13,"Thanks!"),y(),y(),m(14,"div",11),m(15,"button",12),Oe("click",function(){return r.goToMenu()}),M(16,"Order More "),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(11),Is("Order No. ",r.orderNumber,""))},styles:[""]}),t})(),Qee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["app-registration-success"]],decls:17,vars:0,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-3","display-4","text-center"],[1,"p-3","display-6","text-center"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-login"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),M(8,"Registration Success!"),y(),m(9,"h3",8),M(10,"Your account will be activated after verification."),y(),m(11,"h3",9),M(12,"Thanks!"),y(),y(),m(13,"div",10),m(14,"div",11),m(15,"a",12),M(16,"Back To Login"),y(),y(),y(),y(),y(),y(),y(),y(),y())},directives:[Fs],styles:[""]}),t})(),vu=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}canActivate(n,r){return!this.userService.isLoggedIn||(this.router.navigate(["customer-login"]),!1)}}return t.\u0275fac=function(n){return new(n||t)(j(ho),j(ze))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yee=[{path:"",component:YL},{path:"admin-login",component:iee},{path:"customer-login",component:YL},{path:"customer-registration",component:See},{path:"registration-success",component:Qee,canActivate:[vu]},{path:"menu",component:zee,canActivate:[vu]},{path:"admin-home",component:Z7,canActivate:[vu]},{path:"view-orders",component:see,canActivate:[vu]},{path:"view-users",component:oee,canActivate:[vu]},{path:"order",component:Kee,canActivate:[vu]}];let Jee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[[kk.forRoot(Yee)],kk]}),t})();function Xee(t,e){if(1&t){const n=Zd();m(0,"a",5),Oe("click",function(){return Ou(n),Pt().logout()}),m(1,"span",6),M(2,"Logout"),y(),y()}}let Zee=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}ngOnInit(){}logout(){this.userService.SignOut()}}return t.\u0275fac=function(n){return new(n||t)(I(ho),I(ze))},t.\u0275cmp=on({type:t,selectors:[["app-header"]],decls:6,vars:1,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","/assets/icon2.jpg","alt","Dosa Point","width","40","height","34",1,"d-inline-block","align-text-top"],["class","navbar-brand",3,"click",4,"ngIf"],[1,"navbar-brand",3,"click"],[1,"navOption"]],template:function(n,r){1&n&&(m(0,"nav",0),m(1,"div",1),m(2,"a",2),Me(3,"img",3),M(4," Dosa Point "),y(),H(5,Xee,3,0,"a",4),y(),y()),2&n&&(O(5),F("ngIf",!r.userService.isLoggedIn))},directives:[As],styles:[""]}),t})(),ete=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-dark","bg-primary"],["href","#",1,"navbar-brand"]],template:function(n,r){1&n&&(m(0,"nav",0),m(1,"a",1),M(2,"Stay safe and healthy!"),y(),y())},styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:15px!important;margin-left:1%}"]}),t})(),tte=(()=>{class t{constructor(){this.title="dosa-point"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=on({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(Me(0,"app-header"),Me(1,"router-outlet"),Me(2,"app-footer"))},directives:[Zee,R_,ete],styles:[""]}),t})();var wu=hs(940);const JL="@firebase/installations",ZL="w:0.5.4",eV="FIS_v2",Mi=new Wr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tV(t){return t instanceof mi&&t.code.includes("request-failed")}function HI({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function nV(t){return{token:t.token,requestStatus:2,expiresIn:ate(t.expiresIn),creationTime:Date.now()}}function qI(t,e){return GI.apply(this,arguments)}function GI(){return GI=g(function*(t,e){const r=(yield e.json()).error;return Mi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),GI.apply(this,arguments)}function rV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iV(t,{refreshToken:e}){const n=rV(t);return n.append("Authorization",function(t){return`${eV} ${t}`}(e)),n}function WI(t){return zI.apply(this,arguments)}function zI(){return zI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),zI.apply(this,arguments)}function ate(t){return Number(t.replace("s","000"))}function cte(t,e){return KI.apply(this,arguments)}function KI(){return KI=g(function*(t,{fid:e}){const n=HI(t),s={method:"POST",headers:rV(t),body:JSON.stringify({fid:e,authVersion:eV,appId:t.appId,sdkVersion:ZL})},o=yield WI(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:nV(a.authToken)}}throw yield qI("Create Installation",o)}),KI.apply(this,arguments)}function sV(t){return new Promise(e=>{setTimeout(e,t)})}const dte=/^[cdef][\w-]{21}$/;function hte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dte.test(n)?n:""}catch(t){return""}}function Eu(t){return`${t.appName}!${t.appId}`}const bu=new Map;function oV(t,e){const n=Eu(t);aV(n,e),function(t,e){const n=(!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{aV(t.data.key,t.data.fid)}),fo);n&&n.postMessage({key:t,fid:e}),0===bu.size&&fo&&(fo.close(),fo=null)}(n,e)}function aV(t,e){const n=bu.get(t);if(n)for(const r of n)r(e)}let fo=null;const po="firebase-installations-store";let YI=null;function JI(){return YI||(YI=(0,wu.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(po)})),YI}function Pp(t,e){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t,e){const n=Eu(t),i=(yield JI()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&oV(t,e.fid),e}),XI.apply(this,arguments)}function ZI(t){return eD.apply(this,arguments)}function eD(){return eD=g(function*(t){const e=Eu(t),r=(yield JI()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.complete}),eD.apply(this,arguments)}function Zl(t,e){return tD.apply(this,arguments)}function tD(){return tD=g(function*(t,e){const n=Eu(t),i=(yield JI()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&oV(t,a.fid),a}),tD.apply(this,arguments)}function nD(t){return rD.apply(this,arguments)}function rD(){return rD=g(function*(t){let e;const n=yield Zl(t,r=>{const i=vte(r),s=wte(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),rD.apply(this,arguments)}function vte(t){return dV(t||{fid:hte(),registrationStatus:0})}function wte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return iD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bte(t)}:{installationEntry:e}}function iD(){return iD=g(function*(t,e){try{return Pp(t,yield cte(t,e))}catch(n){throw tV(n)&&409===n.customData.serverCode?yield ZI(t):yield Pp(t,{fid:e.fid,registrationStatus:0}),n}}),iD.apply(this,arguments)}function bte(t){return sD.apply(this,arguments)}function sD(){return sD=g(function*(t){let e=yield lV(t);for(;1===e.registrationStatus;)yield sV(100),e=yield lV(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield nD(t);return r||n}return e}),sD.apply(this,arguments)}function lV(t){return Zl(t,e=>{if(!e)throw Mi.create("installation-not-found");return dV(e)})}function dV(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Dte(t,e){return oD.apply(this,arguments)}function oD(){return oD=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=Cte(t,n),i=iV(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ZL}})},u=yield WI(()=>fetch(r,a));if(u.ok)return nV(yield u.json());throw yield qI("Generate Auth Token",u)}),oD.apply(this,arguments)}function Cte(t,{fid:e}){return`${HI(t)}/${e}/authTokens:generate`}function aD(t){return uD.apply(this,arguments)}function uD(){return uD=g(function*(t,e=!1){let n;const r=yield Zl(t.appConfig,s=>{if(!fV(s))throw Mi.create("not-registered");const o=s.authToken;if(!e&&Ste(o))return s;if(1===o.requestStatus)return n=Tte(t,e),s;{if(!navigator.onLine)throw Mi.create("app-offline");const a=Mte(s);return n=Ate(t,a),a}});return n?yield n:r.authToken}),uD.apply(this,arguments)}function Tte(t,e){return cD.apply(this,arguments)}function cD(){return cD=g(function*(t,e){let n=yield hV(t.appConfig);for(;1===n.authToken.requestStatus;)yield sV(100),n=yield hV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?aD(t,e):r}),cD.apply(this,arguments)}function hV(t){return Zl(t,e=>{if(!fV(e))throw Mi.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ate(t,e){return lD.apply(this,arguments)}function lD(){return lD=g(function*(t,e){try{const n=yield Dte(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Pp(t.appConfig,r),n}catch(n){if(!tV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Pp(t.appConfig,r)}else yield ZI(t.appConfig);throw n}}),lD.apply(this,arguments)}function fV(t){return void 0!==t&&2===t.registrationStatus}function Ste(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Mte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dD(){return dD=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield nD(e.appConfig);return r?r.catch(console.error):aD(e).catch(console.error),n.fid}),dD.apply(this,arguments)}function hD(){return hD=g(function*(t,e=!1){const n=t;return yield Ote(n.appConfig),(yield aD(n,e)).token}),hD.apply(this,arguments)}function Ote(t){return fD.apply(this,arguments)}function fD(){return fD=g(function*(t){const{registrationPromise:e}=yield nD(t);e&&(yield e)}),fD.apply(this,arguments)}function mD(t){return Mi.create("missing-app-config-values",{valueName:t})}const pV="installations";Cn(new fn(pV,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw mD("App Configuration");if(!t.name)throw mD("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:Ma(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Cn(new fn("installations-internal",t=>{const n=Ma(t.getProvider("app").getImmediate(),pV).getImmediate();return{getId:()=>function(t){return dD.apply(this,arguments)}(n),getToken:i=>function(t){return hD.apply(this,arguments)}(n,i)}},"PRIVATE")),Ke(JL,"0.5.4"),Ke(JL,"0.5.4","esm2017");const yD="@firebase/remote-config",Rn=new Wr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Zte(t=navigator){return t.languages&&t.languages[0]||t.language}class ene{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Zte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((b,w)=>{e.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",w(x)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(b){let w="fetch-client-network";throw"AbortError"===b.name&&(w="fetch-timeout"),Rn.create(w,{originalErrorMessage:b.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let _,v;if(200===h.status){let b;try{b=yield h.json()}catch(w){throw Rn.create("fetch-client-parse",{originalErrorMessage:w.message})}_=b.entries,v=b.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(_={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:_}})()}}class rne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+W_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class one{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lp(t,e){const n=t.target.error||void 0;return Rn.create(e,{originalErrorMessage:n&&n.message})}const go="app_namespace_store";class lne{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Lp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(n){e(Rn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readonly").objectStore(go),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Lp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Rn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([go],"readwrite").objectStore(go),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Lp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Rn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readwrite").objectStore(go),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Lp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Rn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class dne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function fne(){return bD.apply(this,arguments)}function bD(){return(bD=g(function*(){if(!Sa())return!1;try{return yield of()}catch(t){return!1}})).apply(this,arguments)}Cn(new fn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!Sa())throw Rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Rn.create("registration-project-id");if(!o)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const u=new lne(a,r.name,n=n||"firebase"),c=new dne(u),l=new xa(yD);l.logLevel=ge.ERROR;const d=new ene(i,Ra,n,s,o,a),h=new rne(d,u),f=new Xte(h,u,c,l),p=new one(r,f,c,u,l);return function(t){const e=Dn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ke(yD,"0.3.3"),Ke(yD,"0.3.3","esm2017");const pne="/firebase-messaging-sw.js",gne="/firebase-cloud-messaging-push-scope",_V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vV="google.c.a.c_id",yne="google.c.a.c_l",_ne="google.c.a.ts",vne="google.c.a.e";var Iu=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Iu||(Iu={})),Iu))();function Ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const ID="fcm_token_details_db",wV="fcm_token_object_Store";function bne(t){return DD.apply(this,arguments)}function DD(){return DD=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(ID))return null;let e=null;return(yield(0,wu.openDb)(ID,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(wV))return;const o=i.transaction.objectStore(wV),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Ri(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ri(u.auth),p256dh:Ri(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ri(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ri(u.auth),p256dh:Ri(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ri(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,wu.deleteDb)(ID),yield(0,wu.deleteDb)("fcm_vapid_details_db"),yield(0,wu.deleteDb)("undefined"),Ine(e)?e:null}),DD.apply(this,arguments)}function Ine(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const mo="firebase-messaging-store";let CD=null;function TD(){return CD||(CD=(0,wu.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(mo)})),CD}function EV(t){return AD.apply(this,arguments)}function AD(){return AD=g(function*(t){const e=RD(t),r=yield(yield TD()).transaction(mo).objectStore(mo).get(e);if(r)return r;{const i=yield bne(t.appConfig.senderId);if(i)return yield SD(t,i),i}}),AD.apply(this,arguments)}function SD(t,e){return xD.apply(this,arguments)}function xD(){return xD=g(function*(t,e){const n=RD(t),i=(yield TD()).transaction(mo,"readwrite");return yield i.objectStore(mo).put(e,n),yield i.complete,e}),xD.apply(this,arguments)}function Tne(t){return MD.apply(this,arguments)}function MD(){return MD=g(function*(t){const e=RD(t),r=(yield TD()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.complete}),MD.apply(this,arguments)}function RD({appConfig:t}){return t.appId}const qt=new Wr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sne(t,e){return kD.apply(this,arguments)}function kD(){return kD=g(function*(t,e){const n=yield FD(t),r=IV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(PD(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token}),kD.apply(this,arguments)}function xne(t,e){return ND.apply(this,arguments)}function ND(){return ND=g(function*(t,e){const n=yield FD(t),r=IV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${PD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token}),ND.apply(this,arguments)}function bV(t,e){return OD.apply(this,arguments)}function OD(){return OD=g(function*(t,e){const r={method:"DELETE",headers:yield FD(t)};try{const s=yield(yield fetch(`${PD(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i})}}),OD.apply(this,arguments)}function PD({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function FD(t){return LD.apply(this,arguments)}function LD(){return LD=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),LD.apply(this,arguments)}function IV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==_V&&(i.web.applicationPubKey=r),i}function Rne(t){return VD.apply(this,arguments)}function VD(){return VD=g(function*(t){const e=yield Nne(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ri(e.getKey("auth")),p256dh:Ri(e.getKey("p256dh"))},r=yield EV(t.firebaseDependencies);if(r){if(One(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?kne(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield bV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return CV(t.firebaseDependencies,n)}return CV(t.firebaseDependencies,n)}),VD.apply(this,arguments)}function DV(t){return UD.apply(this,arguments)}function UD(){return UD=g(function*(t){const e=yield EV(t.firebaseDependencies);e&&(yield bV(t.firebaseDependencies,e.token),yield Tne(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),UD.apply(this,arguments)}function kne(t,e){return BD.apply(this,arguments)}function BD(){return BD=g(function*(t,e){try{const n=yield xne(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield SD(t.firebaseDependencies,r),n}catch(n){throw yield DV(t),n}}),BD.apply(this,arguments)}function CV(t,e){return jD.apply(this,arguments)}function jD(){return jD=g(function*(t,e){const r={token:yield Sne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield SD(t,r),r.token}),jD.apply(this,arguments)}function Nne(t,e){return $D.apply(this,arguments)}function $D(){return $D=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wne(e)})}),$D.apply(this,arguments)}function One(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function TV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Vne(t){return"object"==typeof t&&!!t&&vV in t}function AV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function HD(t){return qt.create("missing-app-config-values",{valueName:t})}AV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),AV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw HD("App Configuration Object");if(!t.name)throw HD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw HD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function SV(t){return qD.apply(this,arguments)}function qD(){return qD=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(pne,{scope:gne}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),qD.apply(this,arguments)}function jne(t,e){return GD.apply(this,arguments)}function GD(){return GD=g(function*(t,e){if(!e&&!t.swRegistration&&(yield SV(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}}),GD.apply(this,arguments)}function $ne(t,e){return WD.apply(this,arguments)}function WD(){return WD=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=_V)}),WD.apply(this,arguments)}function zD(){return zD=g(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield $ne(t,null==e?void 0:e.vapidKey),yield jne(t,null==e?void 0:e.serviceWorkerRegistration),Rne(t)}),zD.apply(this,arguments)}function Hne(t,e,n){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t,e,n){const r=qne(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[vV],message_name:n[yne],message_time:n[_ne],message_device_time:Math.floor(Date.now()/1e3)})}),KD.apply(this,arguments)}function qne(t){switch(t){case Iu.NOTIFICATION_CLICKED:return"notification_open";case Iu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function QD(){return QD=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Iu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(TV(n)):t.onMessageHandler.next(TV(n)));const r=n.data;Vne(r)&&"1"===r[vne]&&(yield Hne(t,n.messageType,r))}),QD.apply(this,arguments)}const MV="@firebase/messaging";function kV(){return YD.apply(this,arguments)}function YD(){return(YD=g(function*(){return"undefined"!=typeof window&&Sa()&&(yield of())&&H_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Cn(new fn("messaging",t=>{const e=new Bne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return QD.apply(this,arguments)}(e,n)),e},"PUBLIC")),Cn(new fn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return zD.apply(this,arguments)}(e,r)}},"PRIVATE")),Ke(MV,"0.9.4"),Ke(MV,"0.9.4","esm2017");const Vp="analytics",Jne="firebase_id",ere="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NV="https://www.googletagmanager.com/gtag/js",Gt=new xa("@firebase/analytics");function OV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tre(t,e){const n=document.createElement("script");n.src=`${NV}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function rre(t,e,n,r,i,s){return ZD.apply(this,arguments)}function ZD(){return ZD=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield OV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Gt.error(a)}t("config",i,s)}),ZD.apply(this,arguments)}function ire(t,e,n,r,i){return eC.apply(this,arguments)}function eC(){return eC=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield OV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}}),eC.apply(this,arguments)}function are(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(NV))return e;return null}const Qn=new Wr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),PV=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function fre(t){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:hre(r)},s=ere.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),tC.apply(this,arguments)}function pre(t){return nC.apply(this,arguments)}function nC(){return nC=g(function*(t,e=PV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),FV({appId:r,apiKey:i,measurementId:s},o,a,e)}),nC.apply(this,arguments)}function FV(t,e,n){return rC.apply(this,arguments)}function rC(){return rC=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PV){const{appId:s,measurementId:o}=t;try{yield gre(r,e)}catch(a){if(o)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield fre(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!mre(a)){if(i.deleteThrottleMetadata(s),o)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?W_(n,i.intervalMillis,30):W_(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Gt.debug(`Calling attemptFetch again in ${u} millis`),FV(t,c,r,i)}}),rC.apply(this,arguments)}function gre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mre(t){if(!(t instanceof mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class yre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function _re(){return iC.apply(this,arguments)}function iC(){return iC=g(function*(){if(!Sa())return Gt.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield of()}catch(t){return Gt.warn(Qn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),iC.apply(this,arguments)}function sC(){return sC=g(function*(t,e,n,r,i,s,o){var a;const u=pre(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Gt.error(f)),e.push(u);const c=_re().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);are()||tre(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Jne]=d),i("config",l.measurementId,h),l.measurementId}),sC.apply(this,arguments)}class wre{constructor(e){this.app=e}_delete(){return delete ki[this.app.options.appId],Promise.resolve()}}let ki={},LV=[];const VV={};let BV,ed,Up="dataLayer",oC=!1;function bre(t,e,n){!function(){const t=[];if(sf()&&t.push("This is a browser extension environment."),H_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Qn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Qn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ki[r])throw Qn.create("already-exists",{id:r});if(!oC){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Up);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield ire(t,e,n,a,u):"config"===o?yield rre(t,e,n,r,a,u):t("set",a)}catch(c){Gt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ki,LV,VV,Up,"gtag");ed=s,BV=o,oC=!0}return ki[r]=function(t,e,n,r,i,s,o){return sC.apply(this,arguments)}(t,LV,VV,e,BV,Up,n),new wre(t)}function aC(){return aC=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),aC.apply(this,arguments)}function xre(){return hC.apply(this,arguments)}function hC(){return(hC=g(function*(){if(sf()||!H_()||!Sa())return!1;try{return yield of()}catch(t){return!1}})).apply(this,arguments)}const jV="@firebase/analytics";Cn(new fn(Vp,(e,{options:n})=>bre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Cn(new fn("analytics-internal",function(e){try{const n=e.getProvider(Vp).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Dn(t),function(t,e,n,r,i){return aC.apply(this,arguments)}(ed,ki[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}(n,r,i,s)}}catch(n){throw Qn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ke(jV,"0.7.4"),Ke(jV,"0.7.4","esm2017");class kre extends tt{constructor(e,n){super()}schedule(e,n=0){return this}}const Bp={setInterval(...t){const{delegate:e}=Bp;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=Bp;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class HV extends kre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Bp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Bp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Eo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const qV={now:()=>(qV.delegate||Date).now(),delegate:void 0};class td{constructor(e,n=td.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}td.now=qV.now;class GV extends td{constructor(e,n=td.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Pre=new class extends GV{}(class extends HV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),Fre=new GV(HV),jp=new fa("7.2.0"),fC="__angularfire_symbol__analyticsIsSupported",pC="__angularfire_symbol__remoteConfigIsSupported",gC="__angularfire_symbol__messagingIsSupported";function yC(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[fC]||(globalThis[fC]=xre().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[gC]||(globalThis[gC]=kV().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[pC]||(globalThis[pC]=fne().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const _C=(t,e)=>{const n=e?[e]:zk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Du(){}class QV{constructor(e,n=Pre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Lre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)),n.pipe(In({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vC=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new QV(Zone.current)),this.insideAngular=n.run(()=>new QV(Zone.current,Fre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(j(Be))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Vre(t){return yo().ngZone.runOutsideAngular(()=>t())}function _o(t){return yo().ngZone.run(()=>t())}function Ure(t){return yo(),function(t){return function(n){return(n=n.lift(new Lre(t.ngZone))).pipe(cd(t.outsideAngular),ud(t.insideAngular))}}(yo())(t)}const jre=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(n,arguments))}},wC=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)))),arguments[i]=jre(arguments[i],n));const r=Vre(()=>t.apply(this,arguments));if(!e){if(r instanceof ke){const i=yo();return r.pipe(cd(i.outsideAngular),ud(i.insideAngular))}return _o(()=>r)}return r instanceof ke?r.pipe(Ure):r instanceof Promise?_o(()=>new Promise((i,s)=>r.then(o=>_o(()=>i(o)),o=>_o(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:_o(()=>r)};class Cu{constructor(e){return e}}class EC{constructor(){return zk()}}const bC=new Z("angularfire2._apps"),Hre={provide:Cu,useFactory:function(t){return t&&1===t.length?t[0]:new Cu(J_())},deps:[[new Xe,bC]]},qre={provide:EC,deps:[[new Xe,bC]]};function Gre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cu(r)}}let Wre=(()=>{class t{constructor(n){Ke("angularfire",jp.full,"core"),Ke("angularfire",jp.full,"app"),Ke("angular",G1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(j(yc))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[Hre,qre]}),t})();function zre(t,...e){return{ngModule:Wre,providers:[{provide:bC,useFactory:Gre(t),multi:!0,deps:[Be,ft,vC,...e]}]}}const Kre=wC(Wk,!0),YV_firebase={projectId:"dosapointfirebase",appId:"1:105602221318:web:41829b2c8312756c68ca87",databaseURL:"https://dosapointfirebase-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"dosapointfirebase.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",messagingSenderId:"105602221318",measurementId:"G-KM8EHCP6QG"},JV=new Map,Qre={activated:!1,tokenObservers:[]},Yre={initialized:!1,enabled:!1};function Nt(t){return JV.get(t)||Qre}function Ar(t,e){JV.set(t,e)}function $p(){return Yre}class tie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new $_,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $_,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const _n=new Wr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZV(t){if(!Nt(t).activated)throw _n.create("use-before-activation",{appName:t.name})}function CC(t,e){return TC.apply(this,arguments)}function TC(){return TC=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw _n.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw _n.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw _n.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw _n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),TC.apply(this,arguments)}function aie(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const nd="firebase-app-check-store";let Gp=null;function t2(){return Gp||(Gp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(_n.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nd,{keyPath:"compositeKey"})}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n.message}))}}),Gp)}function AC(){return AC=g(function*(t,e){const r=(yield t2()).transaction(nd,"readwrite"),s=r.objectStore(nd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(_n.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),AC.apply(this,arguments)}const rd=new xa("@firebase/app-check");function s2(t,e){return Sa()?function(t,e){return function(t,e){return AC.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{rd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function o2(){return $p().enabled}function a2(){return RC.apply(this,arguments)}function RC(){return RC=g(function*(){const t=$p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RC.apply(this,arguments)}const yie={error:"UNKNOWN_ERROR"};function _ie(t){return B_.encodeString(JSON.stringify(t),!1)}function Wp(t){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t,e=!1){const n=t.app;ZV(n);const r=Nt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&zp(u)&&(i=u)}if(!e&&i&&zp(i))return{token:i.token};let a,o=!1;if(o2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=CC(aie(n,yield a2()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield s2(n,u),Ar(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?rd.warn(u.message):rd.error(u),s=u}return i?(a={token:i.token},Ar(n,Object.assign(Object.assign({},r),{token:i})),yield s2(n,i)):a=wie(s),o&&c2(n,a),a}),kC.apply(this,arguments)}function OC(t,e){const n=Nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ar(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function u2(t){const{app:e}=t,n=Nt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new tie(g(function*(){let r;if(r=Nt(e).token?yield Wp(t,!0):yield Wp(t),r.error)throw r.error}),()=>!0,()=>{const n=Nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Ar(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function c2(t,e){const n=Nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function zp(t){return t.expireTimeMillis-Date.now()>0}function wie(t){return{token:_ie(yie),error:t}}class Eie{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Nt(this.app);for(const n of e)OC(this.app,n.next);return Promise.resolve()}}const y2="app-check-internal";Cn(new fn("app-check",t=>function(t,e){return new Eie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(y2).initialize()})),Cn(new fn(y2,t=>function(t){return{getToken:e=>Wp(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=Nt(i),o={next:n,error:r,type:e};if(Ar(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&zp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),u2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>u2(t))}(t,"INTERNAL",e),removeTokenListener:e=>OC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ke("@firebase/app-check","0.5.2");class VC{constructor(){return _C("app-check")}}"undefined"!=typeof window&&window;class BC{constructor(e){return e}}class w2{constructor(){return _C("auth")}}const jC=new Z("angularfire2.auth-instances");function jie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new BC(r)}}const $ie={provide:w2,deps:[[new Xe,jC]]},Hie={provide:BC,useFactory:function(t,e){const n=yC("auth",t,e);return n&&new BC(n)},deps:[[new Xe,jC],Cu]};let qie=(()=>{class t{constructor(){Ke("angularfire",jp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[Hie,$ie]}),t})();function Gie(t,...e){return{ngModule:qie,providers:[{provide:jC,useFactory:jie(t),multi:!0,deps:[Be,ft,vC,EC,[new Xe,VC],...e]}]}}const Wie=wC(ol,!0);class $C{constructor(e){return e}}const E2="firestore",HC=new Z("angularfire2.firestore-instances");function Qie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $C(r)}}const Yie={provide:class{constructor(){return _C(E2)}},deps:[[new Xe,HC]]},Jie={provide:$C,useFactory:function(t,e){const n=yC(E2,t,e);return n&&new $C(n)},deps:[[new Xe,HC],Cu]};let Xie=(()=>{class t{constructor(){Ke("angularfire",jp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[Jie,Yie]}),t})();function Zie(t,...e){return{ngModule:Xie,providers:[{provide:HC,useFactory:Qie(t),multi:!0,deps:[Be,ft,vC,EC,[new Xe,w2],[new Xe,VC],...e]}]}}const ese=wC(CL,!0);let tse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t,bootstrap:[tte]}),t.\u0275inj=vn({providers:[],imports:[[T4,Jee,xR,zre(()=>Kre(YV_firebase)),Gie(()=>Wie()),Zie(()=>ese())]]}),t})();jx=!1,D4().bootstrapModule(tse).catch(t=>console.error(t))},940:function(od,ad){!function(hs){"use strict";function be(L){return Array.prototype.slice.call(L)}function wo(L){return new Promise(function(se,_e){L.onsuccess=function(){se(L.result)},L.onerror=function(){_e(L.error)}})}function Ni(L,se,_e){var we,le=new Promise(function(rn,Oi){wo(we=L[se].apply(L,_e)).then(rn,Oi)});return le.request=we,le}function Eo(L,se,_e){var we=Ni(L,se,_e);return we.then(function(le){if(le)return new Sr(le,we.request)})}function tt(L,se,_e){_e.forEach(function(we){Object.defineProperty(L.prototype,we,{get:function(){return this[se][we]},set:function(le){this[se][we]=le}})})}function bo(L,se,_e,we){we.forEach(function(le){le in _e.prototype&&(L.prototype[le]=function(){return Ni(this[se],le,arguments)})})}function fs(L,se,_e,we){we.forEach(function(le){le in _e.prototype&&(L.prototype[le]=function(){return this[se][le].apply(this[se],arguments)})})}function Tu(L,se,_e,we){we.forEach(function(le){le in _e.prototype&&(L.prototype[le]=function(){return Eo(this[se],le,arguments)})})}function nn(L){this._index=L}function Sr(L,se){this._cursor=L,this._request=se}function kn(L){this._store=L}function xr(L){this._tx=L,this.complete=new Promise(function(se,_e){L.oncomplete=function(){se()},L.onerror=function(){_e(L.error)},L.onabort=function(){_e(L.error)}})}function Io(L,se,_e){this._db=L,this.oldVersion=se,this.transaction=new xr(_e)}function Do(L){this._db=L}tt(nn,"_index",["name","keyPath","multiEntry","unique"]),bo(nn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Tu(nn,"_index",IDBIndex,["openCursor","openKeyCursor"]),tt(Sr,"_cursor",["direction","key","primaryKey","value"]),bo(Sr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(L){L in IDBCursor.prototype&&(Sr.prototype[L]=function(){var se=this,_e=arguments;return Promise.resolve().then(function(){return se._cursor[L].apply(se._cursor,_e),wo(se._request).then(function(we){if(we)return new Sr(we,se._request)})})})}),kn.prototype.createIndex=function(){return new nn(this._store.createIndex.apply(this._store,arguments))},kn.prototype.index=function(){return new nn(this._store.index.apply(this._store,arguments))},tt(kn,"_store",["name","keyPath","indexNames","autoIncrement"]),bo(kn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Tu(kn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fs(kn,"_store",IDBObjectStore,["deleteIndex"]),xr.prototype.objectStore=function(){return new kn(this._tx.objectStore.apply(this._tx,arguments))},tt(xr,"_tx",["objectStoreNames","mode"]),fs(xr,"_tx",IDBTransaction,["abort"]),Io.prototype.createObjectStore=function(){return new kn(this._db.createObjectStore.apply(this._db,arguments))},tt(Io,"_db",["name","version","objectStoreNames"]),fs(Io,"_db",IDBDatabase,["deleteObjectStore","close"]),Do.prototype.transaction=function(){return new xr(this._db.transaction.apply(this._db,arguments))},tt(Do,"_db",["name","version","objectStoreNames"]),fs(Do,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(L){[kn,nn].forEach(function(se){L in se.prototype&&(se.prototype[L.replace("open","iterate")]=function(){var _e=be(arguments),we=_e[_e.length-1],le=this._store||this._index,rn=le[L].apply(le,_e.slice(0,-1));rn.onsuccess=function(){we(rn.result)}})})}),[nn,kn].forEach(function(L){L.prototype.getAll||(L.prototype.getAll=function(se,_e){var we=this,le=[];return new Promise(function(rn){we.iterateCursor(se,function(Oi){Oi?(le.push(Oi.value),void 0===_e||le.length!=_e?Oi.continue():rn(le)):rn(le)})})})}),hs.openDb=function(L,se,_e){var we=Ni(indexedDB,"open",[L,se]),le=we.request;return le&&(le.onupgradeneeded=function(rn){_e&&_e(new Io(le.result,rn.oldVersion,le.transaction))}),we.then(function(rn){return new Do(rn)})},hs.deleteDb=function(L){return Ni(indexedDB,"deleteDatabase",[L])},Object.defineProperty(hs,"__esModule",{value:!0})}(ad)}},od=>{od(od.s=861)}]);