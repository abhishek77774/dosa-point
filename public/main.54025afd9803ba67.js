(self.webpackChunkdosa_point=self.webpackChunkdosa_point||[]).push([[179],{439:(eh,th,to)=>{"use strict";function Oe(n){return"function"==typeof n}function aa(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ps=aa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ua(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Oe(r))try{r()}catch(s){e=s instanceof ps?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Cl(s)}catch(o){e=null!=e?e:[],o instanceof ps?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ps(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Cl(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ua(t,e)}remove(e){const{_teardowns:t}=this;t&&ua(t,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const la=gt.EMPTY;function no(n){return n instanceof gt||n&&"closed"in n&&Oe(n.remove)&&Oe(n.add)&&Oe(n.unsubscribe)}function Cl(n){Oe(n)?n():n.unsubscribe()}const Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},si={setTimeout(...n){const{delegate:e}=si;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=si;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function rr(n){si.setTimeout(()=>{const{onUnhandledError:e}=Dn;if(!e)throw n;e(n)})}function oi(){}const ca=Il("C",void 0,void 0);function Il(n,e,t){return{kind:n,value:e,error:t}}let $=null;function he(n){if(Dn.useDeprecatedSynchronousErrorHandling){const e=!$;if(e&&($={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=$;if($=null,t)throw r}}else n()}class Se extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,no(e)&&e.add(this)):this.destination=yj}static create(e,t,r){return new me(e,t,r)}next(e){this.isStopped?dm(Il("N",e,void 0),this):this._next(e)}error(e){this.isStopped?dm(Il("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dm(ca,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class me extends Se{constructor(e,t,r){let i;if(super(),Oe(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&Dn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Sn(i):oi,error:Sn(null!=t?t:gs),complete:r?Sn(r):oi}}}function Sn(n,e){return(...t)=>{try{n(...t)}catch(r){Dn.useDeprecatedSynchronousErrorHandling?function(n){Dn.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=n)}(r):rr(r)}}}function gs(n){throw n}function dm(n,e){const{onStoppedNotification:t}=Dn;t&&si.setTimeout(()=>t(n,e))}const yj={closed:!0,next:oi,error:gs,complete:oi},hm="function"==typeof Symbol&&Symbol.observable||"@@observable";function ro(n){return n}let He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function(n){return n&&n instanceof Se||function(n){return n&&Oe(n.next)&&Oe(n.error)&&Oe(n.complete)}(n)&&no(n)}(t)?t:new me(t,r,i);return he(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=q0(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[hm](){return this}pipe(...t){return function(n){return 0===n.length?ro:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=q0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function q0(n){var e;return null!==(e=null!=n?n:Dn.Promise)&&void 0!==e?e:Promise}const wj=aa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dn=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new G0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wj}next(t){he(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?la:(s.push(t),new gt(()=>ua(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new He;return t.source=this,t}}return n.create=(e,t)=>new G0(e,t),n})();class G0 extends dn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:la}}function z0(n){return Oe(null==n?void 0:n.lift)}function Qt(n){return e=>{if(z0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Rt extends Se{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Ve(n,e){return Qt((t,r)=>{let i=0;t.subscribe(new Rt(r,s=>{r.next(n.call(e,s,i++))}))})}function io(n){return this instanceof io?(this.v=n,this):new io(n)}function Tj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,_){s.push([h,f,m,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof io?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(m){d(s[0][3],m)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Cj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const Y0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function J0(n){return Oe(null==n?void 0:n.then)}function X0(n){return Oe(n[hm])}function Z0(n){return Symbol.asyncIterator&&Oe(null==n?void 0:n[Symbol.asyncIterator])}function eS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tS="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function nS(n){return Oe(null==n?void 0:n[tS])}function rS(n){return Tj(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield io(t.read());if(i)return yield io(void 0);yield yield io(r)}}finally{t.releaseLock()}})}function iS(n){return Oe(null==n?void 0:n.getReader)}function ai(n){if(n instanceof He)return n;if(null!=n){if(X0(n))return function(n){return new He(e=>{const t=n[hm]();if(Oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Y0(n))return function(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(J0(n))return function(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rr)})}(n);if(Z0(n))return sS(n);if(nS(n))return function(n){return new He(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(iS(n))return function(n){return sS(rS(n))}(n)}throw eS(n)}function sS(n){return new He(e=>{(function(n,e){var t,r,i,s;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Cj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ki(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function kt(n,e,t=1/0){return Oe(e)?kt((r,i)=>Ve((s,o)=>e(r,s,i,o))(ai(n(r,i))),t):("number"==typeof e&&(t=e),Qt((r,i)=>function(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=_=>l<r?m(_):u.push(_),m=_=>{l++;let v=!1;ai(t(_,c++)).subscribe(new Rt(e,E=>{e.next(E)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;u.length&&l<r;){const E=u.shift();m(E)}h()}catch(E){e.error(E)}}))};return n.subscribe(new Rt(e,f,()=>{d=!0,h()})),()=>{}}(r,i,n,t)))}function Dl(n=1/0){return kt(ro,n)}const Pi=new He(n=>n.complete());function pm(n){return n[n.length-1]}function oS(n){return Oe(pm(n))?n.pop():void 0}function Sl(n){return function(n){return n&&Oe(n.schedule)}(pm(n))?n.pop():void 0}function nh(n,e=0){return Qt((t,r)=>{t.subscribe(new Rt(r,i=>ki(r,n,()=>r.next(i),e),()=>ki(r,n,()=>r.complete(),e),i=>ki(r,n,()=>r.error(i),e)))})}function rh(n,e=0){return Qt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function aS(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{ki(t,e,()=>{const r=n[Symbol.asyncIterator]();ki(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pt(n,e){return e?function(n,e){if(null!=n){if(X0(n))return function(n,e){return ai(n).pipe(rh(e),nh(e))}(n,e);if(Y0(n))return function(n,e){return new He(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(J0(n))return function(n,e){return ai(n).pipe(rh(e),nh(e))}(n,e);if(Z0(n))return aS(n,e);if(nS(n))return function(n,e){return new He(t=>{let r;return ki(t,e,()=>{r=n[tS](),ki(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Oe(null==r?void 0:r.return)&&r.return()})}(n,e);if(iS(n))return function(n,e){return aS(rS(n),e)}(n,e)}throw eS(n)}(n,e):ai(n)}function ih(n){return n<=0?()=>Pi:Qt((e,t)=>{let r=0;e.subscribe(new Rt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gm(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(ih(1)).subscribe(()=>n())}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function mm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ym(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Gj=ke({__forward_ref__:ke});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return ve(this())},n}function ue(n){return uS(n)?n():n}function uS(n){return"function"==typeof n&&n.hasOwnProperty(Gj)&&n.__forward_ref__===Ue}class ir extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function An(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}function sh(n,e){const t=e?` in ${e}`:"";throw new ir("201",`No provider for ${An(n)} found${t}`)}function or(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function vm(n){return lS(n,oh)||lS(n,dS)}function lS(n,e){return n.hasOwnProperty(e)?n[e]:null}function cS(n){return n&&(n.hasOwnProperty(wm)||n.hasOwnProperty(Xj))?n[wm]:null}const oh=ke({\u0275prov:ke}),wm=ke({\u0275inj:ke}),dS=ke({ngInjectableDef:ke}),Xj=ke({ngInjectorDef:ke});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let bm;function ms(n){const e=bm;return bm=n,e}function hS(n,e,t){const r=vm(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&se.Optional?null:void 0!==e?e:void sh(ve(n),"Injector")}function ys(n){return{toString:n}.toString()}var Br=(()=>((Br=Br||{})[Br.OnPush=0]="OnPush",Br[Br.Default=1]="Default",Br))(),jr=(()=>{return(n=jr||(jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jr;var n})();const e$="undefined"!=typeof globalThis&&globalThis,t$="undefined"!=typeof window&&window,n$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Re=e$||"undefined"!=typeof global&&global||t$||n$,ha={},Pe=[],ah=ke({\u0275cmp:ke}),Em=ke({\u0275dir:ke}),Tm=ke({\u0275pipe:ke}),fS=ke({\u0275mod:ke}),Li=ke({\u0275fac:ke}),Al=ke({__NG_ELEMENT_ID__:ke});let r$=0;function ut(n){return ys(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,id:"c",styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=r$++,r.inputs=yS(n.inputs,t),r.outputs=yS(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(pS):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(gS):null,r})}function pS(n){return fn(n)||function(n){return n[Em]||null}(n)}function gS(n){return function(n){return n[Tm]||null}(n)}const mS={};function hn(n){return ys(()=>{const e={type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(mS[n.id]=n.type),e})}function yS(n,e){if(null==n)return ha;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const J=ut;function Mn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function fn(n){return n[ah]||null}function Ir(n,e){const t=n[fS]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}function ui(n){return Array.isArray(n)&&"object"==typeof n[1]}function Hr(n){return Array.isArray(n)&&!0===n[1]}function Dm(n){return 0!=(8&n.flags)}function dh(n){return 2==(2&n.flags)}function hh(n){return 1==(1&n.flags)}function qr(n){return null!==n.template}function l$(n){return 0!=(512&n[2])}function lo(n,e){return n.hasOwnProperty(Li)?n[Li]:null}class h${constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ur(){return vS}function vS(n){return n.type.prototype.ngOnChanges&&(n.setInput=p$),f$}function f$(){const n=bS(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ha)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function p$(n,e,t,r){const i=bS(n)||function(n,e){return n[wS]=e}(n,{previous:ha,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new h$(u&&u.currentValue,e,o===ha),n[r]=e}ur.ngInherit=!0;const wS="__ngSimpleChanges__";function bS(n){return n[wS]||null}let Mm;function xm(){return void 0!==Mm?Mm:"undefined"!=typeof document?document:void 0}function et(n){return!!n.listen}const CS={createRenderer:(n,e)=>xm()};function mt(n){for(;Array.isArray(n);)n=n[0];return n}function fh(n,e){return mt(e[n])}function Ar(n,e){return mt(e[n.index])}function Nm(n,e){return n.data[e]}function lr(n,e){const t=e[n];return ui(t)?t:t[0]}function Om(n){return 128==(128&n[2])}function vs(n,e){return null==e?null:n[e]}function DS(n){n[18]=0}function Rm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Z={lFrame:kS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function SS(){return Z.bindingsEnabled}function A(){return Z.lFrame.lView}function we(){return Z.lFrame.tView}function Ct(n){return Z.lFrame.contextLView=n,n[8]}function It(){let n=AS();for(;null!==n&&64===n.type;)n=n.parent;return n}function AS(){return Z.lFrame.currentTNode}function li(n,e){const t=Z.lFrame;t.currentTNode=n,t.isParent=e}function km(){return Z.lFrame.isParent}function Pm(){Z.lFrame.isParent=!1}function ph(){return Z.isInCheckNoChangesMode}function gh(n){Z.isInCheckNoChangesMode=n}function xn(){const n=Z.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _a(){return Z.lFrame.bindingIndex++}function Ui(n){const e=Z.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function M$(n,e){const t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fm(e)}function Fm(n){Z.lFrame.currentDirectiveIndex=n}function Lm(n){const e=Z.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Vm(n){Z.lFrame.currentQueryIndex=n}function N$(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function OS(n,e,t){if(t&se.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&se.Host||(i=N$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Z.lFrame=RS();return r.currentTNode=e,r.lView=n,!0}function mh(n){const e=RS(),t=n[1];Z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RS(){const n=Z.lFrame,e=null===n?null:n.child;return null===e?kS(n):e}function kS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function PS(){const n=Z.lFrame;return Z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const FS=PS;function yh(){const n=PS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nn(){return Z.lFrame.selectedIndex}function ws(n){Z.lFrame.selectedIndex=n}function tt(){const n=Z.lFrame;return Nm(n.tView,n.selectedIndex)}function _h(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function vh(n,e,t){LS(n,e,3,t)}function wh(n,e,t,r){(3&n[2])===t&&LS(n,e,t,r)}function Um(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function LS(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(B$(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function B$(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Rl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bh(n,e,t){const r=et(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];jm(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function VS(n){return 3===n||4===n||6===n}function jm(n){return 64===n.charCodeAt(0)}function Eh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||US(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function US(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function BS(n){return-1!==n}function va(n){return 32767&n}function wa(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let $m=!0;function Th(n){const e=$m;return $m=n,e}let z$=0;function Pl(n,e){const t=qm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Hm(r.data,n),Hm(e,null),Hm(r.blueprint,null));const i=Ch(n,e),s=n.injectorIndex;if(BS(i)){const o=va(i),a=wa(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Hm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ch(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ih(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Al)&&(r=t[Al]),null==r&&(r=t[Al]=z$++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function HS(n,e,t){if(t&se.Optional)return n;sh(e,"NodeInjector")}function qS(n,e,t,r){if(t&se.Optional&&void 0===r&&(r=null),0==(t&(se.Self|se.Host))){const i=n[9],s=ms(void 0);try{return i?i.get(e,r,t&se.Optional):hS(e,r,t&se.Optional)}finally{ms(s)}}return HS(r,e,t)}function GS(n,e,t,r=se.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Al)?n[Al]:void 0;return"number"==typeof e?e>=0?255&e:Q$:e}(t);if("function"==typeof s){if(!OS(e,n,r))return r&se.Host?HS(i,t,r):qS(e,t,r,i);try{const o=s(r);if(null!=o||r&se.Optional)return o;sh(t)}finally{FS()}}else if("number"==typeof s){let o=null,a=qm(n,e),u=-1,l=r&se.Host?e[16][6]:null;for((-1===a||r&se.SkipSelf)&&(u=-1===a?Ch(n,e):e[a+8],-1!==u&&KS(r,!1)?(o=e[1],a=va(u),e=wa(u,e)):a=-1);-1!==a;){const c=e[1];if(WS(s,a,c.data)){const d=Y$(a,e,t,o,r,l);if(d!==zS)return d}u=e[a+8],-1!==u&&KS(r,e[1].data[a+8]===l)&&WS(s,a,e)?(o=c,a=va(u),e=wa(u,e)):a=-1}}}return qS(e,t,r,i)}const zS={};function Q$(){return new ba(It(),A())}function Y$(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const m=o[f];if(f<u&&t===m||f>=u&&m.type===t)return f}if(i){const f=o[u];if(f&&qr(f)&&f.type===t)return u}return null}(a,o,t,null==r?dh(a)&&$m:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==c?Fl(e,o,c,a):zS}function Fl(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Rl}(i)){const o=i;o.resolving&&function(n,e){throw new ir("200",`Circular dependency in DI detected for ${n}`)}(An(s[t]));const a=Th(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ms(o.injectImpl):null;OS(n,r,se.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=vS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&ms(u),Th(a),o.resolving=!1,FS()}}return i}function WS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function KS(n,e){return!(n&se.Self||n&se.Host&&e)}class ba{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GS(this._tNode,this._lView,e,r,t)}}function cr(n){return ys(()=>{const e=n.prototype.constructor,t=e[Li]||Gm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Li]||Gm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gm(n){return uS(n)?()=>{const e=Gm(ue(n));return e&&e()}:lo(n)}const Ta="__parameters__";function Ia(n,e,t){return ys(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(Ta)?u[Ta]:Object.defineProperty(u,Ta,{value:[]})[Ta];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Z$=new re("AnalyzeForEntryComponents");function ci(n,e){n.forEach(t=>Array.isArray(t)?ci(t,e):e(t))}function YS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dr(n,e,t){let r=Da(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Km(n,e){const t=Da(n,e);if(t>=0)return n[1|t]}function Da(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const jl={},Ym="__NG_DI_FLAG__",Mh="ngTempTokenPath",lH=/\n/gm,tA="__source",dH=ke({provide:String,useValue:ke});let $l;function nA(n){const e=$l;return $l=n,e}function hH(n,e=se.Default){if(void 0===$l)throw new Error("inject() must be called from an injection context");return null===$l?hS(n,void 0,e):$l.get(n,e&se.Optional?null:void 0,e)}function L(n,e=se.Default){return(bm||hH)(ue(n),e)}function Jm(n){const e=[];for(let t=0;t<n.length;t++){const r=ue(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],u=fH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Hl(n,e){return n[Ym]=e,n.prototype[Ym]=e,n}function fH(n){return n[Ym]}const ql=Hl(Ia("Inject",n=>({token:n})),-1),ct=Hl(Ia("Optional"),8),Sa=Hl(Ia("SkipSelf"),4);let Nh,Oh;function Ma(n){var e;return(null===(e=function(){if(void 0===Nh&&(Nh=null,Re.trustedTypes))try{Nh=Re.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Nh}())||void 0===e?void 0:e.createHTML(n))||n}function uA(n){var e;return(null===(e=function(){if(void 0===Oh&&(Oh=null,Re.trustedTypes))try{Oh=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Oh}())||void 0===e?void 0:e.createHTML(n))||n}class co{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class DH extends co{getTypeName(){return"HTML"}}class SH extends co{getTypeName(){return"Style"}}class AH extends co{getTypeName(){return"Script"}}class MH extends co{getTypeName(){return"URL"}}class xH extends co{getTypeName(){return"ResourceURL"}}function hr(n){return n instanceof co?n.changingThisBreaksApplicationSecurity:n}function di(n,e){const t=dA(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function dA(n){return n instanceof co&&n.getTypeName()||null}class FH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ma(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class LH{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ma(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ma(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const UH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,BH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zl(n){return(n=String(n)).match(UH)||n.match(BH)?n:"unsafe:"+n}function fA(n){return(n=String(n)).split(",").map(e=>zl(e.trim())).join(", ")}function hi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Wl(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const pA=hi("area,br,col,hr,img,wbr"),gA=hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mA=hi("rp,rt"),ty=Wl(pA,Wl(gA,hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wl(mA,hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wl(mA,gA)),ny=hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ry=hi("srcset"),yA=Wl(ny,ry,hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jH=hi("script,style,template");class $H{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ty.hasOwnProperty(t))return this.sanitizedSomething=!0,!jH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!yA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;ny[a]&&(u=zl(u)),ry[a]&&(u=fA(u)),this.buf.push(" ",o,'="',_A(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ty.hasOwnProperty(t)&&!pA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_A(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const HH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qH=/([^\#-~ |!])/g;function _A(n){return n.replace(/&/g,"&amp;").replace(HH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(qH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rh;function vA(n,e){let t=null;try{Rh=Rh||function(n){const e=new LH(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ma(""),"text/html")}catch(n){return!1}}()?new FH(e):e}(n);let r=e?String(e):"";t=Rh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Rh.getInertBodyElement(r)}while(r!==s);return Ma((new $H).sanitizeChildren(iy(t)||t))}finally{if(t){const r=iy(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function iy(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function sy(n){const e=Kl();return e?uA(e.sanitize(Fe.HTML,n)||""):di(n,"HTML")?uA(hr(n)):vA(xm(),ne(n))}function oy(n){const e=Kl();return e?e.sanitize(Fe.URL,n)||"":di(n,"URL")?hr(n):zl(ne(n))}function Kl(){const n=A();return n&&n[12]}const EA="__ngContext__";function gn(n,e){n[EA]=e}function uy(n){const e=function(n){return n[EA]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function cy(n){return n.ngOriginalError}function uq(n,...e){n.error(...e)}class xa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=(n=e)&&n.ngErrorLogger||uq;var n;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cy(e);for(;t&&cy(t);)t=cy(t);return t||null}}const SA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function fi(n){return n instanceof Function?n():n}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function hy(n,e){return undefined(n,e)}function Yl(n){const e=n[3];return Hr(e)?e[3]:e}function fy(n){return OA(n[13])}function py(n){return OA(n[4])}function OA(n){for(;null!==n&&!Hr(n);)n=n[4];return n}function Oa(n,e,t,r,i){if(null!=r){let s,o=!1;Hr(r)?s=r:ui(r)&&(o=!0,r=r[0]);const a=mt(r);0===n&&null!==t?null==i?VA(e,t,a):ho(e,t,a,i||null,!0):1===n&&null!==t?ho(e,t,a,i||null,!0):2===n?function(n,e,t){const r=kh(n,e);r&&function(n,e,t,r){et(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==mt(t)&&Oa(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Jl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function my(n,e,t){return et(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function kA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Rm(i,-1)),t.splice(r,1)}function yy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&kA(i,r),e>0&&(n[t-1][4]=r[4]);const s=Sh(n,10+e);!function(n,e){Jl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function PA(n,e){if(!(256&e[2])){const t=e[11];et(t)&&t.destroyNode&&Jl(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return _y(n[1],n);for(;e;){let t=null;if(ui(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ui(e)&&_y(e[1],e),e=e[3];null===e&&(e=n),ui(e)&&_y(e[1],e),t=e&&e[4]}e=t}}(e)}}function _y(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Rl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):mt(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&et(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Hr(e[3])){t!==e[3]&&kA(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function FA(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===jr.None||i===jr.Emulated)return null}return Ar(r,t)}(n,e.parent,t)}function ho(n,e,t,r,i){et(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function VA(n,e,t){et(n)?n.appendChild(e,t):e.appendChild(t)}function UA(n,e,t,r,i){null!==r?ho(n,e,t,r,i):VA(n,e,t)}function kh(n,e){return et(n)?n.parentNode(e):e.parentNode}let $A=function(n,e,t){return 40&n.type?Ar(n,t):null};function Ph(n,e,t,r){const i=FA(n,r,e),s=e[11],a=function(n,e,t){return $A(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)UA(s,i,t[u],a,!1);else UA(s,i,t,a,!1)}function Fh(n,e){if(null!==e){const t=e.type;if(3&t)return Ar(e,n);if(4&t)return wy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Fh(n,r);{const i=n[e.index];return Hr(i)?wy(-1,i):mt(i)}}if(32&t)return hy(e,n)()||mt(n[e.index]);{const r=qA(n,e);return null!==r?Array.isArray(r)?r[0]:Fh(Yl(n[16]),r):Fh(n,e.next)}}return null}function qA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function wy(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Fh(r,i)}return e[7]}function by(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&gn(mt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)by(n,e,t.child,r,i,s,!1),Oa(e,n,i,a,s);else if(32&u){const l=hy(t,r);let c;for(;c=l();)Oa(e,n,i,c,s);Oa(e,n,i,a,s)}else 16&u?zA(n,e,r,t,i,s):Oa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Jl(n,e,t,r,i,s){by(t,r,n.firstChild,e,i,s,!1)}function zA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Oa(e,n,i,u[l],s);else by(n,e,u,o[3],i,s,!0)}function WA(n,e,t){et(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Ey(n,e,t){et(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function KA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const QA="ng-template";function Fq(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==KA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function YA(n){return 4===n.type&&n.value!==QA}function Lq(n,e,t){return e===(4!==n.type||t?n.value:QA)}function Vq(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(VS(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Lq(n,u,t)||""===u&&1===e.length){if(Gr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Fq(n.attrs,l,t)){if(Gr(r))return!1;o=!0}continue}const d=Uq(8&r?"class":u,i,YA(n),t);if(-1===d){if(Gr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==KA(f,l,0)||2&r&&l!==h){if(Gr(r))return!1;o=!0}}}}else{if(!o&&!Gr(r)&&!Gr(u))return!1;if(o&&Gr(u))continue;o=!1,r=u|1&r}}return Gr(r)||o}function Gr(n){return 0==(1&n)}function Uq(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function JA(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vq(n,e[r],t))return!0;return!1}function XA(n,e){return n?":not("+e.trim()+")":e}function qq(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gr(o)&&(e+=XA(s,i),i=""),r=o,s=s||!Gr(r);t++}return""!==i&&(e+=XA(s,i)),e}const ie={};function b(n){ZA(we(),A(),Nn()+n,ph())}function ZA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&vh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&wh(e,s,0,t)}ws(t)}function Lh(n,e){return n<<17|e<<2}function zr(n){return n>>17&32767}function Ty(n){return 2|n}function Bi(n){return(131068&n)>>2}function Cy(n,e){return-131069&n|e<<2}function Iy(n){return 1|n}function c1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Vm(i),o.contentQueries(2,e[s],s)}}}function Xl(n,e,t,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,DS(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=u||n&&n[12]||null,c[9]=l||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function Ra(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=AS(),o=km(),u=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),Z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=Z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return li(s,!0),s}function ka(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zl(n,e,t){mh(e);try{const r=n.viewQuery;null!==r&&Hy(1,r,t);const i=n.template;null!==i&&d1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&c1(n,e),n.staticViewQueries&&Hy(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)D3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,yh()}}function Pa(n,e,t,r){const i=e[2];if(256==(256&i))return;mh(e);const s=ph();try{DS(e),function(n){Z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&d1(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&vh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&wh(e,l,0,null),Um(e,0)}if(function(n){for(let e=fy(n);null!==e;e=py(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Rm(s,1),i[2]|=1024}}}(e),function(n){for(let e=fy(n);null!==e;e=py(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Om(r)&&Pa(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&c1(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&vh(e,l)}else{const l=n.contentHooks;null!==l&&wh(e,l,1),Um(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ws(~i);else{const s=i,o=t[++r],a=t[++r];M$(o,s),a(2,e[s])}}}finally{ws(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)I3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Hy(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&vh(e,l)}else{const l=n.viewHooks;null!==l&&wh(e,l,2),Um(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Rm(e[3],-1))}finally{yh()}}function o3(n,e,t,r){const i=e[10],s=!ph(),o=function(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Zl(n,e,r),Pa(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function d1(n,e,t,r,i){const s=Nn(),o=2&r;try{ws(-1),o&&e.length>20&&ZA(n,e,20,ph()),t(r,i)}finally{ws(s)}}function h1(n,e,t){if(Dm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Py(n,e,t){!SS()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Pl(t,e),gn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=qr(u);l&&w3(e,t,u);const c=Fl(e,n,a,t);gn(c,e),null!==o&&b3(0,a-i,c,u,0,o),l&&(lr(t.index,e)[8]=c)}}(n,e,t,Ar(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Z.lFrame.currentDirectiveIndex;try{ws(o);for(let u=r;u<i;u++){const l=n.data[u],c=e[u];Fm(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&w1(l,c)}}finally{ws(-1),Fm(a)}}(n,e,t))}function Fy(n,e,t=Ar){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function f1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Bh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Bh(n,e,t,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ie);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function y1(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function pr(n,e,t,r,i,s,o,a){const u=Ar(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(x1(n,t,c,r,i),dh(e)&&function(n,e){const t=lr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,et(s)?s.setProperty(u,r,i):jm(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ly(n,e,t,r){let i=!1;if(SS()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];JA(t,o.selectors,!1)&&(i||(i=[]),Ih(Pl(t,e),n,o.type),qr(o)?(b1(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,E1(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=ka(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=Eh(t.mergedAttrs,d.hostAttrs),T1(n,t,e,l,d),v3(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||YA(e)?null:E3(d,s);o.push(h),a=y1(d,l,a),u=y1(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new ir("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Eh(t.mergedAttrs,t.attrs),i}function v1(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function w1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function b1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function v3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qr(e)&&(t[""]=n)}}function E1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function T1(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=lo(i.type)),o=new Rl(s,qr(i),null);n.blueprint[r]=o,t[r]=o,v1(n,e,0,r,ka(n,t,i.hostVars,ie),i)}function w3(n,e,t){const r=Ar(e,n),i=f1(t),s=n[10],o=jh(n,Xl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function pi(n,e,t,r,i,s){const o=Ar(n,e);!function(n,e,t,r,i,s,o){if(null==s)et(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ne(s):o(s,r||"",i);et(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function b3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function E3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function C1(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function I3(n,e){const t=lr(e,n);if(Om(t)){const r=t[1];80&t[2]?Pa(r,t,r.template,t[8]):t[5]>0&&Uy(t)}}function Uy(n){for(let r=fy(n);null!==r;r=py(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Pa(o,s,o.template,s[8])}else s[5]>0&&Uy(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=lr(t[r],n);Om(i)&&i[5]>0&&Uy(i)}}function D3(n,e){const t=lr(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Zl(r,t,t[8])}function jh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function By(n){for(;n;){n[2]|=64;const e=Yl(n);if(l$(n)&&!e)return n;n=e}return null}function $y(n,e,t){const r=e[10];r.begin&&r.begin();try{Pa(n,e,n.template,t)}catch(i){throw M1(e,i),i}finally{r.end&&r.end()}}function I1(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=uy(t),i=r[1];o3(i,r,i.template,t)}}(n[8])}function Hy(n,e,t){Vm(0),e(n,t)}const N3=(()=>Promise.resolve(null))();function D1(n){return n[7]||(n[7]=[])}function S1(n){return n.cleanup||(n.cleanup=[])}function M1(n,e){const t=n[9],r=t?t.get(xa,null):null;r&&r.handleError(e)}function x1(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function ji(n,e,t){const r=fh(e,n);!function(n,e,t){et(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function $h(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ym(i,a):2==s&&(r=ym(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const qy=new re("INJECTOR",-1);class N1{get(e,t=jl){if(t===jl){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}}const Gy=new re("Set Injector scope."),ec={},k3={};let zy;function O1(){return void 0===zy&&(zy=new N1),zy}function R1(n,e=null,t=null,r){const i=k1(n,e,t,r);return i._resolveInjectorDefTypes(),i}function k1(n,e=null,t=null,r){return new P3(n,t,e||O1(),r)}class P3{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ci(t,a=>this.processProvider(a,e,t)),ci([e],a=>this.processInjectorType(a,[],s)),this.records.set(qy,Fa(void 0,this));const o=this.records.get(Gy);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=jl,r=se.Default){this.assertNotDestroyed();const i=nA(this),s=ms(void 0);try{if(!(r&se.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(n=e)||"object"==typeof n&&n instanceof re)&&vm(e);a=u&&this.injectableDefInScope(u)?Fa(Wy(e),ec):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&se.Self?O1():this.parent).get(e,t=r&se.Optional&&t===jl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Mh]=o[Mh]||[]).unshift(ve(e)),i)throw o;return function(n,e,t,r){const i=n[Mh];throw e[tA]&&i.unshift(e[tA]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(lH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Mh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ms(s),nA(i)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=ue(e)))return!1;let i=cS(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=cS(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{ci(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];ci(f,m=>this.processProvider(m,h,f||Pe))}}this.injectorDefTypes.add(o);const u=lo(o)||(()=>new o);this.records.set(o,Fa(u,ec));const l=i.providers;if(null!=l&&!a){const c=e;ci(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=La(e=ue(e))?e:ue(e&&e.provide);const s=function(n,e,t){return F1(n)?Fa(void 0,n.useValue):Fa(P1(n),ec)}(e);if(La(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Fa(void 0,ec,!0),o.factory=()=>Jm(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===ec&&(t.value=k3,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ue(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wy(n){const e=vm(n),t=null!==e?e.factory:lo(n);if(null!==t)return t;if(n instanceof re)throw new Error(`Token ${ve(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=function(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${ve(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[oh]||n[dS]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function P1(n,e,t){let r;if(La(n)){const i=ue(n);return lo(i)||Wy(i)}if(F1(n))r=()=>ue(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Jm(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>L(ue(n.useExisting));else{const i=ue(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return lo(i)||Wy(i);r=()=>new i(...Jm(n.deps))}return r}function Fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function F1(n){return null!==n&&"object"==typeof n&&dH in n}function La(n){return"function"==typeof n}let dt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return R1({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return R1({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=jl,n.NULL=new N1,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>L(qy)}),n.__NG_ELEMENT_ID__=-1,n})();function J3(n,e){_h(uy(n)[1],It())}function je(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Yy(n.inputs),o.declaredInputs=Yy(n.declaredInputs),o.outputs=Yy(n.outputs);const a=i.hostBindings;a&&tG(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Z3(n,u),l&&eG(n,l),mm(n.inputs,i.inputs),mm(n.declaredInputs,i.declaredInputs),mm(n.outputs,i.outputs),qr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===je&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eh(i.hostAttrs,t=Eh(t,i.hostAttrs))}}(r)}function Yy(n){return n===ha?{}:n===Pe?[]:n}function Z3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function eG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function tG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Hh=null;function Va(){if(!Hh){const n=Re.Symbol;if(n&&n.iterator)Hh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hh=r)}}}return Hh}function tc(n){return!!Jy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Va()in n)}function Jy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gi(n,e,t){return n[e]=t}function mn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Wn(n,e,t,r){const i=A();return mn(i,_a(),e)&&(we(),pi(tt(),i,n,e,t,r)),Wn}function M(n,e,t,r,i,s,o,a){const u=A(),l=we(),c=n+20,d=l.firstCreatePass?function(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Ra(e,n,4,o||null,vs(l,a));Ly(e,t,c,vs(l,u)),_h(e,c);const d=c.tViews=Bh(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];li(d,!1);const h=u[11].createComment("");Ph(l,u,h,d),gn(h,u),jh(u,u[c]=C1(h,u,h,d)),hh(d)&&Py(l,u,d),null!=o&&Fy(u,d,a)}function T(n,e=se.Default){const t=A();return null===t?L(n,e):GS(It(),t,ue(n),e)}function n_(){throw new Error("invalid")}function D(n,e,t){const r=A();return mn(r,_a(),e)&&pr(we(),tt(),r,n,e,r[11],t,!1),D}function r_(n,e,t,r,i){const o=i?"class":"style";x1(n,t,e.inputs[o],o,r)}function p(n,e,t,r){const i=A(),s=we(),o=20+n,a=i[11],u=i[o]=my(a,e,Z.lFrame.currentNamespace),l=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,l=Ra(e,n,2,i,vs(a,s));return Ly(e,t,l,vs(a,o)),null!==l.attrs&&$h(l,l.attrs,!1),null!==l.mergedAttrs&&$h(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];li(l,!0);const c=l.mergedAttrs;null!==c&&bh(a,u,c);const d=l.classes;null!==d&&Ey(a,u,d);const h=l.styles;null!==h&&WA(a,u,h),64!=(64&l.flags)&&Ph(s,i,u,l),0===Z.lFrame.elementDepthCount&&gn(u,i),Z.lFrame.elementDepthCount++,hh(l)&&(Py(s,i,l),h1(s,l,i)),null!==r&&Fy(i,l)}function g(){let n=It();km()?Pm():(n=n.parent,li(n,!1));const e=n;Z.lFrame.elementDepthCount--;const t=we();t.firstCreatePass&&(_h(t,n),Dm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&r_(t,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&r_(t,e,A(),e.stylesWithoutHost,!1)}function G(n,e,t,r){p(n,e,t,r),g()}function zh(n,e,t){const r=A(),i=we(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=vs(s,r),a=Ra(e,n,8,"ng-container",o);return null!==o&&$h(a,o,!0),Ly(e,t,a,vs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];li(o,!0);const a=r[s]=r[11].createComment("");Ph(i,r,a,o),gn(a,r),hh(o)&&(Py(i,r,o),h1(i,o,r)),null!=t&&Fy(r,o)}function Wh(){let n=It();const e=we();km()?Pm():(n=n.parent,li(n,!1)),e.firstCreatePass&&(_h(e,n),Dm(n)&&e.queries.elementEnd(n))}function Rn(){return A()}function rc(n){return!!n&&"function"==typeof n.then}const i_=function(n){return!!n&&"function"==typeof n.subscribe};function oe(n,e,t,r){const i=A(),s=we(),o=It();return function(n,e,t,r,i,s,o,a){const u=hh(r),c=n.firstCreatePass&&S1(n),d=e[8],h=D1(e);let f=!0;if(3&r.type||a){const v=Ar(r,e),E=a?a(v):v,w=h.length,N=a?P=>a(mt(P[r.index])):r.index;if(et(t)){let P=null;if(!a&&u&&(P=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=s_(r,e,d,s,!1);const K=t.listen(E,i,s);h.push(s,K),c&&c.push(i,N,w,w+1)}}else s=s_(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,N,w,o)}else s=s_(r,e,d,s,!1);const m=r.outputs;let _;if(f&&null!==m&&(_=m[i])){const v=_.length;if(v)for(let E=0;E<v;E+=2){const Ae=e[_[E]][_[E+1]].subscribe(s),Ne=h.length;h.push(s,Ae),c&&c.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[11],o,n,e,!!t,r),oe}function yM(n,e,t,r){try{return!1!==t(r)}catch(i){return M1(n,i),!1}}function s_(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?lr(n.index,e):e;0==(32&e[2])&&By(a);let u=yM(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=yM(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function j(n=1){return function(n){return(Z.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,Z.lFrame.contextLView))[8]}(n)}function SM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?zr(s):Bi(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];UG(n[a],e)&&(u=!0,n[a+1]=r?Iy(c):Ty(c)),a=r?zr(c):Bi(c)}u&&(n[t+1]=r?Ty(s):Iy(s))}function UG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Da(n,e)>=0}const St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AM(n){return n.substring(St.key,St.keyEnd)}function MM(n,e){const t=St.textEnd;return t===e?-1:(e=St.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,St.key=e,t),Qa(n,e,t))}function Qa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ya(n,e,t){return Kr(n,e,t,!1),Ya}function Kh(n,e){return Kr(n,e,null,!0),Kh}function $i(n){!function(n,e,t,r){const i=we(),s=Ui(2);i.firstUpdatePass&&PM(i,null,s,r);const o=A();if(t!==ie&&mn(o,s,t)){const a=i.data[Nn()];if(UM(a,r)&&!kM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=ym(u,t||"")),r_(i,a,o,t,r)}else!function(n,e,t,r,i,s,o,a){i===ie&&(i=Pe);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let _,m=null;c===d?(u+=2,l+=2,h!==f&&(m=d,_=f)):null===d||null!==c&&c<d?(u+=2,m=c):(l+=2,m=d,_=f),null!==m&&LM(n,e,t,r,m,_,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(n,e,t){if(null==t||""===t)return Pe;const r=[],i=hr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(dr,yi,n,!0)}function yi(n,e){for(let t=function(n){return function(n){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=n.length}(n),MM(n,Qa(n,0,St.textEnd))}(e);t>=0;t=MM(e,t))dr(n,AM(e),!0)}function Kr(n,e,t,r){const i=A(),s=we(),o=Ui(2);s.firstUpdatePass&&PM(s,n,o,r),e!==ie&&mn(i,o,e)&&LM(s,s.data[Nn()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ve(hr(n)))),n}(e,t),r,o)}function kM(n,e){return e>=n.expandoStartIndex}function PM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Nn()],o=kM(n,t);UM(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=Lm(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ic(t=a_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=a_(i,n,e,t,r),null===s){let u=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Bi(r))return n[zr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=a_(null,n,e,u[1],r),u=ic(u,e.attrs,r),function(n,e,t,r){n[zr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ic(r,n[s].hostAttrs,t);return ic(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zr(o),u=Bi(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Da(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=zr(n[a+1]);n[r+1]=Lh(h,a),0!==h&&(n[h+1]=Cy(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Lh(a,0),0!==a&&(n[a+1]=Cy(n[a+1],r)),a=r;else n[r+1]=Lh(u,0),0===a?a=r:n[u+1]=Cy(n[u+1],r),u=r;l&&(n[r+1]=Ty(n[r+1])),SM(n,c,r,!0),SM(n,c,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Da(s,e)>=0&&(t[r+1]=Iy(t[r+1]))}(e,c,n,r,s),o=Lh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function a_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ic(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ic(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),dr(n,o,!!t||e[++s]))}return void 0===n?null:n}function LM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Qh(function(n){return 1==(1&n)}(l)?VM(u,e,t,i,Bi(l),o):void 0)||(Qh(s)||function(n){return 2==(2&n)}(l)&&(s=VM(u,null,t,i,a,o)),function(n,e,t,r,i){const s=et(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:fr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=fr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,fh(Nn(),t),i,s))}function VM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ie&&(h=d?Pe:void 0);let f=d?Km(h,r):c===r?h:void 0;if(l&&!Qh(f)&&(f=Km(u,r)),Qh(f)&&(a=f,o))return a;const m=n[i+1];i=o?zr(m):Bi(m)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Km(u,r))}return a}function Qh(n){return void 0!==n}function UM(n,e){return 0!=(n.flags&(e?16:32))}function C(n,e=""){const t=A(),r=we(),i=n+20,s=r.firstCreatePass?Ra(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return et(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Ph(r,t,o,s),li(s,!1)}function nt(n){return Jt("",n,""),nt}function Jt(n,e,t){const r=A(),i=function(n,e,t,r){return mn(n,_a(),t)?e+ne(t)+r:ie}(r,n,e,t);return i!==ie&&ji(r,Nn(),i),Jt}function u_(n,e,t){const r=A();if(mn(r,_a(),e)){const s=we(),o=tt();pr(s,o,r,n,e,function(n,e,t){return(null===n||qr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(Lm(s.data),o,r),t,!0)}return u_}const po=void 0;var vz=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ja={};function kn(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=sx(e);if(t)return t;const r=e.split("-")[0];if(t=sx(r),t)return t;if("en"===r)return vz;throw new Error(`Missing locale data for the locale "${n}".`)}function sx(n){return n in Ja||(Ja[n]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[n]),Ja[n]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const Yh="en-US";let ox=Yh;function d_(n,e,t,r,i){if(n=ue(n),Array.isArray(n))for(let s=0;s<n.length;s++)d_(n[s],e,t,r,i);else{const s=we(),o=A();let a=La(n)?n:ue(n.provide),u=P1(n);const l=It(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(La(n)||!n.multi){const f=new Rl(u,i,T),m=f_(a,e,i?c:c+h,d);-1===m?(Ih(Pl(l,o),s,a),h_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[m]=f,o[m]=f)}else{const f=f_(a,e,c+h,d),m=f_(a,e,c,c+h),_=f>=0&&t[f],v=m>=0&&t[m];if(i&&!v||!i&&!_){Ih(Pl(l,o),s,a);const E=function(n,e,t,r,i){const s=new Rl(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,xx(s,i,r&&!t),s}(i?yW:mW,t.length,i,r,u);!i&&v&&(t[m].providerFactory=E),h_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(E),o.push(E)}else h_(s,n,f>-1?f:m,xx(t[i?m:f],u,!i&&r));!i&&r&&v&&t[m].componentProviders++}}}function h_(n,e,t,r){const i=La(e),s=function(n){return!!n.useClass}(e);if(i||s){const u=(s?ue(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function xx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function f_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function mW(n,e,t,r){return p_(this.multi,[])}function yW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Fl(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),p_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],p_(i,s);return s}function p_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=we();if(r.firstCreatePass){const i=qr(n);d_(t,r.data,r.blueprint,i,!0),d_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Nx{}class bW{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let go=(()=>{class n{}return n.NULL=new bW,n})();function EW(){return Za(It(),A())}function Za(n,e){return new gr(Ar(n,e))}let gr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=EW,n})();class lc{}let Hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=A(),t=lr(It().index,n);return function(n){return n[11]}(ui(t)?t:n)}(),n})(),DW=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class eu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Rx=new eu("13.1.1"),g_={};function tf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(mt(s)),Hr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&tf(u[1],u,l,r)}const o=t.type;if(8&o)tf(n,e,t.child,r);else if(32&o){const a=hy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=qA(e,t);if(Array.isArray(a))r.push(...a);else{const u=Yl(e[16]);tf(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class cc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return tf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Hr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(yy(e,r),Sh(t,r))}this._attachedToViewContainer=!1}PA(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,r){const i=D1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&S1(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){By(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$y(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){gh(!0);try{$y(n,e,t)}finally{gh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Jl(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class SW extends cc{constructor(e){super(e),this._view=e}detectChanges(){I1(this._view)}checkNoChanges(){!function(n){gh(!0);try{I1(n)}finally{gh(!1)}}(this._view)}get context(){return null}}class kx extends go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=fn(e);return new m_(t,this.ngModule)}}function Px(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const MW=new re("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>SA});class m_ extends Nx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(qq).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Px(this.componentDef.inputs)}get outputs(){return Px(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,g_,i);return s!==g_||r===g_?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(lc,CS),a=s.get(DW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(n,e,t){if(et(n))return n.selectRootElement(e,t===jr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):my(o.createRenderer(null,this.componentDef),l,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||SA,clean:N3,playerHandler:e||null,flags:0}}(),f=Bh(0,null,null,1,0,null,null,null,null,null),m=Xl(null,f,h,d,null,null,o,u,a,s);let _,v;mh(m);try{const E=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Ra(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&($h(u,l,!0),null!==n&&(bh(i,n,l),null!==u.classes&&Ey(i,n,u.classes),null!==u.styles&&WA(i,n,u.styles)));const c=r.createRenderer(n,e),d=Xl(t,f1(e),null,e.onPush?64:16,t[20],u,r,c,s||null,null);return o.firstCreatePass&&(Ih(Pl(u,t),o,e.type),b1(o,u),E1(u,t.length,1)),jh(t,d),t[20]=d}(c,this.componentDef,m,o,u);if(c)if(r)bh(u,c,["ng-version",Rx.full]);else{const{attrs:w,classes:N}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Gr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&bh(u,c,w),N&&N.length>0&&Ey(u,c,N.join(" "))}if(v=Nm(f,20),void 0!==t){const w=v.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const P=t[N];w.push(null!=P?Array.from(P):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=It();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),T1(n,r,e,ka(n,e,1,null),t));const i=Fl(e,n,r.directiveStart,r);gn(i,e);const s=Ar(r,e);return s&&gn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=It();e.contentQueries(1,o,u.directiveStart)}const a=It();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ws(a.index),v1(t[1],a,0,a.directiveStart,a.directiveEnd,e),w1(e,o)),o}(E,this.componentDef,m,h,[J3]),Zl(f,m,null)}finally{yh()}return new OW(this.componentType,_,Za(v,m),m,v)}}class OW extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new SW(i),this.componentType=e}get injector(){return new ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qi{}class Fx{}const tu=new Map;class Ux extends qi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kx(this);const r=Ir(e);this._bootstrapComponents=fi(r.bootstrap),this._r3Injector=k1(e,t,[{provide:qi,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=dt.THROW_IF_NOT_FOUND,r=se.Default){return e===dt||e===qi||e===qy?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class y_ extends Fx{constructor(e){super(),this.moduleType=e,null!==Ir(e)&&function(n){const e=new Set;!function t(r){const i=Ir(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ve(e)} vs ${ve(e.name)}`)}(s,tu.get(s),r),tu.set(s,r));const o=fi(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new Ux(this.moduleType,e)}}function mr(n,e,t,r){return function(n,e,t,r,i,s){const o=e+t;return mn(n,o,i)?gi(n,o+1,s?r.call(s,i):r(i)):dc(n,o+1)}(A(),xn(),n,e,t,r)}function dc(n,e){const t=n[e];return t===ie?void 0:t}function jx(n,e,t,r,i,s,o){const a=e+t;return function(n,e,t,r){const i=mn(n,e,t);return mn(n,e+1,r)||i}(n,a,i,s)?gi(n,a+2,o?r.call(o,i,s):r(i,s)):dc(n,a+2)}function __(n,e){const t=we();let r;const i=n+20;t.firstCreatePass?(r=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=lo(r.type)),o=ms(T);try{const a=Th(!1),u=s();return Th(a),function(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,A(),i,u),u}finally{ms(o)}}function v_(n,e,t,r){const i=n+20,s=A(),o=function(n,e){return n[e]}(s,i);return function(n,e){return n[1].data[e].pure}(s,i)?jx(s,xn(),e,o.transform,t,r,o):o.transform(t,r)}function w_(n){return e=>{setTimeout(n,void 0,e)}}const it=class extends dn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=w_(u),a&&(a=w_(a)),l&&(l=w_(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof gt&&e.add(c),c}};Symbol;let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZW,n})();const JW=Gi,XW=class extends JW{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Xl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Zl(t,r,e),new cc(r)}};function ZW(){return function(n,e){return 4&n.type?new XW(e,n,Za(n,e)):null}(It(),A())}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=e4,n})();function e4(){return function(n,e){let t;const r=e[n.index];if(Hr(r))t=r;else{let i;if(8&n.type)i=mt(r);else{const s=e[11];i=s.createComment("");const o=Ar(n,e);ho(s,kh(s,o),i,function(n,e){return et(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=C1(r,e,i,n),jh(e,t)}return new Gx(t,n,e)}(It(),A())}const t4=Yr,Gx=class extends t4{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new ba(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ch(this._hostTNode,this._hostLView);if(BS(e)){const t=wa(e,this._hostLView),r=va(e);return new ba(t[1].data[r+8],t)}return new ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=zx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new m_(fn(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule&&l){const d=l.get(qi,null);d&&(s=d)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(Hr(r[3])){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Gx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],YS(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=wy(s,o),u=r[11],l=kh(u,o[7]);return null!==l&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Jl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),YS(E_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=zx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=yy(this._lContainer,t);r&&(Sh(E_(this._lContainer),t),PA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=yy(this._lContainer,t);return r&&null!=Sh(E_(this._lContainer),t)?new cc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function zx(n){return n[8]}function E_(n){return n[8]||(n[8]=[])}function of(...n){}const af=new re("Application Initializer");let ru=(()=>{class n{constructor(t){this.appInits=t,this.resolve=of,this.reject=of,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(rc(s))t.push(s);else if(i_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(af,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const pc=new re("AppId"),M4={provide:pc,useFactory:function(){return`${F_()}${F_()}${F_()}`},deps:[]};function F_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gN=new re("Platform Initializer"),gc=new re("Platform ID"),mN=new re("appBootstrapListener");let yN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Cs=new re("LocaleId"),_N=new re("DefaultCurrencyCode");class x4{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let uf=(()=>{class n{compileModuleSync(t){return new y_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=fi(Ir(t).declarations).reduce((o,a)=>{const u=fn(a);return u&&o.push(new m_(u)),o},[]);return new x4(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const O4=(()=>Promise.resolve(0))();function L_(n){"undefined"==typeof Zone?O4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Re,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,U_(n),n.isCheckStableRunning=!0,V_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),U_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return vN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),wN(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return vN(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),wN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,U_(n),V_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,k4,of,of);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const k4={};function V_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function U_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wN(n){n._nesting--,V_(n)}class L4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let B_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),L_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())L_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),bN=(()=>{class n{constructor(){this._applications=new Map,j_.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return j_.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class V4{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Jr,j_=new V4;const EN=new re("AllowMultipleToken");class TN{constructor(e,t){this.name=e,this.token=t}}function CN(n,e,t=[]){const r=`Platform: ${e}`,i=new re(r);return(s=[])=>{let o=IN();if(!o||o.injector.get(EN,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Gy,useValue:"platform"});!function(n){if(Jr&&!Jr.destroyed&&!Jr.injector.get(EN,!1))throw new ir("400","");Jr=n.get(DN);const e=n.get(gN,null);e&&e.forEach(t=>t())}(dt.create({providers:a,name:r}))}return function(n){const e=IN();if(!e)throw new ir("401","");return e}()}}function IN(){return Jr&&!Jr.destroyed?Jr:null}let DN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new L4:("zone.js"===n?void 0:n)||new Le({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Le,useValue:a}];return a.run(()=>{const l=dt.create({providers:u,parent:this.injector,name:t.moduleType.name}),c=t.create(l),d=c.injector.get(xa,null);if(!d)throw new ir("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{$_(this._modules,c),h.unsubscribe()})}),function(n,e,t){try{const r=t();return rc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(ru);return h.runInitializers(),h.donePromise.then(()=>(function(n){or(n,"Expected localeId to be defined"),"string"==typeof n&&(ox=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Cs,Yh)||Yh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=SN({},r);return function(n,e,t){const r=new y_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(mo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ir("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ir("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(dt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function SN(n,e){return Array.isArray(e)?e.reduce(SN,n):Object.assign(Object.assign({},n),e)}let mo=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new He(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new He(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),L_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function(...n){const e=Sl(n),t=function(n,e){return"number"==typeof pm(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?ai(r[0]):Dl(t)(Pt(r,e)):Pi}(a,u.pipe(function(n={}){const{connector:e=(()=>new dn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},m=()=>{const _=o;f(),null==_||_.unsubscribe()};return Qt((_,v)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();v.add(()=>{l--,0===l&&!d&&!c&&(a=gm(m,i))}),E.subscribe(v),o||(o=new me({next:w=>E.next(w),error:w=>{d=!0,h(),a=gm(f,t,w),E.error(w)},complete:()=>{c=!0,h(),a=gm(f,r),E.complete()}}),Pt(_).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new ir("405","");let i;i=t instanceof Nx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(qi),a=i.create(dt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(B_,null),c=l&&a.injector.get(bN);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),$_(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ir("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mN,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(L(Le),L(dt),L(xa),L(go),L(ru))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function $_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let MN=!0,H_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Q4,n})();function Q4(n){return function(n,e,t){if(dh(n)&&!t){const r=lr(n.index,e);return new cc(r,r)}return 47&n.type?new cc(e[16],e):null}(It(),A(),16==(16&n))}class FN{constructor(){}supports(e){return tc(e)}create(e){return new n8(e)}}const t8=(n,e)=>e;class n8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||t8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<VN(r,i,s)?t:r,a=VN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,m=f+h;c<=m&&m<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!tc(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Va()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new r8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new LN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class r8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class i8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class LN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new i8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class UN{constructor(){}supports(e){return e instanceof Map||Jy(e)}create(){return new s8}}class s8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Jy(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new o8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class o8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BN(){return new mc([new FN])}let mc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BN()),deps:[[n,new Sa,new ct]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:BN}),n})();function jN(){return new iu([new UN])}let iu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||jN()),deps:[[n,new Sa,new ct]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:jN}),n})();const u8=[new UN],c8=new mc([new FN]),d8=new iu(u8),h8=CN(null,"core",[{provide:gc,useValue:"unknown"},{provide:DN,deps:[dt]},{provide:bN,deps:[]},{provide:yN,deps:[]}]),y8=[{provide:mo,useClass:mo,deps:[Le,dt,xa,go,ru]},{provide:MW,deps:[Le],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new ct,af]]},{provide:uf,useClass:uf,deps:[]},M4,{provide:mc,useFactory:function(){return c8},deps:[]},{provide:iu,useFactory:function(){return d8},deps:[]},{provide:Cs,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Yh},deps:[[new ql(Cs),new ct,new Sa]]},{provide:_N,useValue:"USD"}];let v8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(mo))},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:y8}),n})(),cf=null;function _i(){return cf}const Lt=new re("DocumentToken");let _o=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(){return L($N)},providedIn:"platform"}),n})();const C8=new re("Location Initialized");let $N=(()=>{class n extends _o{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(t){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){HN()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){HN()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:function(){return new $N(L(Lt))},providedIn:"platform"}),n})();function HN(){return!!window.history.pushState}function K_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function qN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function zi(n){return n&&"?"!==n[0]?"?"+n:n}let su=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(){return function(n){const e=L(Lt).location;return new GN(L(_o),e&&e.origin||"")}()},providedIn:"root"}),n})();const Q_=new re("appBaseHref");let GN=(()=>{class n extends su{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return K_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+zi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+zi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+zi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(_o),L(Q_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),S8=(()=>{class n extends su{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=K_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(_o),L(Q_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Y_=(()=>{class n{constructor(t,r){this._subject=new it,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=qN(zN(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+zi(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,zN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=zi,n.joinWithSlash=K_,n.stripTrailingSlash=qN,n.\u0275fac=function(t){return new(t||n)(L(su),L(_o))},n.\u0275prov=X({token:n,factory:function(){return new Y_(L(su),L(_o))},providedIn:"root"}),n})();function zN(n){return n.replace(/\/index.html$/,"")}var yt=(()=>((yt=yt||{})[yt.Zero=0]="Zero",yt[yt.One=1]="One",yt[yt.Two=2]="Two",yt[yt.Few=3]="Few",yt[yt.Many=4]="Many",yt[yt.Other=5]="Other",yt))(),ht=(()=>((ht=ht||{})[ht.Format=0]="Format",ht[ht.Standalone=1]="Standalone",ht))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Ye=(()=>((Ye=Ye||{})[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function df(n,e){return Or(kn(n)[V.DateFormat],e)}function hf(n,e){return Or(kn(n)[V.TimeFormat],e)}function ff(n,e){return Or(kn(n)[V.DateTimeFormat],e)}function Nr(n,e){const t=kn(n),r=t[V.NumberSymbols][e];if(void 0===r){if(e===W.CurrencyDecimal)return t[V.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return t[V.NumberSymbols][W.Group]}return r}const F8=function(n){return kn(n)[V.PluralCase]};function KN(n){if(!n[V.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[V.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Or(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function X_(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const $8=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},H8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),Q=(()=>((Q=Q||{})[Q.FullYear=0]="FullYear",Q[Q.Month=1]="Month",Q[Q.Date=2]="Date",Q[Q.Hours=3]="Hours",Q[Q.Minutes=4]="Minutes",Q[Q.Seconds=5]="Seconds",Q[Q.FractionalSeconds=6]="FractionalSeconds",Q[Q.Day=7]="Day",Q))(),ce=(()=>((ce=ce||{})[ce.DayPeriods=0]="DayPeriods",ce[ce.Days=1]="Days",ce[ce.Months=2]="Months",ce[ce.Eras=3]="Eras",ce))();function pf(n,e,t,r){let i=function(n){if(JN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return gf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match($8))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,l),e}(r)}const e=new Date(n);if(!JN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Wi(t,e)||e;let a,o=[];for(;e;){if(a=H8.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const c=o.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=YN(r,u),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(YN(e,i)-i))}(i,r));let l="";return o.forEach(c=>{const d=function(n){if(ev[n])return ev[n];let e;switch(n){case"G":case"GG":case"GGG":e=$e(ce.Eras,ge.Abbreviated);break;case"GGGG":e=$e(ce.Eras,ge.Wide);break;case"GGGGG":e=$e(ce.Eras,ge.Narrow);break;case"y":e=_t(Q.FullYear,1,0,!1,!0);break;case"yy":e=_t(Q.FullYear,2,0,!0,!0);break;case"yyy":e=_t(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=_t(Q.FullYear,4,0,!1,!0);break;case"Y":e=vf(1);break;case"YY":e=vf(2,!0);break;case"YYY":e=vf(3);break;case"YYYY":e=vf(4);break;case"M":case"L":e=_t(Q.Month,1,1);break;case"MM":case"LL":e=_t(Q.Month,2,1);break;case"MMM":e=$e(ce.Months,ge.Abbreviated);break;case"MMMM":e=$e(ce.Months,ge.Wide);break;case"MMMMM":e=$e(ce.Months,ge.Narrow);break;case"LLL":e=$e(ce.Months,ge.Abbreviated,ht.Standalone);break;case"LLLL":e=$e(ce.Months,ge.Wide,ht.Standalone);break;case"LLLLL":e=$e(ce.Months,ge.Narrow,ht.Standalone);break;case"w":e=Z_(1);break;case"ww":e=Z_(2);break;case"W":e=Z_(1,!0);break;case"d":e=_t(Q.Date,1);break;case"dd":e=_t(Q.Date,2);break;case"c":case"cc":e=_t(Q.Day,1);break;case"ccc":e=$e(ce.Days,ge.Abbreviated,ht.Standalone);break;case"cccc":e=$e(ce.Days,ge.Wide,ht.Standalone);break;case"ccccc":e=$e(ce.Days,ge.Narrow,ht.Standalone);break;case"cccccc":e=$e(ce.Days,ge.Short,ht.Standalone);break;case"E":case"EE":case"EEE":e=$e(ce.Days,ge.Abbreviated);break;case"EEEE":e=$e(ce.Days,ge.Wide);break;case"EEEEE":e=$e(ce.Days,ge.Narrow);break;case"EEEEEE":e=$e(ce.Days,ge.Short);break;case"a":case"aa":case"aaa":e=$e(ce.DayPeriods,ge.Abbreviated);break;case"aaaa":e=$e(ce.DayPeriods,ge.Wide);break;case"aaaaa":e=$e(ce.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=$e(ce.DayPeriods,ge.Abbreviated,ht.Standalone,!0);break;case"bbbb":e=$e(ce.DayPeriods,ge.Wide,ht.Standalone,!0);break;case"bbbbb":e=$e(ce.DayPeriods,ge.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(ce.DayPeriods,ge.Abbreviated,ht.Format,!0);break;case"BBBB":e=$e(ce.DayPeriods,ge.Wide,ht.Format,!0);break;case"BBBBB":e=$e(ce.DayPeriods,ge.Narrow,ht.Format,!0);break;case"h":e=_t(Q.Hours,1,-12);break;case"hh":e=_t(Q.Hours,2,-12);break;case"H":e=_t(Q.Hours,1);break;case"HH":e=_t(Q.Hours,2);break;case"m":e=_t(Q.Minutes,1);break;case"mm":e=_t(Q.Minutes,2);break;case"s":e=_t(Q.Seconds,1);break;case"ss":e=_t(Q.Seconds,2);break;case"S":e=_t(Q.FractionalSeconds,1);break;case"SS":e=_t(Q.FractionalSeconds,2);break;case"SSS":e=_t(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yf(At.Short);break;case"ZZZZZ":e=yf(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yf(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yf(At.Long);break;default:return null}return ev[n]=e,e}(c);l+=d?d(i,t,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wi(n,e){const t=function(n){return kn(n)[V.LocaleId]}(n);if(yc[t]=yc[t]||{},yc[t][e])return yc[t][e];let r="";switch(e){case"shortDate":r=df(n,Ye.Short);break;case"mediumDate":r=df(n,Ye.Medium);break;case"longDate":r=df(n,Ye.Long);break;case"fullDate":r=df(n,Ye.Full);break;case"shortTime":r=hf(n,Ye.Short);break;case"mediumTime":r=hf(n,Ye.Medium);break;case"longTime":r=hf(n,Ye.Long);break;case"fullTime":r=hf(n,Ye.Full);break;case"short":const i=Wi(n,"shortTime"),s=Wi(n,"shortDate");r=mf(ff(n,Ye.Short),[i,s]);break;case"medium":const o=Wi(n,"mediumTime"),a=Wi(n,"mediumDate");r=mf(ff(n,Ye.Medium),[o,a]);break;case"long":const u=Wi(n,"longTime"),l=Wi(n,"longDate");r=mf(ff(n,Ye.Long),[u,l]);break;case"full":const c=Wi(n,"fullTime"),d=Wi(n,"fullDate");r=mf(ff(n,Ye.Full),[c,d])}return r&&(yc[t][e]=r),r}function mf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Xr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function _t(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function(n,e){switch(n){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Q.Hours)0===a&&-12===t&&(a=12);else if(n===Q.FractionalSeconds)return function(n,e){return Xr(n,3).substr(0,e)}(a,e);const u=Nr(o,W.MinusSign);return Xr(a,e,u,r,i)}}function $e(n,e,t=ht.Format,r=!1){return function(i,s){return function(n,e,t,r,i,s){switch(t){case ce.Months:return function(n,e,t){const r=kn(n),s=Or([r[V.MonthsFormat],r[V.MonthsStandalone]],e);return Or(s,t)}(e,i,r)[n.getMonth()];case ce.Days:return function(n,e,t){const r=kn(n),s=Or([r[V.DaysFormat],r[V.DaysStandalone]],e);return Or(s,t)}(e,i,r)[n.getDay()];case ce.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function(n){const e=kn(n);return KN(e),(e[V.ExtraData][2]||[]).map(r=>"string"==typeof r?X_(r):[X_(r[0]),X_(r[1])])}(e),c=function(n,e,t){const r=kn(n);KN(r);const s=Or([r[V.ExtraData][0],r[V.ExtraData][1]],e)||[];return Or(s,t)||[]}(e,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,m]=h,_=o>=f.hours&&a>=f.minutes,v=o<m.hours||o===m.hours&&a<m.minutes;if(f.hours<m.hours){if(_&&v)return!0}else if(_||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function(n,e,t){const r=kn(n),s=Or([r[V.DayPeriodsFormat],r[V.DayPeriodsStandalone]],e);return Or(s,t)}(e,i,r)[o<12?0:1];case ce.Eras:return function(n,e){return Or(kn(n)[V.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function yf(n){return function(e,t,r){const i=-1*r,s=Nr(t,W.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case At.Short:return(i>=0?"+":"")+Xr(o,2,s)+Xr(Math.abs(i%60),2,s);case At.ShortGMT:return"GMT"+(i>=0?"+":"")+Xr(o,1,s);case At.Long:return"GMT"+(i>=0?"+":"")+Xr(o,2,s)+":"+Xr(Math.abs(i%60),2,s);case At.Extended:return 0===r?"Z":(i>=0?"+":"")+Xr(o,2,s)+":"+Xr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function QN(n){return gf(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Z_(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=QN(t),o=function(n){const e=gf(n,0,1).getDay();return gf(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Xr(i,n,Nr(r,W.MinusSign))}}function vf(n,e=!1){return function(t,r){return Xr(QN(t).getFullYear(),n,Nr(r,W.MinusSign),e)}}const ev={};function YN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function JN(n){return n instanceof Date&&!isNaN(n.valueOf())}class bf{}let c6=(()=>{class n extends bf{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(F8(r||this.locale)(t)){case yt.Zero:return"zero";case yt.One:return"one";case yt.Two:return"two";case yt.Few:return"few";case yt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(L(Cs))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),ou=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(tc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(T(mc),T(iu),T(gr),T(Hi))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class f6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Is=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new f6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),tO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{tO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Yr),T(Gi),T(mc))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function tO(n,e){n.context.$implicit=e.item}let yn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new p6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Yr),T(Gi))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class p6{constructor(){this.$implicit=null,this.ngIf=null}}function nO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ve(e)}'.`)}const M6=new re("DATE_PIPE_DEFAULT_TIMEZONE");let av=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var o;if(null==t||""===t||t!=t)return null;try{return pf(t,r,s||this.locale,null!==(o=null!=i?i:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${ve(n)}'`)}(n,a.message)}}}return n.\u0275fac=function(t){return new(t||n)(T(Cs,16),T(M6,24))},n.\u0275pipe=Mn({name:"date",type:n,pure:!0}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:[{provide:bf,useClass:c6}]}),n})();let H6=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new q6(L(Lt),window)}),n})();class q6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=aO(this.window.history)||aO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function aO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cv extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new cv,cf||(cf=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(vc=vc||document.querySelector("base"),vc?vc.getAttribute("href"):null);return null==t?null:function(n){Ef=Ef||document.createElement("a"),Ef.setAttribute("href",n);const e=Ef.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ef,vc=null;const uO=new re("TRANSITION_ID"),J6=[{provide:af,useFactory:function(n,e,t){return()=>{t.get(ru).donePromise.then(()=>{const r=_i(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[uO,Lt,dt],multi:!0}];class dv{static init(){var n;n=new dv,j_=n}addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?_i().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let X6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Tf=new re("EventManagerPlugins");let Cf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(Tf),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class lO{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=_i().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let cO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),wc=(()=>{class n extends cO{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(dO),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dO))}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function dO(n){_i().remove(n)}const hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fv=/%COMP%/g;function If(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?If(n,i,t):(i=i.replace(fv,n),t.push(i))}return t}function pO(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Df=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case jr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new iK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case jr.ShadowDom:return new sK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=If(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(Cf),L(wc),L(pc))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class pv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=hv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=hv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pO(r)):this.eventManager.addEventListener(e,t,pO(r))}}class iK extends pv{constructor(e,t,r,i){super(e),this.component=r;const s=If(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(fv,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(fv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sK extends pv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=If(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oK=(()=>{class n extends lO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const mO=["alt","control","meta","shift"],uK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cK=(()=>{class n extends lO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(mO.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yO.hasOwnProperty(e)&&(e=yO[e]))}return uK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mO.forEach(s=>{s!=i&&lK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const gK=CN(h8,"browser",[{provide:gc,useValue:"browser"},{provide:gN,useValue:function(){cv.makeCurrent(),dv.init()},multi:!0},{provide:Lt,useFactory:function(){return n=document,Mm=n,document;var n},deps:[]}]),mK=[{provide:Gy,useValue:"root"},{provide:xa,useFactory:function(){return new xa},deps:[]},{provide:Tf,useClass:oK,multi:!0,deps:[Lt,Le,gc]},{provide:Tf,useClass:cK,multi:!0,deps:[Lt]},{provide:Df,useClass:Df,deps:[Cf,wc,pc]},{provide:lc,useExisting:Df},{provide:cO,useExisting:wc},{provide:wc,useClass:wc,deps:[Lt]},{provide:B_,useClass:B_,deps:[Le]},{provide:Cf,useClass:Cf,deps:[Tf,Le]},{provide:class{},useClass:X6,deps:[]}];let _O=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:pc,useValue:t.appId},{provide:uO,useExisting:pc},J6]}}}return n.\u0275fac=function(t){return new(t||n)(L(n,12))},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:mK,imports:[sO,v8]}),n})();"undefined"!=typeof window&&window;let bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(t){let r=null;return r=t?new(t||n):L(EO),r},providedIn:"root"}),n})(),EO=(()=>{class n extends bO{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fe.NONE:return r;case Fe.HTML:return di(r,"HTML")?hr(r):vA(this._doc,String(r)).toString();case Fe.STYLE:return di(r,"Style")?hr(r):r;case Fe.SCRIPT:if(di(r,"Script"))return hr(r);throw new Error("unsafe value used in a script context");case Fe.URL:return dA(r),di(r,"URL")?hr(r):zl(String(r));case Fe.RESOURCE_URL:if(di(r,"ResourceURL"))return hr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new DH(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new SH(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new AH(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new MH(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new xH(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new EO(n.get(Lt))}(L(dt)),r},providedIn:"root"}),n})();const{isArray:SK}=Array,{getPrototypeOf:AK,prototype:MK,keys:xK}=Object;function TO(n){if(1===n.length){const e=n[0];if(SK(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&AK(n)===MK}(e)){const t=xK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:OK}=Array;function CO(n){return Ve(e=>function(n,e){return OK(e)?n(...e):n(e)}(n,e))}function IO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let DO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Hi),T(gr))},n.\u0275dir=J({type:n}),n})(),vo=(()=>{class n extends DO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cr(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[je]}),n})();const vi=new re("NgValueAccessor"),FK={provide:vi,useExisting:Ue(()=>wi),multi:!0},VK=new re("CompositionEventMode");let wi=(()=>{class n extends DO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=_i()?_i().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Hi),T(gr),T(VK,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&oe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ge([FK]),je]}),n})();function Ss(n){return null==n||0===n.length}function AO(n){return null!=n&&"number"==typeof n.length}const _n=new re("NgValidators"),As=new re("NgAsyncValidators"),UK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ft{static min(e){return function(n){return e=>{if(Ss(e.value)||Ss(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Ss(e.value)||Ss(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return NO(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return RO(e)}static minLength(e){return kO(e)}static maxLength(e){return PO(e)}static pattern(e){return function(n){if(!n)return bc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ss(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return $O(e)}static composeAsync(e){return HO(e)}}function NO(n){return Ss(n.value)?{required:!0}:null}function RO(n){return Ss(n.value)||UK.test(n.value)?null:{email:!0}}function kO(n){return e=>Ss(e.value)||!AO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function PO(n){return e=>AO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function bc(n){return null}function LO(n){return null!=n}function VO(n){const e=rc(n)?Pt(n):n;return i_(e),e}function UO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function BO(n,e){return e.map(t=>t(n))}function jO(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function $O(n){if(!n)return null;const e=n.filter(LO);return 0==e.length?null:function(t){return UO(BO(t,e))}}function mv(n){return null!=n?$O(jO(n)):null}function HO(n){if(!n)return null;const e=n.filter(LO);return 0==e.length?null:function(t){return function(...n){const e=oS(n),{args:t,keys:r}=TO(n),i=new He(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;ai(t[c]).subscribe(new Rt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?IO(r,a):a),s.complete())}))}});return e?i.pipe(CO(e)):i}(BO(t,e).map(VO)).pipe(Ve(UO))}}function yv(n){return null!=n?HO(jO(n)):null}function qO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GO(n){return n._rawValidators}function zO(n){return n._rawAsyncValidators}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function Sf(n,e){return Array.isArray(n)?n.includes(e):n===e}function WO(n,e){const t=_v(e);return _v(n).forEach(i=>{Sf(t,i)||t.push(i)}),t}function KO(n,e){return _v(e).filter(t=>!Sf(n,t))}class QO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ms extends QO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn extends QO{get formDirective(){return null}get path(){return null}}class YO{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let xs=(()=>{class n extends YO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ms,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Kh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[je]}),n})(),au=(()=>{class n extends YO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Fn,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Kh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[je]}),n})();function Mf(n,e){return[...e.path,n]}function Ec(n,e){bv(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JO(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Of(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bv(n,e){const t=GO(n);null!==e.validator?n.setValidators(qO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zO(n);null!==e.asyncValidator?n.setAsyncValidators(qO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i)}function Of(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=GO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=zO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r),t}function JO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ev(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Tv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===wi?t=s:function(n){return Object.getPrototypeOf(n.constructor)===vo}(s)?r=s:i=s}),i||r||t||null}function Rf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tc="VALID",kf="INVALID",uu="PENDING",Cc="DISABLED";function Cv(n){return(Dv(n)?n.validators:n)||null}function eR(n){return Array.isArray(n)?mv(n):n||null}function Iv(n,e){return(Dv(e)?e.asyncValidators:n)||null}function tR(n){return Array.isArray(n)?yv(n):n||null}function Dv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Sv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=eR(this._rawValidators),this._composedAsyncValidatorFn=tR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tc}get invalid(){return this.status===kf}get pending(){return this.status==uu}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=eR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=tR(e)}addValidators(e){this.setValidators(WO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KO(e,this._rawAsyncValidators))}hasValidator(e){return Sf(this._rawValidators,e)}hasAsyncValidator(e){return Sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===uu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uu,this._hasOwnPendingAsyncValidator=!0;const t=VO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof bi?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof Av&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uu)?uu:this._anyControlsHaveStatus(kf)?kf:Tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lu extends Sv{constructor(e=null,t,r){super(Cv(t),Iv(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bi extends Sv{constructor(e,t,r){super(Cv(t),Iv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof lu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Av extends Sv{constructor(e,t,r){super(Cv(t),Iv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof lu?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const e5={provide:Ms,useExisting:Ue(()=>Pf)},iR=(()=>Promise.resolve(null))();let Pf=(()=>{class n extends Ms{constructor(t,r,i,s){super(),this.control=new lu,this._registered=!1,this.update=new it,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Tv(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ev(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Mf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ec(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;iR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(T(Fn,9),T(_n,10),T(As,10),T(vi,10))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([e5]),je,ur]}),n})(),cu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({}),n})();const xv=new re("NgModelWithFormControlWarning"),o5={provide:Fn,useExisting:Ue(()=>Ns)};let Ns=(()=>{class n extends Fn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new it,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Of(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ec(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xf(t.control||null,t,!1),Rf(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(xf(r||null,t),i instanceof lu&&(Ec(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){bv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Of(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bv(this.form,this),this._oldForm&&Of(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(T(_n,10),T(As,10))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&oe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([o5]),je,ur]}),n})();const l5={provide:Ms,useExisting:Ue(()=>wo)};let wo=(()=>{class n extends Ms{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new it,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Tv(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Ev(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Mf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(T(Fn,13),T(_n,10),T(As,10),T(vi,10),T(xv,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([l5]),je,ur]}),n})();function fR(n){return"number"==typeof n?n:parseInt(n,10)}let Ff=(()=>{class n{constructor(){this._validator=bc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):bc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[ur]}),n})();const _5={provide:_n,useExisting:Ue(()=>Os),multi:!0};let Os=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?NO(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Wn("required",r.required?"":null)},inputs:{required:"required"},features:[Ge([_5])]}),n})();const w5={provide:_n,useExisting:Ue(()=>Pv),multi:!0};let Pv=(()=>{class n{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?RO(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ge([w5])]}),n})();const b5={provide:_n,useExisting:Ue(()=>du),multi:!0};let du=(()=>{class n extends Ff{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>fR(t),this.createValidator=t=>kO(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cr(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Wn("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[Ge([b5]),je]}),n})();const E5={provide:_n,useExisting:Ue(()=>Lf),multi:!0};let Lf=(()=>{class n extends Ff{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>fR(t),this.createValidator=t=>PO(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cr(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Wn("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ge([E5]),je]}),n})(),vR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({imports:[[oR]]}),n})(),C5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({imports:[vR]}),n})(),wR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({imports:[vR]}),n})(),Dc=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let a,s=null,o=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new bi(i,{asyncValidators:o,updateOn:a,validators:s})}control(t,r,i){return new lu(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new Av(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof lu||t instanceof bi||t instanceof Av?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:wR}),n})();class bR{}const Ki="*";function S5(n,e){return{type:7,name:n,definitions:e,options:{}}}function ER(n,e=null){return{type:4,styles:e,timings:n}}function TR(n,e=null){return{type:2,steps:n,options:e}}function Sc(n){return{type:6,styles:n,offset:null}}function Fv(n,e,t){return{type:0,name:n,styles:e,options:t}}function CR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function IR(n){Promise.resolve(null).then(n)}class hu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){IR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class DR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?IR(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const SR=["toast-component",""];function A5(n,e){if(1&n){const t=Rn();p(0,"button",5),oe("click",function(){return Ct(t),j().remove()}),p(1,"span",6),C(2,"\xd7"),g(),g()}}function M5(n,e){if(1&n&&(zh(0),C(1),Wh()),2&n){const t=j(2);b(1),Jt("[",t.duplicatesCount+1,"]")}}function x5(n,e){if(1&n&&(p(0,"div"),C(1),M(2,M5,2,1,"ng-container",4),g()),2&n){const t=j();$i(t.options.titleClass),Wn("aria-label",t.title),b(1),Jt(" ",t.title," "),b(1),D("ngIf",t.duplicatesCount)}}function N5(n,e){if(1&n&&G(0,"div",7),2&n){const t=j();$i(t.options.messageClass),D("innerHTML",t.message,sy)}}function O5(n,e){if(1&n&&(p(0,"div",8),C(1),g()),2&n){const t=j();$i(t.options.messageClass),Wn("aria-label",t.message),b(1),Jt(" ",t.message," ")}}function R5(n,e){if(1&n&&(p(0,"div"),G(1,"div",9),g()),2&n){const t=j();b(1),Ya("width",t.width+"%")}}function k5(n,e){if(1&n){const t=Rn();p(0,"button",5),oe("click",function(){return Ct(t),j().remove()}),p(1,"span",6),C(2,"\xd7"),g(),g()}}function P5(n,e){if(1&n&&(zh(0),C(1),Wh()),2&n){const t=j(2);b(1),Jt("[",t.duplicatesCount+1,"]")}}function F5(n,e){if(1&n&&(p(0,"div"),C(1),M(2,P5,2,1,"ng-container",4),g()),2&n){const t=j();$i(t.options.titleClass),Wn("aria-label",t.title),b(1),Jt(" ",t.title," "),b(1),D("ngIf",t.duplicatesCount)}}function L5(n,e){if(1&n&&G(0,"div",7),2&n){const t=j();$i(t.options.messageClass),D("innerHTML",t.message,sy)}}function V5(n,e){if(1&n&&(p(0,"div",8),C(1),g()),2&n){const t=j();$i(t.options.messageClass),Wn("aria-label",t.message),b(1),Jt(" ",t.message," ")}}function U5(n,e){if(1&n&&(p(0,"div"),G(1,"div",9),g()),2&n){const t=j();b(1),Ya("width",t.width+"%")}}class B5{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Vf{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new dn,this._onAction=new dn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const AR={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},MR=new re("ToastConfig");class $5{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new dn,this._activate=new dn,this._manualClose=new dn,this._resetTimeout=new dn,this._countDuplicate=new dn}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class H5{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Vf?this._toastPackage:this._parentInjector.get(e,t,r)}}class q5 extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class G5{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let z5=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W5=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new q5(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new G5(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(L(z5),L(go),L(mo),L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rs=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const u=o&&a.title===t;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Fe.HTML,r));const c=new $5(u),d=new Vf(this.index,s,l,i,t,c),h=new H5(d,this._injector),f=new B5(s.toastComponent,h),m=u.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=m.instance;const _={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:m};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}}return n.\u0275fac=function(t){return new(t||n)(L(MR),L(W5),L(dt),L(bO),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K5=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(T(Rs),T(Vf),T(Le))},n.\u0275cmp=ut({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&oe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u_("@flyInOut",r.state),$i(r.toastClasses),Ya("display",r.displayStyle))},attrs:SR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(M(0,A5,3,0,"button",0),M(1,x5,3,5,"div",1),M(2,N5,1,3,"div",2),M(3,O5,2,4,"div",3),M(4,R5,2,2,"div",4)),2&t&&(D("ngIf",r.options.closeButton),b(1),D("ngIf",r.title),b(1),D("ngIf",r.message&&r.options.enableHtml),b(1),D("ngIf",r.message&&!r.options.enableHtml),b(1),D("ngIf",r.options.progressBar))},directives:[yn],encapsulation:2,data:{animation:[S5("flyInOut",[Fv("inactive",Sc({opacity:0})),Fv("active",Sc({opacity:1})),Fv("removed",Sc({opacity:0})),CR("inactive => active",ER("{{ easeTime }}ms {{ easing }}")),CR("active => removed",ER("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Q5=Object.assign(Object.assign({},AR),{toastComponent:K5});let Y5=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:MR,useValue:{default:Q5,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({imports:[[sO]]}),n})(),J5=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(T(Rs),T(Vf),T(mo))},n.\u0275cmp=ut({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&oe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&($i(r.toastClasses),Ya("display",r.displayStyle))},attrs:SR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(M(0,k5,3,0,"button",0),M(1,F5,3,5,"div",1),M(2,L5,1,3,"div",2),M(3,V5,2,4,"div",3),M(4,U5,2,2,"div",4)),2&t&&(D("ngIf",r.options.closeButton),b(1),D("ngIf",r.title),b(1),D("ngIf",r.message&&r.options.enableHtml),b(1),D("ngIf",r.message&&!r.options.enableHtml),b(1),D("ngIf",r.options.progressBar))},directives:[yn],encapsulation:2}),n})();function de(...n){return Pt(n,Sl(n))}Object.assign(Object.assign({},AR),{toastComponent:J5});class ei extends dn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function xR(n,e,t){n?ki(t,n,e):e()}const Uf=aa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Vv(...n){return Dl(1)(Pt(n,Sl(n)))}function NR(n){return new He(e=>{ai(n()).subscribe(e)})}function OR(){return Qt((n,e)=>{let t=null;n._refCount++;const r=new Rt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class t7 extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,z0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const t=this.getSubject();e.add(this.source.subscribe(new Rt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return OR()(this)}}function bo(n,e){return Qt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new Rt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;ai(n(u,c)).subscribe(i=new Rt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function r7(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(new Rt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function RR(n,e){return Qt(r7(n,e,arguments.length>=2,!0))}function fu(n,e){return Qt((t,r)=>{let i=0;t.subscribe(new Rt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ks(n){return Qt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new Rt(t,void 0,void 0,o=>{s=ai(n(o,ks(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ac(n,e){return Oe(e)?kt(n,e,1):kt(n,1)}function Uv(n){return n<=0?()=>Pi:Qt((e,t)=>{let r=[];e.subscribe(new Rt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kR(n=i7){return Qt((e,t)=>{let r=!1;e.subscribe(new Rt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function i7(){return new Uf}function PR(n){return Qt((e,t)=>{let r=!1;e.subscribe(new Rt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fu((i,s)=>n(i,s,r)):ro,ih(1),t?PR(e):kR(()=>new Uf))}function Qn(n,e,t){const r=Oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Qt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Rt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ro}class Qi{constructor(e,t){this.id=e,this.url=t}}class Yi extends Qi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Qi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FR extends Qi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a7 extends Qi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u7 extends Qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l7 extends Qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c7 extends Qi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d7 extends Qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h7 extends Qi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class f7{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p7{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g7{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m7{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pe="primary";class y7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gu(n){return new y7(n)}const BR="ngNavigationCancelingError";function Bv(n){const e=Error("NavigationCancelingError: "+n);return e[BR]=!0,e}function v7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jR(n[i],e[i]))return!1;return!0}function jR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function $R(n){return Array.prototype.concat.apply([],n)}function HR(n){return n.length>0?n[n.length-1]:null}function Xt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ti(n){return i_(n)?n:rc(n)?Pt(Promise.resolve(n)):de(n)}const E7={exact:function zR(n,e,t){if(!To(n.segments,e.segments)||!Bf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zR(n.children[r],e.children[r],t))return!1;return!0},subset:WR},qR={exact:function(n,e){return Ei(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jR(n[t],e[t]))},ignored:()=>!0};function GR(n,e,t){return E7[t.paths](n.root,e.root,t.matrixParams)&&qR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function WR(n,e,t){return KR(n,e,e.segments,t)}function KR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!To(i,t)||e.hasChildren()||!Bf(i,t,r))}if(n.segments.length===t.length){if(!To(n.segments,t)||!Bf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!WR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(To(n.segments,i)&&Bf(n.segments,i,r)&&n.children[pe])&&KR(n.children[pe],e,s,r)}}function Bf(n,e,t){return e.every((r,i)=>qR[t](n[i].parameters,r.parameters))}class Eo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return S7.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Mc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return ZR(this)}}function To(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class QR{}class YR{parse(e){const t=new F7(e);return new Eo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xc(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${$f(t)}=${$f(i)}`).join("&"):`${$f(t)}=${$f(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const S7=new YR;function jf(n){return n.segments.map(e=>ZR(e)).join("/")}function xc(n,e){if(!n.hasChildren())return jf(n);if(e){const t=n.children[pe]?xc(n.children[pe],!1):"",r=[];return Xt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${xc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Xt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Xt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[xc(n.children[pe],!1)]:[`${i}:${xc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${jf(n)}/${t[0]}`:`${jf(n)}/(${t.join("//")})`}}function JR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(n){return JR(n).replace(/%3B/gi,";")}function jv(n){return JR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hf(n){return decodeURIComponent(n)}function XR(n){return Hf(n.replace(/\+/g,"%20"))}function ZR(n){return`${jv(n.path)}${function(n){return Object.keys(n).map(e=>`;${jv(e)}=${jv(n[e])}`).join("")}(n.parameters)}`}const N7=/^[^\/()?;=#]+/;function qf(n){const e=n.match(N7);return e?e[0]:""}const O7=/^[^=?&#]+/,k7=/^[^&#]+/;class F7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ye(e,t)),r}parseSegment(){const e=qf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mc(Hf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qf(this.remaining);i&&(r=i,this.capture(r))}e[Hf(t)]=Hf(r)}parseQueryParam(e){const t=function(n){const e=n.match(O7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(k7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XR(t),s=XR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ek{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$v(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$v(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hv(e,this._root).map(t=>t.value)}}function $v(n,e){if(n===e.value)return e;for(const t of e.children){const r=$v(n,t);if(r)return r}return null}function Hv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Hv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tk extends ek{constructor(e,t){super(e),this.snapshot=t,qv(this,e)}toString(){return this.snapshot.toString()}}function nk(n,e){const t=function(n,e){const o=new Gf([],{},{},"",{},pe,e,null,n.root,-1,{});return new ik("",new Ji(o,[]))}(n,e),r=new ei([new Mc("",{})]),i=new ei({}),s=new ei({}),o=new ei({}),a=new ei(""),u=new yu(r,i,o,a,s,pe,e,t.root);return u.snapshot=t.root,new tk(new Ji(u,[]),t)}class yu{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ve(e=>gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ve(e=>gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gf{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ik extends ek{constructor(e,t){super(t),this.url=e,qv(this,t)}toString(){return sk(this._root)}}function qv(n,e){e.value._routerState=n,e.children.forEach(t=>qv(n,t))}function sk(n){const e=n.children.length>0?` { ${n.children.map(sk).join(", ")} } `:"";return`${n.value}${e}`}function Gv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ei(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ei(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ei(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zv(n,e){const t=Ei(n.params,e.params)&&function(n,e){return To(n,e)&&n.every((t,r)=>Ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zv(n.parent,e.parent))}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}(n,e,t);return new Ji(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Nc(n,a)),o}}const r=function(n){return new yu(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Nc(n,s));return new Ji(r,i)}}function zf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Oc(n){return"object"==typeof n&&null!=n&&n.outlets}function Wv(n,e,t,r,i){let s={};return r&&Xt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Eo(t.root===n?e:ok(t.root,n,e),s,i)}function ok(n,e,t){const r={};return Xt(n.children,(i,s)=>{r[s]=i===e?t:ok(i,e,t)}),new ye(n.segments,r)}class ak{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Oc);if(i&&i!==HR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function uk(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Wf(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Oc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!ck(u,l,o))return s;r+=2}else{if(!ck(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ye(n.segments.slice(r.pathIndex),n.children),Wf(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?Qv(n,e,t):r.match?Wf(n,0,i):Qv(n,e,t)}function Wf(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function(n){return Oc(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=uk(n.children[o],e,s))}),Xt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function Qv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Oc(s)){const u=K7(s.outlets);return new ye(r,u)}if(0===i&&zf(t[0])){r.push(new Mc(n.segments[e].path,lk(t[0]))),i++;continue}const o=Oc(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&zf(a)?(r.push(new Mc(o,lk(a))),i+=2):(r.push(new Mc(o,{})),i++)}return new ye(r,{})}function K7(n){const e={};return Xt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qv(new ye([],{}),0,t))}),e}function lk(n){const e={};return Xt(n,(t,r)=>e[r]=`${t}`),e}function ck(n,e,t){return n==t.path&&Ei(e,t.parameters)}class Y7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new m7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new p7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Gv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Yv{constructor(e,t){this.routes=e,this.module=t}}function Fs(n){return"function"==typeof n}function Co(n){return n instanceof Eo}const Rc=Symbol("INITIAL_VALUE");function kc(){return bo(n=>function(...n){const e=Sl(n),t=oS(n),{args:r,keys:i}=TO(n);if(0===r.length)return Pt([],e);const s=new He(function(n,e,t=ro){return r=>{xR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)xR(e,()=>{const l=Pt(n[u],e);let c=!1;l.subscribe(new Rt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>IO(i,o):ro));return t?s.pipe(CO(t)):s}(n.map(e=>e.pipe(ih(1),function(...n){const e=Sl(n);return Qt((t,r)=>{(e?Vv(n,t,e):Vv(n,t)).subscribe(r)})}(Rc)))).pipe(RR((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Rc?i:(s===Rc&&(r=!0),r||!1!==s&&o!==t.length-1&&!Co(s)?i:s),e)},Rc),fu(e=>e!==Rc),Ve(e=>Co(e)?e:!0===e),ih(1)))}class r9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pc,this.attachRef=null}}class Pc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new r9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Jv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.name=s||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new i9(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(Pc),T(Yr),T(go),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(VS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(It(),n)}("name"),T(H_))},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class i9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yu?this.route:e===Pc?this.childContexts:this.parent.get(e,t)}}let dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&G(0,"router-outlet")},directives:[Jv],encapsulation:2}),n})();function hk(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];s9(r,o9(e,r))}}function s9(n,e){n.children&&hk(n.children,e)}function o9(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Xv(n){const e=n.children&&n.children.map(Xv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=dk),t}function Rr(n){return n.outlet||pe}function fk(n,e){const t=n.filter(r=>Rr(r)===e);return t.push(...n.filter(r=>Rr(r)!==e)),t}const pk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Kf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||v7)(t,n,e);if(!s)return Object.assign({},pk);const o={};Xt(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Qf(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Yf(n,e,r)&&Rr(r)!==pe)}(n,t,r)){const o=new ye(e,function(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Rr(s)!==pe){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Rr(s)]=o}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Yf(n,e,r))}(n,t,r)){const o=new ye(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Yf(n,t,a)&&!i[Rr(a)]){const u=new ye([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Rr(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Yf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gk(n,e,t,r){return!!(Rr(n)===r||r!==pe&&Yf(e,t,n))&&("**"===n.path||Kf(e,n,t).matched)}function mk(n,e,t){return 0===e.length&&!n.children[t]}class Fc{constructor(e){this.segmentGroup=e||null}}class yk{constructor(e){this.urlTree=e}}function Jf(n){return new He(e=>e.error(new Fc(n)))}function _k(n){return new He(e=>e.error(new yk(n)))}function d9(n){return new He(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class p9{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qi)}apply(){const e=Qf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pe).pipe(Ve(s=>this.createUrlTree(Zv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ks(s=>{if(s instanceof yk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Fc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pe).pipe(Ve(i=>this.createUrlTree(Zv(i),e.queryParams,e.fragment))).pipe(ks(i=>{throw i instanceof Fc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ye([],{[pe]:e}):e;return new Eo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ve(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Pt(i).pipe(Ac(s=>{const o=r.children[s],a=fk(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ve(u=>({segment:u,outlet:s})))}),RR((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fu((i,s)=>n(i,s,r)):ro,Uv(1),t?PR(e):kR(()=>new Uf))}())}expandSegment(e,t,r,i,s,o){return Pt(r).pipe(Ac(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ks(l=>{if(l instanceof Fc)return de(null);throw l}))),pu(a=>!!a),ks((a,u)=>{if(a instanceof Uf||"EmptyError"===a.name){if(mk(t,i,s))return de(new ye([],{}));throw new Fc(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return gk(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Jf(t):Jf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_k(s):this.lineralizeSegments(r,s).pipe(kt(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:l,positionalParamSegments:c}=Kf(t,i,s);if(!a)return Jf(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?_k(d):this.lineralizeSegments(i,d).pipe(kt(h=>this.expandSegment(e,t,r,h.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?de(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ve(h=>(r._loadedConfig=h,new ye(i,{})))):de(new ye(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Kf(t,r,i);if(!o)return Jf(t);const l=i.slice(u);return this.getChildConfig(e,r,i).pipe(kt(d=>{const h=d.module,f=d.routes,{segmentGroup:m,slicedSegments:_}=Qf(t,a,l,f),v=new ye(m.segments,m.children);if(0===_.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(Ve(P=>new ye(a,P)));if(0===f.length&&0===_.length)return de(new ye(a,{}));const E=Rr(r)===s;return this.expandSegment(h,v,f,_,E?pe:s,!0).pipe(Ve(N=>new ye(a.concat(N.segments),N.children)))}))}getChildConfig(e,t,r){return t.children?de(new Yv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?de(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(kt(i=>{return i?this.configLoader.load(e.injector,t).pipe(Ve(s=>(t._loadedConfig=s,s))):(n=t,new He(e=>e.error(Bv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):de(new Yv([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?de(i.map(o=>{const a=e.get(o);let u;if((n=a)&&Fs(n.canLoad))u=a.canLoad(t,r);else{if(!Fs(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}var n;return Ti(u)})).pipe(kc(),Qn(o=>{if(!Co(o))return;const a=Bv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ve(o=>!0===o)):de(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[pe])return d9(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Eo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Xt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Zv(n){const e={};for(const r of Object.keys(n.children)){const s=Zv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}class vk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xf{constructor(e,t){this.component=e,this.route=t}}function y9(n,e,t){const r=n._root;return Lc(r,e?e._root:null,t,[r.value])}function Zf(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Lc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mu(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!To(n.url,e.url);case"pathParamsOrQueryParamsChange":return!To(n.url,e.url)||!Ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zv(n,e)||!Ei(n.queryParams,e.queryParams);default:return!zv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Lc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xf(a.outlet.component,o))}else o&&Vc(e,a,i),i.canActivateChecks.push(new vk(r)),Lc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>Vc(o,t.getContext(a),i)),i}function Vc(n,e,t){const r=mu(n),i=n.value;Xt(r,(s,o)=>{Vc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class x9{}function wk(n){return new He(e=>e.error(n))}class O9{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Qf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pe);if(null===t)return null;const r=new Gf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ji(r,t),s=new ik(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=rk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=fk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=bk(r);return i.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return mk(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!gk(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?HR(r).parameters:{};s=new Gf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(e),Rr(e),e.component,e,Ek(t),Tk(t)+r.length,Ik(e))}else{const f=Kf(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Gf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(e),Rr(e),e.component,e,Ek(t),Tk(t)+o.length,Ik(e))}const u=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:l,slicedSegments:c}=Qf(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var n;if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new Ji(s,f)]}if(0===u.length&&0===c.length)return[new Ji(s,[])];const d=Rr(e)===i,h=this.processSegment(u,l,c,d?pe:i);return null===h?null:[new Ji(s,h)]}}function P9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bk(n){const e=[],t=new Set;for(const r of n){if(!P9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=bk(r.children);e.push(new Ji(r.value,i))}return e.filter(r=>!t.has(r))}function Ek(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Tk(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ck(n){return n.data||{}}function Ik(n){return n.resolve||{}}function ew(n){return bo(e=>{const t=n(e);return t?Pt(t).pipe(Ve(()=>e)):de(e)})}class H9 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const tw=new re("ROUTES");class Dk{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Yv($R(o.injector.get(tw,void 0,se.Self|se.Optional)).map(Xv),o)}),ks(s=>{throw t._loader$=void 0,s}));return t._loader$=new t7(i,()=>new dn).pipe(OR()),t._loader$}loadModuleFactory(e){return Ti(e()).pipe(kt(t=>t instanceof Fx?de(t):Pt(this.compiler.compileModuleAsync(t))))}}class G9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function z9(n){throw n}function W9(n,e,t){return e.parse("/")}function Sk(n,e){return de(null)}const K9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dn,this.errorHandler=z9,this.malformedUriErrorHandler=W9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sk,afterPreactivation:Sk},this.urlHandlingStrategy=new G9,this.routeReuseStrategy=new H9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qi),this.console=o.get(yN);const d=o.get(Le);this.isNgZoneEnabled=d instanceof Le&&Le.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Eo(new ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dk(o,a,h=>this.triggerEvent(new LR(h)),h=>this.triggerEvent(new VR(h))),this.routerState=nk(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fu(i=>0!==i.id),Ve(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),bo(i=>{let s=!1,o=!1;return de(i).pipe(Qn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bo(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ep(a.source)&&(this.browserUrlTree=a.extractedUrl),de(a).pipe(bo(d=>{const h=this.transitions.getValue();return r.next(new Yi(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Pi:Promise.resolve(d)}),function(n,e,t,r){return bo(i=>function(n,e,t,r,i){return new p9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ve(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return kt(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new O9(n,e,t,r,i,s).recognize();return null===o?wk(new x9):de(o)}catch(o){return wk(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ve(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new u7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:m,restoredState:_,extras:v}=a,E=new Yi(h,this.serializeUrl(f),m,_);r.next(E);const w=nk(f,this.rootComponentType).snapshot;return de(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Pi}),ew(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Qn(a=>{const u=new l7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ve(a=>Object.assign(Object.assign({},a),{guards:y9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?de(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return Pt(n).pipe(kt(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?de(s.map(a=>{const u=Zf(a,e,i);let l;if(function(n){return n&&Fs(n.canDeactivate)}(u))l=Ti(u.canDeactivate(n,e,t,r));else{if(!Fs(u))throw new Error("Invalid CanDeactivate guard");l=Ti(u(n,e,t,r))}return l.pipe(pu())})).pipe(kc()):de(!0)}(i.component,i.route,t,e,r)),pu(i=>!0!==i,!0))}(o,r,i,n).pipe(kt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return Pt(e).pipe(Ac(i=>Vv(function(n,e){return null!==n&&e&&e(new f7(n)),de(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new g7(n)),de(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>NR(()=>de(o.guards.map(u=>{const l=Zf(u,o.node,t);let c;if(function(n){return n&&Fs(n.canActivateChild)}(l))c=Ti(l.canActivateChild(r,n));else{if(!Fs(l))throw new Error("Invalid CanActivateChild guard");c=Ti(l(r,n))}return c.pipe(pu())})).pipe(kc())));return de(s).pipe(kc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(s=>NR(()=>{const o=Zf(s,e,t);let a;if(function(n){return n&&Fs(n.canActivate)}(o))a=Ti(o.canActivate(e,n));else{if(!Fs(o))throw new Error("Invalid CanActivate guard");a=Ti(o(e,n))}return a.pipe(pu())}));return de(i).pipe(kc())}(n,i.route,t))),pu(i=>!0!==i,!0))}(r,s,n,e):de(a)),Ve(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Qn(a=>{if(Co(a.guardsResult)){const l=Bv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new c7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),fu(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),ew(a=>{if(a.guards.canActivateChecks.length)return de(a).pipe(Qn(u=>{const l=new d7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),bo(u=>{let l=!1;return de(u).pipe(function(n,e){return kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let s=0;return Pt(i).pipe(Ac(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return de({});const s={};return Pt(i).pipe(kt(o=>function(n,e,t,r){const i=Zf(n,e,r);return Ti(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Qn(a=>{s[o]=a}))),Uv(1),kt(()=>Object.keys(s).length===i.length?de(s):Pi))}(n._resolve,n,e,r).pipe(Ve(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),rk(n,t).resolve),null)))}(o.route,r,n,e)),Qn(()=>s++),Uv(1),kt(o=>s===i.length?de(t):Pi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Qn(u=>{const l=new h7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),ew(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ve(a=>{const u=function(n,e,t){const r=Nc(n,e._root,t?t._root:void 0);return new tk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Qn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ve(r=>(new Y7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Qn({next(){s=!0},complete(){s=!0}}),function(n){return Qt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ks(a=>{if(o=!0,function(n){return n&&n[BR]}(a)){const u=Co(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new FR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ep(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new a7(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Pi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hk(t),this.config=t.map(Xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return Wv(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ak(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new ak(t,e,r)}(t);if(s.toRoot())return Wv(e.root,new ye([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new Kv(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Kv(s,s===e.root,0)}const r=zf(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Kv(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Wf(o.segmentGroup,o.index,s.commands):uk(o.segmentGroup,o.index,s.commands);return Wv(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Co(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},K9):!1===r?Object.assign({},Q9):r,Co(t))return GR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return GR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,l;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=ep(r)&&c&&!ep(c.source),h=c.rawUrl.toString()===t.toString(),f=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let _,v,E;o?(_=o.resolve,v=o.reject,E=o.promise):E=new Promise((P,K)=>{_=P,v=K});const w=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),N=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):N=0,this.setTransition({id:w,targetPageId:N,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new FR(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){n_()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function ep(n){return"imperative"!==n}let _u=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new dn,this.subscription=t.events.subscribe(s=>{s instanceof Ps&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T(yu),T(su))},n.\u0275dir=J({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&oe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Wn("target",r.target)("href",r.href,oy)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ur]}),n})();function vu(n){return""===n||!!n}class Ak{}class Mk{preload(e,t){return de(null)}}let xk=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new Dk(i,r,u=>t.triggerEvent(new LR(u)),u=>t.triggerEvent(new VR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(fu(t=>t instanceof Ps),Ac(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(qi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Pt(i).pipe(Dl(),Ve(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?de(r._loadedConfig):this.loader.load(t.injector,r)).pipe(kt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(L(Me),L(uf),L(dt),L(Ak))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),rw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof UR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new UR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){n_()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Io=new re("ROUTER_CONFIGURATION"),Nk=new re("ROUTER_FORROOT_GUARD"),eQ=[Y_,{provide:QR,useClass:YR},{provide:Me,useFactory:function(n,e,t,r,i,s,o={},a,u){const l=new Me(null,n,e,t,r,i,$R(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[QR,Pc,Y_,dt,uf,tw,Io,[class{},new ct],[class{},new ct]]},Pc,{provide:yu,useFactory:function(n){return n.routerState.root},deps:[Me]},xk,Mk,class{preload(e,t){return t().pipe(ks(()=>de(null)))}},{provide:Io,useValue:{enableTracing:!1}}];function tQ(){return new TN("Router",Me)}let Ok=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[eQ,Rk(t),{provide:Nk,useFactory:iQ,deps:[[Me,new ct,new Sa]]},{provide:Io,useValue:r||{}},{provide:su,useFactory:rQ,deps:[_o,[new ql(Q_),new ct],Io]},{provide:rw,useFactory:nQ,deps:[Me,H6,Io]},{provide:Ak,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Mk},{provide:TN,multi:!0,useFactory:tQ},[iw,{provide:af,multi:!0,useFactory:uQ,deps:[iw]},{provide:kk,useFactory:lQ,deps:[iw]},{provide:mN,multi:!0,useExisting:kk}]]}}static forChild(t){return{ngModule:n,providers:[Rk(t)]}}}return n.\u0275fac=function(t){return new(t||n)(L(Nk,8),L(Me,8))},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({}),n})();function nQ(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new rw(n,e,t)}function rQ(n,e,t={}){return t.useHash?new S8(n,e):new GN(n,e)}function iQ(n){return"guarded"}function Rk(n){return[{provide:Z$,multi:!0,useValue:n},{provide:tw,multi:!0,useValue:n}]}let iw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dn}appInitializer(){return this.injector.get(C8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Me),o=this.injector.get(Io);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?de(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Io),i=this.injector.get(xk),s=this.injector.get(rw),o=this.injector.get(Me),a=this.injector.get(mo);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(L(dt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function uQ(n){return n.appInitializer.bind(n)}function lQ(n){return n.bootstrapListener.bind(n)}const kk=new re("Router Initializer");function Pk(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){Pk(s,r,i,o,a,"next",u)}function a(u){Pk(s,r,i,o,a,"throw",u)}o(void 0)})}}const ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Vt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Uk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function tp(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Bk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jk(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wu(){return"object"==typeof indexedDB}function np(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function lw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ci.prototype.create)}}class Ci{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(bQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bQ=/\{\$([^}]+)}/g;function ip(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Hk(s)&&Hk(o)){if(!ip(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Hk(n){return null!==n&&"object"==typeof n}function sp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class CQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=cw),void 0===i.error&&(i.error=cw),void 0===i.complete&&(i.complete=cw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cw(){}function hw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Zt(n){return n&&n._delegate?n._delegate:n}class Ln{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Do="[DEFAULT]";class NQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Do})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Do?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fw=[];var be=(()=>{return(n=be||(be={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",be;var n})();const qk={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},PQ=be.INFO,FQ={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},LQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=FQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class bu{constructor(e){this.name=e,this._logLevel=PQ,this._logHandler=LQ,this._userLogHandler=null,fw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}class VQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const pw="@firebase/app",gw=new bu("@firebase/app"),mw="[DEFAULT]",dY={[pw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},So=new Map,op=new Map;function hY(n,e){try{n.container.addComponent(e)}catch(t){gw.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yn(n){const e=n.name;if(op.has(e))return gw.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,n);for(const t of So.values())hY(t,n);return!0}function Eu(n,e){return n.container.getProvider(e)}const jc=new Ci("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class pY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jc.create("app-deleted",{appName:this._name})}}const Tu="9.6.1";function zk(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:mw,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw jc.create("bad-app-name",{appName:String(r)});const i=So.get(r);if(i){if(ip(n,i.options)&&ip(t,i.config))return i;throw jc.create("duplicate-app",{appName:r})}const s=new kQ(r);for(const a of op.values())s.addComponent(a);const o=new pY(n,t,s);return So.set(r,o),o}function yw(n=mw){const e=So.get(n);if(!e)throw jc.create("no-app",{appName:n});return e}function Wk(){return Array.from(So.values())}function st(n,e,t){var r;let i=null!==(r=dY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gw.warn(a.join(" "))}Yn(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}Yn(new Ln("platform-logger",e=>new VQ(e),"PRIVATE")),st(pw,"0.7.11",""),st(pw,"0.7.11","esm2017"),st("fire-js",""),st("firebase","9.6.1","app");var B,_Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zi={},vw=vw||{},ee=_Y||self;function ap(){}function ww(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $c(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bw="closure_uid_"+(1e9*Math.random()>>>0),wY=0;function bY(n,e,t){return n.call.apply(n.bind,arguments)}function EY(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function en(n,e,t){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bY:EY).apply(null,arguments)}function up(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function tn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ls(){this.s=this.s,this.o=this.o}var CY={};Ls.prototype.s=!1,Ls.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,bw)&&n[bw]||(n[bw]=++wY)}(this);delete CY[n]}},Ls.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Qk=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function Yk(n){return Array.prototype.concat.apply([],arguments)}function Ew(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lp(n){return/^[\s\xa0]*$/.test(n)}var Un,Jk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vn(n,e){return-1!=n.indexOf(e)}function Tw(n,e){return n<e?-1:n>e?1:0}e:{var Xk=ee.navigator;if(Xk){var Zk=Xk.userAgent;if(Zk){Un=Zk;break e}}Un=""}function Cw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eP(n){const e={};for(const t in n)e[t]=n[t];return e}var tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<tP.length;s++)t=tP[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Iw(n){return Iw[" "](n),n}Iw[" "]=ap;var cp,SY=Vn(Un,"Opera"),Cu=Vn(Un,"Trident")||Vn(Un,"MSIE"),rP=Vn(Un,"Edge"),Dw=rP||Cu,iP=Vn(Un,"Gecko")&&!(Vn(Un.toLowerCase(),"webkit")&&!Vn(Un,"Edge"))&&!(Vn(Un,"Trident")||Vn(Un,"MSIE"))&&!Vn(Un,"Edge"),AY=Vn(Un.toLowerCase(),"webkit")&&!Vn(Un,"Edge");function sP(){var n=ee.document;return n?n.documentMode:void 0}e:{var Sw="",Aw=function(){var n=Un;return iP?/rv:([^\);]+)(\)|;)/.exec(n):rP?/Edge\/([\d\.]+)/.exec(n):Cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AY?/WebKit\/(\S+)/.exec(n):SY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Aw&&(Sw=Aw?Aw[1]:""),Cu){var Mw=sP();if(null!=Mw&&Mw>parseFloat(Sw)){cp=String(Mw);break e}}cp=Sw}var MY={};function xY(){return e=MY,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Jk(String(cp)).split("."),t=Jk("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Tw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Tw(0==i[2].length,0==s[2].length)||Tw(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var NY=ee.document&&Cu&&(sP()||parseInt(cp,10))||void 0,OY=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ee.addEventListener("test",ap,e),ee.removeEventListener("test",ap,e)}catch(t){}return n}();function vn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Hc(n,e){if(vn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(iP){e:{try{Iw(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hc.Z.h.call(this)}}vn.prototype.h=function(){this.defaultPrevented=!0},tn(Hc,vn);var RY={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),kY=0;function PY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++kY,this.ca=this.fa=!1}function dp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function hp(n){this.src=n,this.g={},this.h=0}function Nw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Kk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(dp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ow(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}hp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Ow(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new PY(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var Rw="closure_lm_"+(1e6*Math.random()|0),kw={};function aP(n,e,t,r,i){if(r&&r.once)return lP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aP(n,e[s],t,r,i);return null}return t=Vw(t),n&&n[qc]?n.N(e,t,$c(r)?!!r.capture:!!r,i):uP(n,e,t,!1,r,i)}function uP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=$c(i)?!!i.capture:!!i,a=Fw(n);if(a||(n[Rw]=a=new hp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){var e=LY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)OY||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(dP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lP(n,e[s],t,r,i);return null}return t=Vw(t),n&&n[qc]?n.O(e,t,$c(r)?!!r.capture:!!r,i):uP(n,e,t,!0,r,i)}function cP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cP(n,e[s],t,r,i);else r=$c(r)?!!r.capture:!!r,t=Vw(t),n&&n[qc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ow(s=n.g[e],t,r,i))&&(dp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Fw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ow(e,t,r,i)),(t=-1<n?e[n]:null)&&Pw(t))}function Pw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[qc])Nw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(dP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Fw(e))?(Nw(t,n),0==t.h&&(t.src=null,e[Rw]=null)):dp(n)}}}function dP(n){return n in kw?kw[n]:kw[n]="on"+n}function LY(n,e){if(n.ca)n=!0;else{e=new Hc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Pw(n),n=t.call(r,e)}return n}function Fw(n){return(n=n[Rw])instanceof hp?n:null}var Lw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vw(n){return"function"==typeof n?n:(n[Lw]||(n[Lw]=function(e){return n.handleEvent(e)}),n[Lw])}function Ut(){Ls.call(this),this.i=new hp(this),this.P=this,this.I=null}function nn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new vn(e,n);else if(e instanceof vn)e.target=e.target||n;else{var i=e;nP(e=new vn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=fp(o,r,!0,e)&&i}if(i=fp(o=e.g=n,r,!0,e)&&i,i=fp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=fp(o=e.g=t[s],r,!1,e)&&i}function fp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&Nw(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}tn(Ut,Ls),Ut.prototype[qc]=!0,Ut.prototype.removeEventListener=function(n,e,t,r){cP(this,n,e,t,r)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)dp(t[r]);delete n.g[e],n.h--}}this.I=null},Ut.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ut.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Uw=ee.JSON.stringify;function VY(){var n=fP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jw,hP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BY,n=>n.reset());class BY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jY(n){ee.setTimeout(()=>{throw n},0)}function Bw(n,e){jw||function(){var n=ee.Promise.resolve(void 0);jw=function(){n.then(HY)}}(),$w||(jw(),$w=!0),fP.add(n,e)}var $w=!1,fP=new class{constructor(){this.h=this.g=null}add(e,t){const r=hP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function HY(){for(var n;n=VY();){try{n.h.call(n.g)}catch(t){jY(t)}var e=hP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$w=!1}function pp(n,e){Ut.call(this),this.h=n||1,this.g=e||ee,this.j=en(this.kb,this),this.l=Date.now()}function Hw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function qw(n,e,t){if("function"==typeof n)t&&(n=en(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=en(n.handleEvent,n)}return 2147483647<Number(e)?-1:ee.setTimeout(n,e||0)}function pP(n){n.g=qw(()=>{n.g=null,n.i&&(n.i=!1,pP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}tn(pp,Ut),(B=pp.prototype).da=!1,B.S=null,B.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&(Hw(this),this.start()))}},B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){pp.Z.M.call(this),Hw(this),delete this.g};class qY extends Ls{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pP(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gc(n){Ls.call(this),this.h=n,this.g={}}tn(Gc,Ls);var gP=[];function mP(n,e,t,r){Array.isArray(t)||(t&&(gP[0]=t.toString()),t=gP);for(var i=0;i<t.length;i++){var s=aP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function yP(n){Cw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pw(e)},n),n.g={}}function gp(){this.g=!0}function Iu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Uw(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Gc.prototype.M=function(){Gc.Z.M.call(this),yP(this)},Gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gp.prototype.Aa=function(){this.g=!1},gp.prototype.info=function(){};var Ao={},_P=null;function mp(){return _P=_P||new Ut}function vP(n){vn.call(this,Ao.Ma,n)}function zc(n){const e=mp();nn(e,new vP(e,n))}function wP(n,e){vn.call(this,Ao.STAT_EVENT,n),this.stat=e}function Bn(n){const e=mp();nn(e,new wP(e,n))}function bP(n,e){vn.call(this,Ao.Na,n),this.size=e}function Wc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){n()},e)}Ao.Ma="serverreachability",tn(vP,vn),Ao.STAT_EVENT="statevent",tn(wP,vn),Ao.Na="timingevent",tn(bP,vn);var yp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},EP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gw(){}function CP(){}Gw.prototype.h=null;var Kw,Kc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zw(){vn.call(this,"d")}function Ww(){vn.call(this,"c")}function _p(){}function Qc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Gc(this),this.P=QY,this.W=new pp(n=Dw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IP}function IP(){this.i=null,this.g="",this.h=!1}tn(zw,vn),tn(Ww,vn),tn(_p,Gw),_p.prototype.g=function(){return new XMLHttpRequest},_p.prototype.i=function(){return{}},Kw=new _p;var QY=45e3,Qw={},vp={};function Yw(n,e,t){n.K=1,n.v=Cp(es(e)),n.s=t,n.U=!0,DP(n,null)}function DP(n,e){n.F=Date.now(),Yc(n),n.A=es(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),PP(t.h,"t",r),n.C=0,t=n.l.H,n.h=new IP,n.g=iF(n.l,t?e:null,!n.s),0<n.O&&(n.L=new qY(en(n.Ia,n,n.g),n.O)),mP(n.V,n.g,"readystatechange",n.gb),e=n.H?eP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zc(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function SP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function AP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=YY(n,t),i==vp){4==e&&(n.o=4,Bn(14),r=!1),Iu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Qw){n.o=4,Bn(15),Iu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Iu(n.j,n.m,i,null),Jw(n,i)}SP(n)&&i!=vp&&i!=Qw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ub(e),e.L=!0,Bn(11))):(Iu(n.j,n.m,t,"[Invalid Chunked Response]"),Mo(n),Jc(n))}function YY(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vp:(t=Number(e.substring(t,r)),isNaN(t)?Qw:(r+=1)+t>e.length?vp:(e=e.substr(r,t),n.C=r+t,e))}function Yc(n){n.Y=Date.now()+n.P,MP(n,n.P)}function MP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wc(en(n.eb,n),e)}function wp(n){n.B&&(ee.clearTimeout(n.B),n.B=null)}function Jc(n){0==n.l.G||n.I||eF(n.l,n)}function Mo(n){wp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Hw(n.W),yP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Jw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||eb(t.i,n)))if(t.I=n.N,!n.J&&eb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Wc(en(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;xp(t),Ap(t)}ab(t),Bn(18)}if(1>=VP(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else Oo(t,11)}else if((n.J||t.g==n)&&xp(t),!lp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;!s.g&&(Vn(m,"spdy")||Vn(m,"quic")||Vn(m,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(tb(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Ke(r.F,r.D,_))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=rF(r,r.H?r.la:null,r.W),o.J){UP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(wp(a),Yc(a)),r.g=o}else XP(r);0<t.l.length&&Mp(t)}else"stop"!=l[0]&&"close"!=l[0]||Oo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Oo(t,7):sb(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}zc(4)}catch(l){}}function Xw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ww(n)||"string"==typeof n)Qk(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ww(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ww(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Du(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Du)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Zw(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];xo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)xo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function xo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(B=Qc.prototype).setTimeout=function(n){this.P=n},B.gb=function(n){n=n.target;const e=this.L;e&&3==ts(n)?e.l():this.Ia(n)},B.Ia=function(n){try{if(n==this.g)e:{const c=ts(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||Dw||this.g&&(this.h.h||this.g.ga()||WP(this.g)))){this.I||4!=c||7==e||zc(8==e||0>=d?3:2),wp(this);var t=this.g.ba();this.N=t;t:if(SP(this)){var r=WP(this.g);n="";var i=r.length,s=4==ts(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mo(this),Jc(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lp(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Bn(12),Mo(this),Jc(this);break e}Iu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jw(this,t)}this.U?(AP(this,c,o),Dw&&this.i&&3==c&&(mP(this.V,this.W,"tick",this.fb),this.W.start())):(Iu(this.j,this.m,o,null),Jw(this,o)),4==c&&Mo(this),this.i&&!this.I&&(4==c?eF(this.l,this):(this.i=!1,Yc(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),Mo(this),Jc(this)}}}catch(c){}},B.fb=function(){if(this.g){var n=ts(this.g),e=this.g.ga();this.C<e.length&&(wp(this),AP(this,n,e),this.i&&4!=n&&Yc(this))}},B.cancel=function(){this.I=!0,Mo(this)},B.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zc(3),Bn(17)),Mo(this),this.o=2,Jc(this)):MP(this,this.Y-n)},(B=Du.prototype).R=function(){Zw(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},B.T=function(){return Zw(this),this.g.concat()},B.get=function(n,e){return xo(this.h,n)?this.h[n]:e},B.set=function(n,e){xo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},B.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var xP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function No(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof No){this.g=void 0!==e?e:n.g,bp(this,n.j),this.s=n.s,Ep(this,n.i),Tp(this,n.m),this.l=n.l,e=n.h;var t=new ed;t.i=e.i,e.g&&(t.g=new Du(e.g),t.h=e.h),NP(this,t),this.o=n.o}else n&&(t=String(n).match(xP))?(this.g=!!e,bp(this,t[1]||"",!0),this.s=Xc(t[2]||""),Ep(this,t[3]||"",!0),Tp(this,t[4]),this.l=Xc(t[5]||"",!0),NP(this,t[6]||"",!0),this.o=Xc(t[7]||"")):(this.g=!!e,this.h=new ed(null,this.g))}function es(n){return new No(n)}function bp(n,e,t){n.j=t?Xc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ep(n,e,t){n.i=t?Xc(e,!0):e}function Tp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function NP(n,e,t){e instanceof ed?(n.h=e,function(n,e){e&&!n.j&&(Vs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(RP(this,r),PP(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zc(e,iJ)),n.h=new ed(e,n.g))}function Ke(n,e,t){n.h.set(e,t)}function Cp(n){return Ke(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}No.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zc(e,OP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zc(e,OP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zc(t,"/"==t.charAt(0)?rJ:nJ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zc(t,sJ)),n.join("")};var OP=/[#\/\?@]/g,nJ=/[#\?:]/g,rJ=/[#\?]/g,iJ=/[#\?@]/g,sJ=/#/g;function ed(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vs(n){n.g||(n.g=new Du,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RP(n,e){Vs(n),e=Su(n,e),xo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Zw(n)))}function kP(n,e){return Vs(n),e=Su(n,e),xo(n.g.h,e)}function PP(n,e,t){RP(n,e),0<t.length&&(n.i=null,n.g.set(Su(n,e),Ew(t)),n.h+=t.length)}function Su(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FP(n){this.l=n||uJ,n=ee.PerformanceNavigationTiming?0<(n=ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=ed.prototype).add=function(n,e){Vs(this),this.i=null,n=Su(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){Vs(this),this.g.forEach(function(t,r){Qk(t,function(i){n.call(e,i,r,this)},this)},this)},B.T=function(){Vs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},B.R=function(n){Vs(this);var e=[];if("string"==typeof n)kP(this,n)&&(e=Yk(e,this.g.get(Su(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Yk(e,n[t])}return e},B.set=function(n,e){return Vs(this),this.i=null,kP(this,n=Su(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var uJ=10;function LP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VP(n){return n.h?1:n.g?n.g.size:0}function eb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function tb(n,e){n.g?n.g.add(e):n.h=e}function UP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function BP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ew(n.i)}function nb(){}function lJ(){this.g=new nb}function cJ(n,e,t){const r=t||"";try{Xw(n,function(i,s){let o=i;$c(i)&&(o=Uw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ip(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function td(n){this.l=n.$b||null,this.j=n.ib||!1}function Dp(n,e){Ut.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FP.prototype.cancel=function(){if(this.i=BP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},nb.prototype.stringify=function(n){return ee.JSON.stringify(n,void 0)},nb.prototype.parse=function(n){return ee.JSON.parse(n,void 0)},tn(td,Gw),td.prototype.g=function(){return new Dp(this.l,this.j)},td.prototype.i=function(n){return function(){return n}}({}),tn(Dp,Ut);var rb=0;function jP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function nd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rd(n)}function rd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=Dp.prototype).open=function(n,e){if(this.readyState!=rb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rd(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nd(this)),this.readyState=rb},B.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ee.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},B.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nd(this):rd(this),3==this.readyState&&jP(this)}},B.Ua=function(n){this.g&&(this.response=this.responseText=n,nd(this))},B.Ta=function(n){this.g&&(this.response=n,nd(this))},B.ha=function(){this.g&&nd(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hJ=ee.JSON.parse;function vt(n){Ut.call(this),this.headers=new Du,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$P,this.K=this.L=!1}tn(vt,Ut);var $P="",fJ=/^https?$/i,pJ=["POST","PUT"];function mJ(n){return"content-type"==n.toLowerCase()}function HP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qP(n),Sp(n)}function qP(n){n.D||(n.D=!0,nn(n,"complete"),nn(n,"error"))}function GP(n){if(n.h&&void 0!==vw&&(!n.C[1]||4!=ts(n)||2!=n.ba()))if(n.v&&4==ts(n))qw(n.Fa,0,n);else if(nn(n,"readystatechange"),4==ts(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(xP)[1]||null;if(!i&&ee.self&&ee.self.location){var s=ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!fJ.test(i?i.toLowerCase():"")}t=r}if(t)nn(n,"complete"),nn(n,"success");else{n.m=6;try{var o=2<ts(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",qP(n)}}finally{Sp(n)}}}function Sp(n,e){if(n.g){zP(n);const t=n.g,r=n.C[0]?ap:null;n.g=null,n.C=null,e||nn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function zP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ee.clearTimeout(n.A),n.A=null)}function ts(n){return n.g?n.g.readyState:0}function WP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $P:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ib(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Cw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ke(n,e,t))}function id(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KP(n){this.za=0,this.l=[],this.h=new gp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=id("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=id("baseRetryDelayMs",5e3,n),this.$a=id("retryDelaySeedMs",1e4,n),this.Ya=id("forwardChannelMaxRetries",2,n),this.ra=id("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new FP(n&&n.concurrentRequestLimit),this.Ca=new lJ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function sb(n){if(QP(n),3==n.G){var e=n.V++,t=es(n.F);Ke(t,"SID",n.J),Ke(t,"RID",e),Ke(t,"TYPE","terminate"),sd(n,t),(e=new Qc(n,n.h,e,void 0)).K=2,e.v=Cp(es(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon&&(t=ee.navigator.sendBeacon(e.v.toString(),"")),!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=iF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yc(e)}nF(n)}function Ap(n){n.g&&(ub(n),n.g.cancel(),n.g=null)}function QP(n){Ap(n),n.u&&(ee.clearTimeout(n.u),n.u=null),xp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ee.clearTimeout(n.m),n.m=null)}function ob(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Mp(n)}function Mp(n){LP(n.i)||n.m||(n.m=!0,Bw(n.Ha,n),n.C=0)}function YP(n,e){var t;t=e?e.m:n.V++;const r=es(n.F);Ke(r,"SID",n.J),Ke(r,"RID",t),Ke(r,"AID",n.U),sd(n,r),n.o&&n.s&&ib(r,n.o,n.s),t=new Qc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=JP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),tb(n.i,t),Yw(t,r,e)}function sd(n,e){n.j&&Xw({},function(t,r){Ke(e,r,t)})}function JP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?en(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{cJ(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function XP(n){n.g||n.u||(n.Y=1,Bw(n.Ga,n),n.A=0)}function ab(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Wc(en(n.Ga,n),tF(n,n.A)),n.A++,0))}function ub(n){null!=n.B&&(ee.clearTimeout(n.B),n.B=null)}function ZP(n){n.g=new Qc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=es(n.oa);Ke(e,"RID","rpc"),Ke(e,"SID",n.J),Ke(e,"CI",n.N?"0":"1"),Ke(e,"AID",n.U),sd(n,e),Ke(e,"TYPE","xmlhttp"),n.o&&n.s&&ib(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Cp(es(e)),t.s=null,t.U=!0,DP(t,n)}function xp(n){null!=n.v&&(ee.clearTimeout(n.v),n.v=null)}function eF(n,e){var t=null;if(n.g==e){xp(n),ub(n),n.g=null;var r=2}else{if(!eb(n.i,e))return;t=e.D,UP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;nn(r=mp(),new bP(r,t,e,i)),Mp(n)}else XP(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(VP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Wc(en(n.Ha,n,e),tF(n,n.C)),n.C++,0)))}(n,e)||2==r&&ab(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Oo(n,5);break;case 4:Oo(n,10);break;case 3:Oo(n,6);break;default:Oo(n,2)}}function tF(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Oo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=en(n.jb,n);t||(t=new No("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||bp(t,"https"),Cp(t)),function(n,e){const t=new gp;if(ee.Image){const r=new Image;r.onload=up(Ip,t,r,"TestLoadImage: loaded",!0,e),r.onerror=up(Ip,t,r,"TestLoadImage: error",!1,e),r.onabort=up(Ip,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=up(Ip,t,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bn(2);n.G=0,n.j&&n.j.va(e),nF(n),QP(n)}function nF(n){n.G=0,n.I=-1,n.j&&((0!=BP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ew(n.l),n.l.length=0),n.j.ua())}function rF(n,e,t){let r=function(n){return n instanceof No?es(n):new No(n,void 0)}(t);if(""!=r.i)e&&Ep(r,e+"."+r.i),Tp(r,r.m);else{const i=ee.location;r=function(n,e,t,r){var i=new No(null,void 0);return n&&bp(i,n),e&&Ep(i,e),t&&Tp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Cw(n.aa,function(i,s){Ke(r,s,i)}),t=n.sa,(e=n.D)&&t&&Ke(r,e,t),Ke(r,"VER",n.ma),sd(n,r),r}function iF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vt(t&&n.Ba&&!n.qa?new td({ib:!0}):n.qa)).L=n.H,e}function sF(){}function Np(){if(Cu&&!(10<=Number(NY)))throw Error("Environmental error: no available transport.")}function yr(n,e){Ut.call(this),this.g=new KP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!lp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Au(this)}function oF(n){zw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function aF(){Ww.call(this),this.status=1}function Au(n){this.g=n}(B=vt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kw.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Kw),this.g.onreadystatechange=en(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void HP(this,s)}n=t||"";const i=new Du(this.headers);r&&Xw(r,function(s,o){i.set(o,s)}),r=function(n){e:{var e=mJ;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=ee.FormData&&n instanceof ee.FormData,!(0<=Kk(pJ,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zP(this),0<this.B&&((this.K=function(n){return Cu&&xY()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.pa,this)):this.A=qw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){HP(this,s)}},B.pa=function(){void 0!==vw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nn(this,"complete"),nn(this,"abort"),Sp(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sp(this,!0)),vt.Z.M.call(this)},B.Fa=function(){this.s||(this.F||this.v||this.l?GP(this):this.cb())},B.cb=function(){GP(this)},B.ba=function(){try{return 2<ts(this)?this.g.status:-1}catch(n){return-1}},B.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},B.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hJ(e)}},B.Da=function(){return this.m},B.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=KP.prototype).ma=8,B.G=1,B.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},B.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Qc(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=eP(s),nP(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JP(this,i,e),Ke(t=es(this.F),"RID",n),Ke(t,"CVER",22),this.D&&Ke(t,"X-HTTP-Session-Id",this.D),sd(this,t),this.o&&s&&ib(t,this.o,s),tb(this.i,i),this.Ra&&Ke(t,"TYPE","init"),this.ja?(Ke(t,"$req",e),Ke(t,"SID","null"),i.$=!0,Yw(i,t,null)):Yw(i,t,e),this.G=2}}else 3==this.G&&(n?YP(this,n):0==this.l.length||LP(this.i)||YP(this))},B.Ga=function(){if(this.u=null,ZP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Wc(en(this.bb,this),n)}},B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bn(10),Ap(this),ZP(this))},B.ab=function(){null!=this.v&&(this.v=null,Ap(this),ab(this),Bn(19))},B.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bn(2)):(this.h.info("Failed to ping google.com"),Bn(1))},(B=sF.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Oa=function(){},Np.prototype.g=function(n,e){return new yr(n,e)},tn(yr,Ut),yr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Bw(en(n.hb,n,e))),Bn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=rF(n,null,n.W),Mp(n)},yr.prototype.close=function(){sb(this.g)},yr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ob(this.g,e)}else this.v?((e={}).__data__=Uw(n),ob(this.g,e)):ob(this.g,n)},yr.prototype.M=function(){this.g.j=null,delete this.j,sb(this.g),delete this.g,yr.Z.M.call(this)},tn(oF,zw),tn(aF,Ww),tn(Au,sF),Au.prototype.xa=function(){nn(this.g,"a")},Au.prototype.wa=function(n){nn(this.g,new oF(n))},Au.prototype.va=function(n){nn(this.g,new aF(n))},Au.prototype.ua=function(){nn(this.g,"b")},Np.prototype.createWebChannel=Np.prototype.g,yr.prototype.send=yr.prototype.u,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,yp.NO_ERROR=0,yp.TIMEOUT=8,yp.HTTP_ERROR=6,EP.COMPLETE="complete",CP.EventType=Kc,Kc.OPEN="a",Kc.CLOSE="b",Kc.ERROR="c",Kc.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,vt.prototype.listenOnce=vt.prototype.O,vt.prototype.getLastError=vt.prototype.La,vt.prototype.getLastErrorCode=vt.prototype.Da,vt.prototype.getStatus=vt.prototype.ba,vt.prototype.getResponseJson=vt.prototype.Qa,vt.prototype.getResponseText=vt.prototype.ga,vt.prototype.send=vt.prototype.ea;var vJ=Zi.createWebChannelTransport=function(){return new Np},wJ=Zi.getStatEventTarget=function(){return mp()},lb=Zi.ErrorCode=yp,bJ=Zi.EventType=EP,EJ=Zi.Event=Ao,uF=Zi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TJ=Zi.FetchXmlHttpFactory=td,Op=Zi.WebChannel=CP,CJ=Zi.XhrIo=vt;const lF="@firebase/firestore";class rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Mu="9.6.1";const Us=new bu("@firebase/firestore");function cb(){return Us.logLevel}function O(n,...e){if(Us.logLevel<=be.DEBUG){const t=e.map(db);Us.debug(`Firestore (${Mu}): ${n}`,...t)}}function wt(n,...e){if(Us.logLevel<=be.ERROR){const t=e.map(db);Us.error(`Firestore (${Mu}): ${n}`,...t)}}function Rp(n,...e){if(Us.logLevel<=be.WARN){const t=e.map(db);Us.warn(`Firestore (${Mu}): ${n}`,...t)}}function db(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function q(n="Unexpected state"){const e=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: `+n;throw wt(e),new Error(e)}function Y(n,e){n||q()}function k(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class SJ{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new cF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new rn(e)}}class AJ{constructor(e,t,r){this.type="FirstParty",this.user=rn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class MJ{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new AJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),t(s.token);var s})};const r=i=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),new dF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class _r{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function NJ(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_r.I=-1;class hF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(n,e){return n<e?-1:n>e?1:0}function xu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class sn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new sn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class od{constructor(e,t,r){void 0===t?t=0:t>e.length&&q(),void 0===r?r=e.length-t:r>e.length-t&&q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===od.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof od?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class De extends od{construct(e,t,r){return new De(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new De(t)}static emptyPath(){return new De([])}}const OJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends od{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return OJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}class Nu{constructor(e){this.fields=e,e.sort(wn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new jt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new jt(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const RJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Y(!!n),"string"==typeof n){let e=0;const t=RJ.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ou(n){return"string"==typeof n?jt.fromBase64String(n):jt.fromUint8Array(n)}function hb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mF(n){const e=n.mapValue.fields.__previous_value__;return hb(e)?mF(e):e}function ad(n){const e=Bs(n.mapValue.fields.__local_write_time__.timestampValue);return new sn(e.seconds,e.nanos)}function ko(n){return null==n}function kp(n){return 0===n&&1/n==-1/0}class H{constructor(e){this.path=e}static fromPath(e){return new H(De.fromString(e))}static fromName(e){return new H(De.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===De.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new De(e.slice()))}}function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hb(n)?4:10:q()}function Ii(n,e){const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ad(n).isEqual(ad(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bs(r.timestampValue),o=Bs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ou(n.bytesValue).isEqual(Ou(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?kp(s)===kp(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return xu(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pF(s)!==pF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ii(s[a],o[a])))return!1;return!0}(n,e);default:return q()}var i}function ud(n,e){return void 0!==(n.values||[]).find(t=>Ii(t,e))}function Ru(n,e){const t=Po(n),r=Po(e);if(t!==r)return _e(t,r);switch(t){case 0:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return _F(n.timestampValue,e.timestampValue);case 4:return _F(ad(n),ad(e));case 5:return _e(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ou(i),a=Ou(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=_e(o[u],a[u]);if(0!==l)return l}return _e(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(bt(i.latitude),bt(s.latitude));return 0!==o?o:_e(bt(i.longitude),bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ru(o[u],a[u]);if(l)return l}return _e(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=_e(a[c],l[c]);if(0!==d)return d;const h=Ru(o[a[c]],u[l[c]]);if(0!==h)return h}return _e(a.length,l.length)}(n.mapValue,e.mapValue);default:throw q()}}function _F(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _e(n,e);const t=Bs(n),r=Bs(e),i=_e(t.seconds,r.seconds);return 0!==i?i:_e(t.nanos,r.nanos)}function fb(n){return pb(n)}function pb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Bs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ou(n.bytesValue).toBase64():"referenceValue"in n?H.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=pb(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${pb(r.fields[a])}`;return s+"}"}(n.mapValue):q();var e}function Pp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gb(n){return!!n&&"integerValue"in n}function mb(n){return!!n&&"arrayValue"in n}function vF(n){return!!n&&"nullValue"in n}function wF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fp(n){return!!n&&"mapValue"in n}function ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ld(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ld(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(ld(this.value))}}function bF(n){const e=[];return Ro(n.fields,(t,r)=>{const i=new wn([t]);if(Fp(r)){const s=bF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nu(e)}class Qe{constructor(e,t,r,i,s){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Qe(e,0,ae.min(),bn.empty(),0)}static newFoundDocument(e,t,r){return new Qe(e,1,t,r,0)}static newNoDocument(e,t){return new Qe(e,2,t,bn.empty(),0)}static newUnknownDocument(e,t){return new Qe(e,3,t,bn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Qe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function EF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new kJ(n,e,t,r,i,s,o)}function cd(n){const e=k(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+fb(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ko(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Up(e.startAt)),e.endAt&&(t+="|ub:",t+=Up(e.endAt)),e.R=t}return e.R}function Lp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!qJ(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ii(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IF(n.startAt,e.startAt)&&IF(n.endAt,e.endAt)}function Vp(n){return H.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class jn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new LJ(e,t,r):"array-contains"===t?new BJ(e,r):"in"===t?new jJ(e,r):"not-in"===t?new $J(e,r):"array-contains-any"===t?new HJ(e,r):new jn(e,t,r)}static P(e,t,r){return"in"===t?new VJ(e,r):new UJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ru(t,this.value)):null!==t&&Po(this.value)===Po(t)&&this.v(Ru(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return q()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LJ extends jn{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){const t=H.comparator(e.key,this.key);return this.v(t)}}class VJ extends jn{constructor(e,t){super(e,"in",t),this.keys=TF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UJ extends jn{constructor(e,t){super(e,"not-in",t),this.keys=TF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}class BJ extends jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mb(t)&&ud(t.arrayValue,this.value)}}class jJ extends jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ud(this.value.arrayValue,t)}}class $J extends jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ud(this.value.arrayValue,t)}}class HJ extends jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ud(this.value.arrayValue,r))}}class dd{constructor(e,t){this.position=e,this.before=t}}function Up(n){return`${n.before?"b":"a"}:${n.position.map(e=>fb(e)).join(",")}`}class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function qJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function CF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?H.comparator(H.fromName(o.referenceValue),t.key):Ru(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function IF(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}class ns{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Pu(n){return new ns(n)}function Bp(n){return!ko(n.limit)&&"F"===n.limitType}function jp(n){return!ko(n.limit)&&"L"===n.limitType}function yb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _b(n){for(const e of n.filters)if(e.V())return e.field;return null}function vb(n){return null!==n.collectionGroup}function Fu(n){const e=k(n);if(null===e.S){e.S=[];const t=_b(e),r=yb(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new ku(t)),e.S.push(new ku(wn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ku(wn.keyField(),s))}}}return e.S}function kr(n){const e=k(n);if(!e.D)if("F"===e.limitType)e.D=EF(e.path,e.collectionGroup,Fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Fu(e))t.push(new ku(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new dd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new dd(e.startAt.position,!e.startAt.before):null;e.D=EF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function SF(n,e,t){return new ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hd(n,e){return Lp(kr(n),kr(e))&&n.limitType===e.limitType}function AF(n){return`${cd(kr(n))}|lt:${n.limitType}`}function wb(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${fb(r.value)}`;var r}).join(", ")}]`),ko(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Up(n.startAt)),n.endAt&&(e+=", endAt: "+Up(n.endAt)),`Target(${e})`}(kr(n))}; limitType=${n.limitType})`}function fd(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):H.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!CF(t.startAt,Fu(t),r)||t.endAt&&CF(t.endAt,Fu(t),r)));var t,r}function MF(n){return(e,t)=>{let r=!1;for(const i of Fu(n)){const s=GJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function GJ(n,e,t){const r=n.field.isKeyField()?H.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ru(a,u):q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}function xF(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function NF(n){return{integerValue:""+n}}function OF(n,e){return function(n){return"number"==typeof n&&Number.isInteger(n)&&!kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?NF(e):xF(n,e)}class $p{constructor(){this._=void 0}}function zJ(n,e,t){return n instanceof Lu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Fo?kF(n,e):n instanceof Lo?PF(n,e):function(r,i){const s=RF(r,i),o=FF(s)+FF(r.N);return gb(s)&&gb(r.N)?NF(o):xF(r.k,o)}(n,e)}function WJ(n,e,t){return n instanceof Fo?kF(n,e):n instanceof Lo?PF(n,e):t}function RF(n,e){return n instanceof Vu?gb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lu extends $p{}class Fo extends $p{constructor(e){super(),this.elements=e}}function kF(n,e){const t=LF(e);for(const r of n.elements)t.some(i=>Ii(i,r))||t.push(r);return{arrayValue:{values:t}}}class Lo extends $p{constructor(e){super(),this.elements=e}}function PF(n,e){let t=LF(e);for(const r of n.elements)t=t.filter(i=>!Ii(i,r));return{arrayValue:{values:t}}}class Vu extends $p{constructor(e,t){super(),this.k=e,this.N=t}}function FF(n){return bt(n.integerValue||n.doubleValue)}function LF(n){return mb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pd{constructor(e,t){this.field=e,this.transform=t}}class QJ{constructor(e,t){this.version=e,this.transformResults=t}}class Et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qp{}function YJ(n,e,t){n instanceof gd?function(r,i,s){const o=r.value.clone(),a=jF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof js?function(r,i,s){if(!Hp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=jF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(BF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bb(n,e,t){var i;n instanceof gd?function(r,i,s){if(!Hp(r.precondition,i))return;const o=r.value.clone(),a=$F(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(UF(i),o).setHasLocalMutations()}(n,e,t):n instanceof js?function(r,i,s){if(!Hp(r.precondition,i))return;const o=$F(r.fieldTransforms,s,i),a=i.data;a.setAll(BF(r)),a.setAll(o),i.convertToFoundDocument(UF(i),a).setHasLocalMutations()}(n,e,t):Hp(n.precondition,i=e)&&i.convertToNoDocument(ae.min())}function JJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=RF(r.transform,i||null);null!=s&&(null==t&&(t=bn.empty()),t.set(r.field,s))}return t||null}function VF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xu(t,r,(i,s)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fo&&r instanceof Fo||t instanceof Lo&&r instanceof Lo?xu(t.elements,r.elements,Ii):t instanceof Vu&&r instanceof Vu?Ii(t.N,r.N):t instanceof Lu&&r instanceof Lu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function UF(n){return n.isFoundDocument()?n.version:ae.min()}class gd extends qp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class js extends qp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function BF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jF(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,WJ(o,a,t[i]))}return r}function $F(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,zJ(s,o,e))}return r}class md extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Eb extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class XJ{constructor(e){this.count=e}}var Tt,Ee;function HF(n){switch(n){default:return q();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function qF(n){if(void 0===n)return wt("GRPC error has no .code"),I.UNKNOWN;switch(n){case Tt.OK:return I.OK;case Tt.CANCELLED:return I.CANCELLED;case Tt.UNKNOWN:return I.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return I.INTERNAL;case Tt.UNAVAILABLE:return I.UNAVAILABLE;case Tt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Tt.NOT_FOUND:return I.NOT_FOUND;case Tt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Tt.ABORTED:return I.ABORTED;case Tt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Tt.DATA_LOSS:return I.DATA_LOSS;default:return q()}}(Ee=Tt||(Tt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";class Mt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:on.RED,this.left=null!=i?i:on.EMPTY,this.right=null!=s?s:on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new on(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1,on.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(n,e,t,r,i){return this}insert(n,e,t){return new on(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ot{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GF(this.data.getIterator())}getIteratorFrom(e){return new GF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ot(this.comparator);return t.data=e,t}}class GF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ZJ=new Mt(H.comparator);function Pr(){return ZJ}const eX=new Mt(H.comparator);function Tb(){return eX}const tX=new Mt(H.comparator);const nX=new ot(H.comparator);function xe(...n){let e=nX;for(const t of n)e=e.add(t);return e}const rX=new ot(_e);function zp(){return rX}class yd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t)),new yd(ae.min(),r,zp(),Pr(),xe())}}class _d{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _d(jt.EMPTY_BYTE_STRING,t,xe(),xe(),xe())}}class Wp{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.F=i}}class WF{constructor(e,t){this.targetId=e,this.O=t}}class KF{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QF{constructor(){this.M=0,this.L=JF(),this.B=jt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=xe(),t=xe(),r=xe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q()}}),new _d(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=JF()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class iX{constructor(e){this.et=e,this.nt=new Map,this.st=Pr(),this.it=YF(),this.rt=new ot(_e)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.O.count,i=this.wt(t);if(i){const s=i.target;if(Vp(s))if(0===r){const o=new H(s.path);this.ct(t,o,Qe.newNoDocument(o,ae.min()))}else Y(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Vp(a.target)){const u=new H(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Qe.newNoDocument(u,e))}s.j&&(t.set(o,s.G()),s.H())}});let r=xe();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new yd(e,t,this.rt,this.st,r);return this.st=Pr(),this.it=YF(),this.rt=new ot(_e),i}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new QF,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new ot(_e),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new QF),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function YF(){return new Mt(H.comparator)}function JF(){return new Mt(H.comparator)}const sX={asc:"ASCENDING",desc:"DESCENDING"},oX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aX{constructor(e,t){this.databaseId=e,this.C=t}}function vd(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XF(n,e){return n.C?e.toBase64():e.toUint8Array()}function uX(n,e){return vd(n,e.toTimestamp())}function $t(n){return Y(!!n),ae.fromTimestamp(function(e){const t=Bs(e);return new sn(t.seconds,t.nanos)}(n))}function Cb(n,e){return(t=n,new De(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZF(n){const e=De.fromString(n);return Y(dL(e)),e}function wd(n,e){return Cb(n.databaseId,e.path)}function Di(n,e){const t=ZF(e);if(t.get(1)!==n.databaseId.projectId)throw new x(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(tL(t))}function Ib(n,e){return Cb(n.databaseId,e)}function bd(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tL(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nL(n,e,t){return{name:wd(n,e),fields:t.value.mapValue.fields}}function sL(n,e){return{documents:[Ib(n,e.path)]}}function oL(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ib(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ib(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(l=>function(c){if("=="===c.op){if(wF(c.value))return{unaryFilter:{field:Uu(c.field),op:"IS_NAN"}};if(vF(c.value))return{unaryFilter:{field:Uu(c.field),op:"IS_NULL"}}}else if("!="===c.op){if(wF(c.value))return{unaryFilter:{field:Uu(c.field),op:"IS_NOT_NAN"}};if(vF(c.value))return{unaryFilter:{field:Uu(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(c.field),op:pX(c.op),value:c.value}}}(l));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Uu((l=u).field),direction:fX(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.C||ko(u)?u:{value:u});var u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=lL(e.startAt)),e.endAt&&(t.structuredQuery.endAt=lL(e.endAt)),t}function aL(n){let e=function(n){const e=ZF(n);return 4===e.length?De.emptyPath():tL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=uL(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new ku(Bu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,ko(d)?null:d}(t.limit));let u=null;t.startAt&&(u=cL(t.startAt));let l=null;return t.endAt&&(l=cL(t.endAt)),function(n,e,t,r,i,s,o,a){return new ns(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function uL(n){return n?void 0!==n.unaryFilter?[mX(n)]:void 0!==n.fieldFilter?[gX(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>uL(e)).reduce((e,t)=>e.concat(t)):q():[]}function lL(n){return{before:n.before,values:n.position}}function cL(n){return new dd(n.values||[],!!n.before)}function fX(n){return sX[n]}function pX(n){return oX[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function Bu(n){return wn.fromServerFormat(n.fieldPath)}function gX(n){return jn.create(Bu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}function mX(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bu(n.unaryFilter.field);return jn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bu(n.unaryFilter.field);return jn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bu(n.unaryFilter.field);return jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bu(n.unaryFilter.field);return jn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return q()}}function yX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ti(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hL(e)),e=_X(n.get(t),e);return hL(e)}function _X(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function hL(n){return n+"\x01\x01"}class vr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}vr.store="owner",vr.key="owner";class $s{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}$s.store="mutationQueues",$s.keyPath="userId";class ze{constructor(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];class En{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ti(t)]}static key(e,t,r){return[e,ti(t),r]}}En.store="documentMutations",En.PLACEHOLDER=new En;class at{constructor(e,t,r,i,s,o){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}at.store="remoteDocuments",at.readTimeIndex="readTimeIndex",at.readTimeIndexPath="readTime",at.collectionReadTimeIndex="collectionReadTimeIndex",at.collectionReadTimeIndexPath=["parentPath","readTime"];class Si{constructor(e){this.byteSize=e}}Si.store="remoteDocumentGlobal",Si.key="remoteDocumentGlobalKey";class Jn{constructor(e,t,r,i,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Jn.store="targets",Jn.keyPath="targetId",Jn.queryTargetsIndexName="queryTargetsIndex",Jn.queryTargetsKeyPath=["canonicalId","targetId"];class an{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];class wr{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}wr.key="targetGlobalKey",wr.store="targetGlobal";class Vo{constructor(e,t){this.collectionId=e,this.parent=t}}Vo.store="collectionParents",Vo.keyPath=["collectionId","parent"];class is{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}is.store="clientMetadata",is.keyPath="clientId";class ju{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ju.store="bundles",ju.keyPath="bundleId";class $u{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}$u.store="namedQueries",$u.keyPath="name";const fL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof S?t:S.resolve(t)}catch(t){return S.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):S.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):S.reject(t)}static resolve(e){return new S((t,r)=>{t(e)})}static reject(e){return new S((t,r)=>{r(e)})}static waitFor(e){return new S((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=S.resolve(!1);for(const r of e)t=t.next(i=>i?S.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function Uo(n){return"IndexedDbTransactionError"===n.name}class Sb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YJ(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&bb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&bb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ae.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(t,r)=>VF(t,r))&&xu(this.baseMutations,e.baseMutations,(t,r)=>VF(t,r))}}class Ab{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=tX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ab(e,t,r,i)}}class Hs{constructor(e,t,r,i,s=ae.min(),o=ae.min(),a=jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mL{constructor(e){this.Gt=e}}function Nb(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?SF(e,e.limit,"L"):e}class SX{constructor(){this.zt=new Ob}addToCollectionParentIndex(e,t){return this.zt.add(t),S.resolve()}getCollectionParents(e,t){return S.resolve(this.zt.getEntries(t))}}class Ob{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(De.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(De.comparator)).toArray()}}class Zn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class jo{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new jo(0)}static re(){return new jo(-1)}}function $o(n){return kb.apply(this,arguments)}function kb(){return kb=y(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==fL)throw n;O("LocalStore","Unexpectedly lost primary lease")}),kb.apply(this,arguments)}class Ku{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gF(this.inner)}}class NL{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return H.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):vb(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new H(t)).next(r=>{let i=Tb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let s=Tb();return this.Jt.getCollectionParents(e,i).next(o=>S.forEach(o,a=>{const u=(l=t,c=a.child(i),new ns(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.Cn(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}Cn(e,t,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,t,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const l of u.mutations){const c=l.key;let d=i.get(c);null==d&&(d=Qe.newInvalidDocument(c),i=i.insert(c,d)),bb(l,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{fd(t,a)||(i=i.remove(o))}),i))}Nn(e,t,r){let i=xe();for(const o of t)for(const a of o.mutations)a instanceof js&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class Vb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=xe(),i=xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vb(e,t.fromCache,r,i)}}class OL{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ae.min())?this.Mn(e,t):this.On.vn(e,i).next(s=>{const o=this.Ln(t,s);return(Bp(t)||jp(t))&&this.Bn(t.limitType,o,i,r)?this.Mn(e,t):(cb()<=be.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wb(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,t){let r=new ot(MF(e));return t.forEach((i,s)=>{fd(e,s)&&(r=r.add(s))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,t){return cb()<=be.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",wb(t)),this.On.getDocumentsMatchingQuery(e,t,ae.min())}}class UX{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Mt(_e),this.Kn=new Ku(s=>cd(s),Lp),this.jn=ae.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new NL(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function kL(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=y(function*(n,e){const t=k(n);let r=t.An,i=t.Wn;const s=yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.An.getAllMutationBatches(o).next(u=>(a=u,r=t.persistence.getMutationQueue(e),i=new NL(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const l=[],c=[];let d=xe();for(const h of a){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:l,addedBatchIds:c}))})});return t.An=r,t.Wn=i,t.Un.Fn(t.Wn),s}),Ub.apply(this,arguments)}function BX(n,e){const t=k(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=S.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(m=>{const _=u.docVersions.get(f);Y(null!==_),m.version.compareTo(_)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&l.addEntry(m,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function PL(n){const e=k(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function jX(n,e){const t=k(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(t.He.removeMatchingKeys(s,l.removedDocuments,c).next(()=>t.He.addMatchingKeys(s,l.addedDocuments,c)));const h=l.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(c,f),m=d,v=l,Y((_=f).resumeToken.approximateByteSize()>0),(0===m.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.He.updateTargetData(s,f))}var m,_,v});let u=Pr();if(e.documentUpdates.forEach((l,c)=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function(n,e,t,r,i){let s=xe();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let a=Pr();return t.forEach((u,l)=>{const c=o.get(u),d=(null==i?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l,d),a=a.insert(u,l)):O("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(l=>{u=l})),!r.isEqual(ae.min())){const l=t.He.getLastRemoteSnapshotVersion(s).next(c=>t.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>t.Wn.Vn(s,u)).next(()=>u)}).then(s=>(t.qn=i,s))}function $X(n,e){const t=k(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Qu(n,e){const t=k(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):t.He.allocateTargetId(r).next(o=>(i=new Hs(e,o,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Yu(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=y(function*(n,e,t){const r=k(n),i=r.qn.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Uo(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),Bb.apply(this,arguments)}function eg(n,e,t){const r=k(n);let i=ae.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=k(a),d=c.Kn.get(l);return void 0!==d?S.resolve(c.qn.get(d)):c.He.getTargetData(u,l)}(r,o,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,t?i:ae.min(),t?s:xe())).next(a=>({documents:a,zn:s})))}class zX{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return S.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:$t(r.createTime)}),S.resolve()}getNamedQuery(e,t){return S.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:Nb(r.bundledQuery),readTime:$t(r.readTime)}),S.resolve();var r}}class qb{constructor(){this.ts=new ot(Ht.es),this.ns=new ot(Ht.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Ht(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new H(new De([])),r=new Ht(t,e),i=new Ht(t,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new H(new De([])),r=new Ht(t,e),i=new Ht(t,e+1);let s=xe();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ht(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return H.comparator(e.key,t.key)||_e(e.fs,t.fs)}static ss(e,t){return _e(e.fs,t.fs)||H.comparator(e.key,t.key)}}class WX{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new ot(Ht.es)}checkEmpty(e){return S.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const s=this.ds;this.ds++;const o=new Sb(s,t,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new Ht(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,t){return S.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),s=i<0?0:i;return S.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return S.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(_e);return t.forEach(i=>{const s=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),S.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Ht(new H(s),0);let a=new ot(_e);return this.ws.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.fs)),!0)},o),S.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return S.forEach(t.mutations,i=>{const s=new Ht(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Ht(t,0),i=this.ws.firstAfterOrEqual(r);return S.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return S.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class KX{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Mt(H.comparator),this.size=0}addEntry(e,t,r){const i=t.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return S.resolve(r?r.document.clone():Qe.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Qe.newInvalidDocument(i))}),S.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=Pr();const s=new H(t.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:l}}=o.getNext();if(!t.path.isPrefixOf(a.path))break;l.compareTo(r)<=0||fd(t,u)&&(i=i.insert(u.key,u.clone()))}return S.resolve(i)}Es(e,t){return S.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new QX(this)}getSize(e){return S.resolve(this.size)}}class QX extends class{constructor(){this.changes=new Ku(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ae.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Qe.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?S.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),S.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class YX{constructor(e){this.persistence=e,this.Is=new Ku(t=>cd(t),Lp),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.As=0,this.Rs=new qb,this.targetCount=0,this.Ps=jo.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),S.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,S.resolve()}updateTargetData(e,t){return this.ce(t),S.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return S.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),S.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),S.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return S.resolve(r)}containsKey(e,t){return S.resolve(this.Rs.containsKey(t))}}class JX{constructor(e,t){this.bs={},this.Be=new _r(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new YX(this),this.Jt=new SX,this.Je=new KX(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new mL(t),this.Ye=new zX(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new WX(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){O("MemoryPersistence","Starting transaction:",e);const i=new XX(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,t){return S.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class XX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Gb{constructor(e){this.persistence=e,this.Cs=new qb,this.Ns=null}static ks(e){return new Gb(e)}get xs(){if(this.Ns)return this.Ns;throw q()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),S.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),S.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.xs,r=>{const i=H.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return S.or([()=>S.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class Kb{constructor(){this.activeTargetIds=zp()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jL{constructor(){this.pi=new Kb,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Kb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ZX{Ei(e){}shutdown(){}}class $L{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tZ{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class nZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,s){const o=this.Ui(e,t);O("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(O("RestConnection","Received: ",u),u),u=>{throw Rp("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,t,r,i,s){return this.Bi(e,t,r,i,s)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,t){return`${this.Mi}/v1/${t}:${eZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((s,o)=>{const a=new CJ;a.listenOnce(bJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case lb.NO_ERROR:const l=a.getResponseJson();O("Connection","XHR received:",JSON.stringify(l)),s(l);break;case lb.TIMEOUT:O("Connection",'RPC "'+e+'" timed out'),o(new x(I.DEADLINE_EXCEEDED,"Request time out"));break;case lb.HTTP_ERROR:const c=a.getStatus();if(O("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const m=f.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(d.status);o(new x(h,d.message))}else o(new x(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new x(I.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{O("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}Qi(e,t,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vJ(),o=wJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new TJ({})),this.qi(a.initMessageHeaders,t,r),Uk()||Bk()||Vt().indexOf("Electron/")>=0||jk()||Vt().indexOf("MSAppHost/")>=0||tp()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");O("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new tZ({Vi:m=>{d?O("Connection","Not sending because WebChannel is closed:",m):(c||(O("Connection","Opening WebChannel transport."),l.open(),c=!0),O("Connection","WebChannel sending:",m),l.send(m))},Si:()=>l.close()}),f=(m,_,v)=>{m.listen(_,E=>{try{v(E)}catch(w){setTimeout(()=>{throw w},0)}})};return f(l,Op.EventType.OPEN,()=>{d||O("Connection","WebChannel transport opened.")}),f(l,Op.EventType.CLOSE,()=>{d||(d=!0,O("Connection","WebChannel transport closed"),h.Fi())}),f(l,Op.EventType.ERROR,m=>{d||(d=!0,Rp("Connection","WebChannel transport errored:",m),h.Fi(new x(I.UNAVAILABLE,"The operation could not be completed")))}),f(l,Op.EventType.MESSAGE,m=>{var _;if(!d){const v=m.data[0];Y(!!v);const E=v,w=E.error||(null===(_=E[0])||void 0===_?void 0:_.error);if(w){O("Connection","WebChannel received error:",w);const N=w.status;let P=function(Ae){const Ne=Tt[Ae];if(void 0!==Ne)return qF(Ne)}(N),K=w.message;void 0===P&&(P=I.INTERNAL,K="Unknown error status: "+N+" with message "+w.message),d=!0,h.Fi(new x(P,K)),l.close()}else O("Connection","WebChannel received:",v),h.Oi(v)}}),f(o,EJ.STAT_EVENT,m=>{m.stat===uF.PROXY?O("Connection","Detected buffering proxy"):m.stat===uF.NOPROXY&&O("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function rg(){return"undefined"!=typeof document?document:null}function Dd(n){return new aX(n,!0)}class Yb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class qL{constructor(e,t,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Yb(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return y(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return y(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return y(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(wt(t.toString()),wt("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new x(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(y(function*(){e.state=0,e.start()}))}Ar(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rZ extends qL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.k=s}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:q(),i=e.targetChange.targetIds||[],s=function(u,l){return u.C?(Y(void 0===l||"string"==typeof l),jt.fromBase64String(l||"")):(Y(void 0===l||l instanceof Uint8Array),jt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?I.UNKNOWN:qF(u.code);return new x(l,u.message||"")}(o);t=new KF(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Di(n,r.document.name),s=$t(r.document.updateTime),o=new bn({mapValue:{fields:r.document.fields}}),a=Qe.newFoundDocument(i,s,o);t=new Wp(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Di(n,r.document),s=r.readTime?$t(r.readTime):ae.min(),o=Qe.newNoDocument(i,s);t=new Wp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Di(n,r.document);t=new Wp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return q();{const r=e.filter,s=new XJ(r.count||0);t=new WF(r.targetId,s)}}var u;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?$t(s.readTime):ae.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=bd(this.k),t.addTarget=function(i,s){let o;const a=s.target;return o=Vp(a)?{documents:sL(i,a)}:{query:oL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=XF(i,s.resumeToken):s.snapshotVersion.compareTo(ae.min())>0&&(o.readTime=vd(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return q()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=bd(this.k),t.removeTarget=e,this.gr(t)}}class iZ extends qL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(ae.min())&&(s=$t(i)),new QJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.Cr(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=bd(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function(n,e){let t;if(e instanceof gd)t={update:nL(n,e.key,e.value)};else if(e instanceof md)t={delete:wd(n,e.key)};else if(e instanceof js)t={update:nL(n,e.key,e.data),updateMask:yX(e.fieldMask)};else{if(!(e instanceof Eb))return q();t={verify:wd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vu)return{fieldPath:s.field.canonicalString(),increment:o.N};throw q()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:uX(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:q()),t;var i}(this.k,r))};this.gr(t)}}class sZ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new x(I.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(I.UNKNOWN,i.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(I.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class oZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(wt(t),this.Lr=!1):O("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class aZ{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(y(function*(){var u;Ws(o)&&(O("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=k(l);c.Gr.add(4),yield Ju(c),c.Jr.set("Unknown"),c.Gr.delete(4),yield Sd(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.Jr=new oZ(r,i)}}function Sd(n){return Jb.apply(this,arguments)}function Jb(){return Jb=y(function*(n){if(Ws(n))for(const e of n.zr)yield e(!0)}),Jb.apply(this,arguments)}function Ju(n){return Xb.apply(this,arguments)}function Xb(){return Xb=y(function*(n){for(const e of n.zr)yield e(!1)}),Xb.apply(this,arguments)}function ig(n,e){const t=k(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),tE(t)?eE(t):Zu(t).lr()&&Zb(t,e))}function Ad(n,e){const t=k(n),r=Zu(t);t.Wr.delete(e),r.lr()&&GL(t,e),0===t.Wr.size&&(r.lr()?r._r():Ws(t)&&t.Jr.set("Unknown"))}function Zb(n,e){n.Yr.X(e.targetId),Zu(n).br(e)}function GL(n,e){n.Yr.X(e),Zu(n).vr(e)}function eE(n){n.Yr=new iX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Zu(n).start(),n.Jr.Br()}function tE(n){return Ws(n)&&!Zu(n).hr()&&n.Wr.size>0}function Ws(n){return 0===k(n).Gr.size}function zL(n){n.Yr=void 0}function uZ(n){return nE.apply(this,arguments)}function nE(){return nE=y(function*(n){n.Wr.forEach((e,t)=>{Zb(n,e)})}),nE.apply(this,arguments)}function lZ(n,e){return rE.apply(this,arguments)}function rE(){return rE=y(function*(n,e){zL(n),tE(n)?(n.Jr.Kr(e),eE(n)):n.Jr.set("Unknown")}),rE.apply(this,arguments)}function cZ(n,e,t){return iE.apply(this,arguments)}function iE(){return iE=y(function*(n,e,t){if(n.Jr.set("Online"),e instanceof KF&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sg(n,r)}else if(e instanceof Wp?n.Yr.ot(e):e instanceof WF?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(ae.min()))try{const r=yield PL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Wr.get(u);l&&i.Wr.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(jt.EMPTY_BYTE_STRING,u.snapshotVersion)),GL(i,a);const l=new Hs(u.target,a,1,u.sequenceNumber);Zb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){O("RemoteStore","Failed to raise snapshot:",r),yield sg(n,r)}var r}),iE.apply(this,arguments)}function sg(n,e,t){return sE.apply(this,arguments)}function sE(){return sE=y(function*(n,e,t){if(!Uo(e))throw e;n.Gr.add(1),yield Ju(n),n.Jr.set("Offline"),t||(t=()=>PL(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){O("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Sd(n)}))}),sE.apply(this,arguments)}function WL(n,e){return e().catch(t=>sg(n,t,e))}function Xu(n){return oE.apply(this,arguments)}function oE(){return oE=y(function*(n){const e=k(n),t=Ks(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;dZ(e);)try{const i=yield $X(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,hZ(e,i)}catch(i){yield sg(e,i)}KL(e)&&QL(e)}),oE.apply(this,arguments)}function dZ(n){return Ws(n)&&n.Qr.length<10}function hZ(n,e){n.Qr.push(e);const t=Ks(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function KL(n){return Ws(n)&&!Ks(n).hr()&&n.Qr.length>0}function QL(n){Ks(n).start()}function fZ(n){return aE.apply(this,arguments)}function aE(){return aE=y(function*(n){Ks(n).kr()}),aE.apply(this,arguments)}function pZ(n){return uE.apply(this,arguments)}function uE(){return uE=y(function*(n){const e=Ks(n);for(const t of n.Qr)e.Dr(t.mutations)}),uE.apply(this,arguments)}function gZ(n,e,t){return lE.apply(this,arguments)}function lE(){return lE=y(function*(n,e,t){const r=n.Qr.shift(),i=Ab.from(r,e,t);yield WL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xu(n)}),lE.apply(this,arguments)}function mZ(n,e){return cE.apply(this,arguments)}function cE(){return cE=y(function*(n,e){var t;e&&Ks(n).Sr&&(yield(t=y(function*(r,i){if(HF(s=i.code)&&s!==I.ABORTED){const o=r.Qr.shift();Ks(r).wr(),yield WL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),KL(n)&&QL(n)}),cE.apply(this,arguments)}function hE(){return hE=y(function*(n,e){const t=k(n);e?(t.Gr.delete(2),yield Sd(t)):e||(t.Gr.add(2),yield Ju(t),t.Jr.set("Unknown"))}),hE.apply(this,arguments)}function Zu(n){return n.Xr||(n.Xr=function(e,t,r){const i=k(e);return i.Fr(),new rZ(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:uZ.bind(null,n),Ni:lZ.bind(null,n),Pr:cZ.bind(null,n)}),n.zr.push(function(){var e=y(function*(t){t?(n.Xr.wr(),tE(n)?eE(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),zL(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Ks(n){return n.Zr||(n.Zr=function(e,t,r){const i=k(e);return i.Fr(),new iZ(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:fZ.bind(null,n),Ni:mZ.bind(null,n),Nr:pZ.bind(null,n),Cr:gZ.bind(null,n)}),n.zr.push(function(){var e=y(function*(t){t?(n.Zr.wr(),yield Xu(n)):(yield n.Zr.stop(),n.Qr.length>0&&(O("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class fE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new fE(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function el(n,e){if(wt("AsyncQueue",`${e}: ${n}`),Uo(n))return new x(I.UNAVAILABLE,`${e}: ${n}`);throw n}class tl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=Tb(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class YL{constructor(){this.eo=new Mt(H.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):q():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class nl{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new nl(e,t,tl.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yZ{constructor(){this.so=void 0,this.listeners=[]}}class _Z{constructor(){this.queries=new Ku(e=>AF(e),hd),this.onlineState="Unknown",this.io=new Set}}function gE(){return gE=y(function*(n,e){const t=k(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new yZ),i)try{s.so=yield t.onListen(r)}catch(o){const a=el(o,`Initialization of query '${wb(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ro(t.onlineState),s.so&&e.oo(s.so)&&_E(t)}),gE.apply(this,arguments)}function yE(){return yE=y(function*(n,e){const t=k(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yE.apply(this,arguments)}function vZ(n,e){const t=k(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&_E(t)}function wZ(n,e,t){const r=k(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function _E(n){n.io.forEach(e=>{e.next()})}class vE{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class ZL{constructor(e){this.key=e}}class eV{constructor(e){this.key=e}}class tV{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=xe(),this.mutatedKeys=xe(),this.Ao=MF(e),this.Ro=new tl(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new YL,i=t?t.Ro:this.Ro;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Bp(this.query)&&i.size===this.query.limit?i.last():null,l=jp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=fd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?m!==_&&(r.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.Ao(f,u)>0||l&&this.Ao(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||l)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),Bp(this.query)||jp(this.query))for(;o.size>this.query.limit;){const c=Bp(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((l,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(d)-f(h)}(l.type,c.type)||this.Ao(l.doc,c.doc)),this.So(r);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new nl(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new YL,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=xe(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new eV(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new ZL(r))}),t}ko(e){this.To=e.zn,this.Io=xe();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return nl.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class TZ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CZ{constructor(e){this.key=e,this.$o=!1}}class IZ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Ku(a=>AF(a),hd),this.Mo=new Map,this.Lo=new Set,this.Bo=new Mt(H.comparator),this.Uo=new Map,this.qo=new qb,this.Ko={},this.jo=new Map,this.Qo=jo.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function DZ(n,e){return wE.apply(this,arguments)}function wE(){return wE=y(function*(n,e){const t=HE(n);let r,i;const s=t.Oo.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Qu(t.localStore,kr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield bE(t,e,r,"current"===a),t.isPrimaryClient&&ig(t.remoteStore,o)}return i}),wE.apply(this,arguments)}function bE(n,e,t,r){return EE.apply(this,arguments)}function EE(){return EE=y(function*(n,e,t,r){n.Go=(c,d,h)=>{return(f=y(function*(m,_,v,E){let w=_.view.bo(v);w.Bn&&(w=yield eg(m.localStore,_.query,!1).then(({documents:K})=>_.view.bo(K,w)));const N=E&&E.targetChanges.get(_.targetId),P=_.view.applyChanges(w,m.isPrimaryClient,N);return OE(m,_.targetId,P.Co),P.snapshot}),function(m,_,v,E){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield eg(n.localStore,e,!0),s=new tV(e,i.zn),o=s.bo(i.documents),a=_d.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);OE(n,t,u.Co);const l=new TZ(e,t,s);return n.Oo.set(e,l),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),u.snapshot}),EE.apply(this,arguments)}function SZ(n,e){return TE.apply(this,arguments)}function TE(){return TE=y(function*(n,e){const t=k(n),r=t.Oo.get(e),i=t.Mo.get(r.targetId);if(i.length>1)return t.Mo.set(r.targetId,i.filter(s=>!hd(s,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ad(t.remoteStore,r.targetId),rl(t,r.targetId)}).catch($o))):(rl(t,r.targetId),yield Yu(t.localStore,r.targetId,!0))}),TE.apply(this,arguments)}function CE(){return CE=y(function*(n,e,t){const r=qE(n);try{const i=yield function(s,o){const a=k(s),u=sn.now(),l=o.reduce((d,h)=>d.add(h.key),xe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,l).next(h=>{c=h;const f=[];for(const m of o){const _=JJ(m,c.get(m.key));null!=_&&f.push(new js(m.key,_,bF(_.value.mapValue),Et.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new Mt(_e)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ss(r,i.changes),yield Xu(r.remoteStore)}catch(i){const s=el(i,"Failed to persist write");t.reject(s)}}),CE.apply(this,arguments)}function nV(n,e){return IE.apply(this,arguments)}function IE(){return IE=y(function*(n,e){const t=k(n);try{const r=yield jX(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Uo.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?Y(o.$o):i.removedDocuments.size>0&&(Y(o.$o),o.$o=!1))}),yield ss(t,r,e)}catch(r){yield $o(r)}}),IE.apply(this,arguments)}function rV(n,e,t){const r=k(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.ro(o)&&(u=!0)}),u&&_E(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function MZ(n,e,t){return DE.apply(this,arguments)}function DE(){return DE=y(function*(n,e,t){const r=k(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new Mt(H.comparator);o=o.insert(s,Qe.newNoDocument(s,ae.min()));const a=xe().add(s),u=new yd(ae.min(),new Map,new ot(_e),o,a);yield nV(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),RE(r)}else yield Yu(r.localStore,e,!1).then(()=>rl(r,e,t)).catch($o)}),DE.apply(this,arguments)}function xZ(n,e){return SE.apply(this,arguments)}function SE(){return SE=y(function*(n,e){const t=k(n),r=e.batch.batchId;try{const i=yield BX(t.localStore,e);NE(t,r,null),xE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ss(t,i)}catch(i){yield $o(i)}}),SE.apply(this,arguments)}function NZ(n,e,t){return AE.apply(this,arguments)}function AE(){return AE=y(function*(n,e,t){const r=k(n);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.An.lookupMutationBatch(u,o).next(c=>(Y(null!==c),l=c.keys(),a.An.removeMutationBatch(u,c))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,l))})}(r.localStore,e);NE(r,e,t),xE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ss(r,i)}catch(i){yield $o(i)}}),AE.apply(this,arguments)}function xE(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function NE(n,e,t){const r=k(n);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function rl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||iV(n,r)})}function iV(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Ad(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),RE(n))}function OE(n,e,t){for(const r of t)r instanceof ZL?(n.qo.addReference(r.key,e),RZ(n,r)):r instanceof eV?(O("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||iV(n,r.key)):q()}function RZ(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(O("SyncEngine","New document in limbo: "+t),n.Lo.add(r),RE(n))}function RE(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new H(De.fromString(e)),r=n.Qo.next();n.Uo.set(r,new CZ(t)),n.Bo=n.Bo.insert(t,r),ig(n.remoteStore,new Hs(kr(Pu(t.path)),r,2,_r.I))}}function ss(n,e,t){return kE.apply(this,arguments)}function kE(){return kE=y(function*(n,e,t){const r=k(n),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=Vb.$n(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=y(function*(u,l){const c=k(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>S.forEach(l,h=>S.forEach(h.kn,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>S.forEach(h.xn,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Uo(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.qn=c.qn.insert(h,_)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),kE.apply(this,arguments)}function kZ(n,e){return PE.apply(this,arguments)}function PE(){return PE=y(function*(n,e){const t=k(n);if(!t.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=yield kL(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(o=>{o.forEach(a=>{a.reject(new x(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ss(t,r.Gn)}var i}),PE.apply(this,arguments)}function PZ(n,e){const t=k(n),r=t.Uo.get(e);if(r&&r.$o)return xe().add(r.key);{let i=xe();const s=t.Mo.get(e);if(!s)return i;for(const o of s){const a=t.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function HE(n){const e=k(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MZ.bind(null,e),e.Fo.Pr=vZ.bind(null,e.eventManager),e.Fo.zo=wZ.bind(null,e.eventManager),e}function qE(n){const e=k(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NZ.bind(null,e),e}class qZ{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.k=Dd(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return function(n,e,t,r){return new UX(n,e,t,r)}(this.persistence,new OL,e.initialUser,this.k)}Yo(e){return new JX(Gb.ks,this.k)}Jo(e){return new jL}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GE{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=kZ.bind(null,r.syncEngine),yield function(n,e){return hE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _Z}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),r=new nZ(e.databaseInfo);return new sZ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>rV(this.syncEngine,a,0),o=$L.bt()?new $L:new ZX,new aZ(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new IZ(r,i,s,o,a,u);return l&&(c.Wo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const r=k(t);O("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Ju(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class YZ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=hF.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){O("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=el(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uV(n,e){return zE.apply(this,arguments)}function zE(){return zE=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield kL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zE.apply(this,arguments)}function lV(n,e){return WE.apply(this,arguments)}function WE(){return WE=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KE(n);O("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=k(o);u.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const l=Ws(u);u.Gr.add(3),yield Ju(u),l&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield Sd(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),n.onlineComponents=e}),WE.apply(this,arguments)}function KE(n){return QE.apply(this,arguments)}function QE(){return QE=y(function*(n){return n.offlineComponents||(O("FirestoreClient","Using default OfflineComponentProvider"),yield uV(n,new qZ)),n.offlineComponents}),QE.apply(this,arguments)}function ag(n){return YE.apply(this,arguments)}function YE(){return YE=y(function*(n){return n.onlineComponents||(O("FirestoreClient","Using default OnlineComponentProvider"),yield lV(n,new GE)),n.onlineComponents}),YE.apply(this,arguments)}function ZE(){return ZE=y(function*(n){const e=yield ag(n),t=e.eventManager;return t.onListen=DZ.bind(null,e.syncEngine),t.onUnlisten=SZ.bind(null,e.syncEngine),t}),ZE.apply(this,arguments)}function fV(n,e,t={}){const r=new Bt;return n.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,u){const l=new og({next:d=>{s.enqueueAndForget(()=>function(n,e){return yE.apply(this,arguments)}(i,c)),d.fromCache&&"server"===a.source?u.reject(new x(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new vE(o,l,{includeMetadataChanges:!0,wo:!0});return function(n,e){return gE.apply(this,arguments)}(i,c)}(yield function(n){return ZE.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}class see{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Md{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Md&&e.projectId===this.projectId&&e.database===this.database}}const pV=new Map;function eT(n,e,t){if(!t)throw new x(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gV(n){if(!H.isDocumentKey(n))throw new x(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mV(n){if(H.isDocumentKey(n))throw new x(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ug(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":q()}function Te(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ug(n);throw new x(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class _V{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(n,e,t,r){if(!0===e&&!0===r)throw new x(I.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _V({}),this._settingsFrozen=!1,e instanceof Md?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new x(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Md(i.options.projectId)}(e))}get app(){if(!this._app)throw new x(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _V(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new IJ;switch(t.type){case"gapi":const r=t.client;return Y(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MJ(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new x(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pV.get(e);t&&(O("ComponentProvider","Removing Datastore"),pV.delete(e),t.terminate())}(this),Promise.resolve()}}class pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}}class Tn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tn(this.firestore,e,this._query)}}class Ai extends Tn{constructor(e,t,r){super(e,t,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new H(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function xt(n,e,...t){if(n=Zt(n),eT("collection","path",e),n instanceof xd){const r=De.fromString(e,...t);return mV(r),new Ai(n,null,r)}{if(!(n instanceof pt||n instanceof Ai))throw new x(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return mV(r),new Ai(n.firestore,null,r)}}function Nd(n,e,...t){if(n=Zt(n),1===arguments.length&&(e=hF.A()),eT("doc","path",e),n instanceof xd){const r=De.fromString(e,...t);return gV(r),new pt(n,null,new H(r))}{if(!(n instanceof pt||n instanceof Ai))throw new x(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return gV(r),new pt(n.firestore,n instanceof Ai?n.converter:null,new H(r))}}class uee{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Yb(this,"async_queue_retry"),this.Ra=()=>{const t=rg();t&&O("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new Bt;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return y(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!Uo(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,wt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=fE.createAndSchedule(this,e,t,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&q()}verifyOperationInProgress(){}Sa(){var e=this;return y(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}class Je extends xd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new uee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||wV(this),this._firestoreClient.terminate()}}function vV(n=yw()){return Eu(n,"firestore").getImmediate()}function qt(n){return n._firestoreClient||wV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wV(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new see(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new YZ(n._authCredentials,n._appCheckCredentials,n._queue,r)}class sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(jt.fromBase64String(e))}catch(t){throw new x(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lg{constructor(e){this._methodName=e}}class nT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}const cee=/^__.*__$/;class dee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new gd(e,this.data,t,this.fieldTransforms)}}class TV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class cg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return dg(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(CV(this.xa)&&cee.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class hee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Dd(e)}ja(e,t,r,i=!1){return new cg({xa:e,methodName:t,Ka:r,path:wn.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ol(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new hee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rT(n,e,t,r,i,s={}){const o=n.ja(s.merge||s.mergeFields?2:0,e,t,i);sT("Data must be an object, but it was:",o,r);const a=MV(r,o);let u,l;if(s.merge)u=new Nu(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=oT(e,d,t);if(!o.contains(h))throw new x(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NV(c,h)||c.push(h)}u=new Nu(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new dee(new bn(a),u,l)}class Od extends lg{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}class iT extends lg{_toFieldTransform(e){return new pd(e.path,new Lu)}isEqual(e){return e instanceof iT}}function qo(n,e){if(xV(n=Zt(n)))return sT("Unsupported field value:",e,n),MV(n,e);if(n instanceof lg)return function(t,r){if(!CV(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=qo(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Zt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OF(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sn.fromDate(t);return{timestampValue:vd(r.k,i)}}if(t instanceof sn){const i=new sn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vd(r.k,i)}}if(t instanceof nT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ho)return{bytesValue:XF(r.k,t._byteString)};if(t instanceof pt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${ug(t)}`)}(n,e)}function MV(n,e){const t={};return gF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,i)=>{const s=qo(i,e.Fa(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function xV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sn||n instanceof nT||n instanceof Ho||n instanceof pt||n instanceof lg)}function sT(n,e,t){if(!xV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ug(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function oT(n,e,t){if((e=Zt(e))instanceof sl)return e._internalPath;if("string"==typeof e)return aT(n,e);throw dg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const mee=new RegExp("[~\\*/\\[\\]]");function aT(n,e,t){if(e.search(mee)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sl(...e.split("."))._internalPath}catch(r){throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new x(I.INVALID_ARGUMENT,a+n+u)}function NV(n,e){return n.some(t=>t.isEqual(e))}class uT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yee extends uT{data(){return super.data()}}function hg(n,e){return"string"==typeof e?aT(n,e):e instanceof sl?e._internalPath:e._delegate._internalPath}class Go{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends uT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fg extends al{data(e={}){return super.data(e)}}class ul{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fg(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:_ee(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _ee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}class lT{}function Cn(n,...e){for(const t of e)n=t._apply(n);return n}class vee extends lT{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=ol(e.firestore),r=function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new x(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on FieldPath.documentId().`);if("in"===l||"not-in"===l){VV(c,l);const f=[];for(const m of c)f.push(LV(a,i,m));d={arrayValue:{values:f}}}else d=LV(a,i,c)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||VV(c,l),d=function(n,e,t,r=!1){return qo(t,n.ja(r?4:3,e))}(o,"where",c,"in"===l||"not-in"===l);const h=jn.create(u,l,d);return function(f,m){if(m.V()){const v=_b(f);if(null!==v&&!v.isEqual(m.field))throw new x(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${m.field.toString()}'`);const E=yb(f);null!==E&&UV(0,m.field,E)}const _=function(v,E){for(const w of v.filters)if(E.indexOf(w.op)>=0)return w.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(null!==_)throw new x(I.INVALID_ARGUMENT,_===m.op?`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`:`Invalid query. You cannot use '${m.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Tn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new ns(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Gt(n,e,t){const r=e,i=hg("where",n);return new vee(i,r,t)}class wee extends lT{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new x(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new x(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ku(i,s);return function(a,u){if(null===yb(a)){const l=_b(a);null!==l&&UV(0,l,u.field)}}(r,o),o}(e._query,this.Ga,this.Ja);return new Tn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ns(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function ll(n,e="asc"){const t=e,r=hg("orderBy",n);return new wee(r,t)}class RV extends lT{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new Tn(e.firestore,e.converter,SF(e._query,this.Ya,this.Xa))}}function LV(n,e,t){if("string"==typeof(t=Zt(t))){if(""===t)throw new x(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&-1!==t.indexOf("/"))throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(De.fromString(t));if(!H.isDocumentKey(r))throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pp(n,new H(r))}if(t instanceof pt)return Pp(n,t._key);throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ug(t)}.`)}function VV(n,e){if(!Array.isArray(n)||0===n.length)throw new x(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new x(I.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function UV(n,e,t){if(!t.isEqual(e))throw new x(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zo extends class{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw q()}}convertObject(e,t){const r={};return Ro(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new nT(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=De.fromString(e);Y(dL(r));const i=new Md(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function In(n){n=Te(n,Tn);const e=Te(n.firestore,Je),t=qt(e),r=new zo(e);return function(n){if(jp(n)&&0===n.explicitOrderBy.length)throw new x(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),fV(t,n._query).then(i=>new ul(e,r,n,i))}function dT(n,e,t,...r){n=Te(n,pt);const i=Te(n.firestore,Je),s=ol(i);let o;return o="string"==typeof(e=Zt(e))||e instanceof sl?function(n,e,t,r,i,s){const o=n.ja(1,e,t),a=[oT(e,r,t)],u=[i];if(s.length%2!=0)throw new x(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(oT(e,s[h])),u.push(s[h+1]);const l=[],c=bn.empty();for(let h=a.length-1;h>=0;--h)if(!NV(l,a[h])){const f=a[h];let m=u[h];m=Zt(m);const _=o.La(f);if(m instanceof Od)l.push(f);else{const v=qo(m,_);null!=v&&(l.push(f),c.set(f,v))}}const d=new Nu(l);return new TV(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function(n,e,t,r){const i=n.ja(1,e,t);sT("Data must be an object, but it was:",i,r);const s=[],o=bn.empty();Ro(r,(u,l)=>{const c=aT(e,u,t);l=Zt(l);const d=i.La(c);if(l instanceof Od)s.push(c);else{const h=qo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Nu(s);return new TV(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Rd(i,[o.toMutation(n._key,Et.exists(!0))])}function hT(n,e){const t=Te(n.firestore,Je),r=Nd(n),i=function(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Rd(t,[rT(ol(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function Rd(n,e){return function(t,r){const i=new Bt;return t.asyncQueue.enqueueAndForget(y(function*(){return function(n,e,t){return CE.apply(this,arguments)}(yield function(n){return ag(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(qt(n),e)}function jV(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}!function(n,e=!0){Mu="9.6.1",Yn(new Ln("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Je(i,new SJ(t.getProvider("auth-internal")),new xJ(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),st(lF,"3.4.1",n),st(lF,"3.4.1","esm2017")}();const Mee=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},GV=new Ci("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zV=new bu("@firebase/auth");function mg(n,...e){zV.logLevel<=be.ERROR&&zV.error(`Auth (9.6.1): ${n}`,...e)}function er(n,...e){throw gT(n,...e)}function Mi(n,...e){return gT(n,...e)}function WV(n,e,t){const r=Object.assign(Object.assign({},Mee()),{[e]:t});return new Ci("auth","Firebase",r).create(e,{appName:n.name})}function gT(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GV.create(n,...e)}function R(n,e,...t){if(!n)throw gT(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mg(e),new Error(e)}function Qs(n,e){n||xi(e)}const KV=new Map;function os(n){Qs(n instanceof Function,"Expected a class definition");let e=KV.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,KV.set(n,e),e)}function kd(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function QV(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Pd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=Uk()||Bk()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===QV()||"https:"===QV()||tp()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yT(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class YV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pee=new Pd(3e4,6e4);function Nt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zt(n,e,t,r){return _T.apply(this,arguments)}function _T(){return _T=y(function*(n,e,t,r,i={}){return JV(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=sp(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),YV.fetch()(XV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),_T.apply(this,arguments)}function JV(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kee),e);try{const i=new Fee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw yg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw yg(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw yg(n,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WV(n,c,l);er(n,c)}}catch(i){if(i instanceof Xi)throw i;er(n,"network-request-failed")}}),vT.apply(this,arguments)}function as(n,e,t,r){return wT.apply(this,arguments)}function wT(){return wT=y(function*(n,e,t,r,i={}){const s=yield zt(n,e,t,r,i);return"mfaPendingCredential"in s&&er(n,"multi-factor-auth-required",{_serverResponse:s}),s}),wT.apply(this,arguments)}function XV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?yT(n.config,i):`${n.config.apiScheme}://${i}`}class Fee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"timeout")),Pee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Mi(n,e,r);return i.customData._tokenResponse=t,i}function bT(){return bT=y(function*(n,e){return zt(n,"POST","/v1/accounts:delete",e)}),bT.apply(this,arguments)}function Uee(n,e){return TT.apply(this,arguments)}function TT(){return TT=y(function*(n,e){return zt(n,"POST","/v1/accounts:lookup",e)}),TT.apply(this,arguments)}function Fd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function CT(){return CT=y(function*(n,e=!1){const t=Zt(n),r=yield t.getIdToken(e),i=_g(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fd(IT(i.auth_time)),issuedAtTime:Fd(IT(i.iat)),expirationTime:Fd(IT(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),CT.apply(this,arguments)}function IT(n){return 1e3*Number(n)}function _g(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return mg("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return ow.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(mg("Failed to decode base64 JWT payload"),null)}catch(i){return mg("Caught error parsing JWT payload as JSON",i),null}}function us(n,e){return DT.apply(this,arguments)}function DT(){return DT=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Xi&&$ee(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),DT.apply(this,arguments)}function $ee({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Hee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ZV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fd(this.lastLoginAt),this.creationTime=Fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ld(n){return ST.apply(this,arguments)}function ST(){return ST=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield us(n,Uee(t,{idToken:r}));R(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?zee(s.providerUserInfo):[],a=Gee(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZV(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),ST.apply(this,arguments)}function AT(){return AT=y(function*(n){const e=Zt(n);yield Ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),AT.apply(this,arguments)}function Gee(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zee(n){return n.map(e=>{var{providerId:t}=e,r=jV(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function MT(){return MT=y(function*(n,e){const t=yield JV(n,{},y(function*(){const r=sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=XV(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),MT.apply(this,arguments)}class Vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(void 0!==e.idToken,"internal-error"),R(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=_g(n);return R(e,"internal-error"),R(void 0!==e.exp,"internal-error"),R(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return MT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Vd;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vd,this.toJSON())}_performRefresh(){return xi("not implemented")}}function Ys(n,e){R("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Wo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=jV(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new ZV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield us(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return CT.apply(this,arguments)}(this,e)}reload(){return function(n){return AT.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ld(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield us(e,function(n,e){return bT.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=t.createdAt)&&void 0!==l?l:void 0,w=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:N,emailVerified:P,isAnonymous:K,providerData:Ae,stsTokenManager:Ne}=t;R(N&&Ne,e,"internal-error");const qn=Vd.fromJSON(this.name,Ne);R("string"==typeof N,e,"internal-error"),Ys(d,e.name),Ys(h,e.name),R("boolean"==typeof P,e,"internal-error"),R("boolean"==typeof K,e,"internal-error"),Ys(f,e.name),Ys(m,e.name),Ys(_,e.name),Ys(v,e.name),Ys(E,e.name),Ys(w,e.name);const cn=new Wo({uid:N,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:K,photoURL:m,phoneNumber:f,tenantId:_,stsTokenManager:qn,createdAt:E,lastLoginAt:w});return Ae&&Array.isArray(Ae)&&(cn.providerData=Ae.map(Gn=>Object.assign({},Gn))),v&&(cn._redirectEventId=v),cn}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new Vd;i.updateFromServerResponse(t);const s=new Wo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ld(s),s})()}}const e2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function vg(n,e,t){return`firebase:${n}:${e}:${t}`}class dl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vg(this.userKey,i.apiKey,s),this.fullPersistenceKey=vg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Wo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new dl(os(e2),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||os(e2);const o=vg(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Wo._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new dl(s,e,r)):new dl(s,e,r)})()}}function t2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o2(e))return"Blackberry";if(a2(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||r2(e))&&!e.includes("edge/"))return"Chrome";if(s2(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function n2(n=Vt()){return/firefox\//i.test(n)}function xT(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r2(n=Vt()){return/crios\//i.test(n)}function i2(n=Vt()){return/iemobile/i.test(n)}function s2(n=Vt()){return/android/i.test(n)}function o2(n=Vt()){return/blackberry/i.test(n)}function a2(n=Vt()){return/webos/i.test(n)}function wg(n=Vt()){return/iphone|ipad|ipod/i.test(n)}function u2(n=Vt()){return wg(n)||s2(n)||a2(n)||o2(n)||/windows phone/i.test(n)||i2(n)}function l2(n,e=[]){let t;switch(n){case"Browser":t=t2(Vt());break;case"Worker":t=`${t2(Vt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class Jee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c2(this),this.idTokenSubscription=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield dl.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield Ld(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?Zt(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return y(function*(){if(!t._deleted)return e&&R(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(y(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(os(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ci("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&os(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield dl.create(t,[os(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function tr(n){return Zt(n)}class c2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new CQ(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class f2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}function OT(){return OT=y(function*(n,e){return zt(n,"POST","/v1/accounts:update",e)}),OT.apply(this,arguments)}function kT(){return kT=y(function*(n,e){return as(n,"POST","/v1/accounts:signInWithPassword",Nt(n,e))}),kT.apply(this,arguments)}function BT(){return BT=y(function*(n,e){return as(n,"POST","/v1/accounts:signInWithEmailLink",Nt(n,e))}),BT.apply(this,arguments)}function jT(){return jT=y(function*(n,e){return as(n,"POST","/v1/accounts:signInWithEmailLink",Nt(n,e))}),jT.apply(this,arguments)}class Ud extends f2{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ud(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ud(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return y(function*(){switch(t.signInMethod){case"password":return function(n,e){return kT.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(n,e){return BT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:er(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return y(function*(){switch(r.signInMethod){case"password":return function(n,e){return OT.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(n,e){return jT.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:er(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ls(n,e){return $T.apply(this,arguments)}function $T(){return $T=y(function*(n,e){return as(n,"POST","/v1/accounts:signInWithIdp",Nt(n,e))}),$T.apply(this,arguments)}class $d{constructor(e){var t,r,i,s,o,a;const u=Uc(Bc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(n){const e=Uc(Bc(n)).link,t=e?Uc(Bc(e)).deep_link_id:null,r=Uc(Bc(n)).deep_link_id;return(r?Uc(Bc(r)).link:null)||r||t||e||n}(e);try{return new $d(t)}catch(r){return null}}}let m2=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ud._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=$d.parseLink(r);return R(i,"argument-error"),Ud._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mte extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function y2(n,e){return KT.apply(this,arguments)}function KT(){return KT=y(function*(n,e){return as(n,"POST","/v1/accounts:signUp",Nt(n,e))}),KT.apply(this,arguments)}class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(function*(){const s=yield Wo._fromIdTokenResponse(e,r,i),o=_2(r);return new Fr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_2(r);return new Fr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function _2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tg extends Xi{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Tg(e,t,r,i)}}function v2(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Tg._fromErrorAndOperation(n,s,e,r):s})}function JT(n,e){return XT.apply(this,arguments)}function XT(){return XT=y(function*(n,e,t=!1){const r=yield us(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fr._forOperation(n,"link",r)}),XT.apply(this,arguments)}function eC(){return eC=y(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield us(n,v2(r,i,e,n),t);R(s.idToken,r,"internal-error");const o=_g(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(n.uid===a,r,"user-mismatch"),Fr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&er(r,"user-mismatch"),s}}),eC.apply(this,arguments)}function E2(n,e){return tC.apply(this,arguments)}function tC(){return tC=y(function*(n,e,t=!1){const r="signIn",i=yield v2(n,r,e),s=yield Fr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),tC.apply(this,arguments)}function rC(){return rC=y(function*(n,e){return E2(tr(n),e)}),rC.apply(this,arguments)}function gC(){return gC=y(function*(n,e,t){const r=tr(n),i=yield y2(r,{returnSecureToken:!0,email:e,password:t}),s=yield Fr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),gC.apply(this,arguments)}function T2(n,e,t){return function(n,e){return rC.apply(this,arguments)}(Zt(n),m2.credential(e,t))}function Ite(n,e){return EC.apply(this,arguments)}function EC(){return EC=y(function*(n,e){return zt(n,"POST","/v1/accounts:update",e)}),EC.apply(this,arguments)}function TC(){return TC=y(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Zt(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield us(r,Ite(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),TC.apply(this,arguments)}new WeakMap;const Dg="__sak";class I2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vte=(()=>{class n extends I2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=Vt();return xT(n)||wg(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=u2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);jk()&&10===document.documentMode&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,10):s()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),D2=(()=>{class n extends I2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Bte=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return y(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function xC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class jte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=xC("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ot(){return window}function NC(){return void 0!==Ot().WorkerGlobalScope&&"function"==typeof Ot().importScripts}function OC(){return(OC=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const S2="firebaseLocalStorageDb",Sg="firebaseLocalStorage",A2="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ag(n,e){return n.transaction([Sg],e?"readwrite":"readonly").objectStore(Sg)}function RC(){const n=indexedDB.open(S2,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sg,{keyPath:A2})}catch(i){t(i)}}),n.addEventListener("success",y(function*(){const r=n.result;r.objectStoreNames.contains(Sg)?e(r):(r.close(),yield function(){const n=indexedDB.deleteDatabase(S2);return new qd(n).toPromise()}(),e(yield RC()))}))})}function M2(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=y(function*(n,e,t){const r=Ag(n,!0).put({[A2]:e,value:t});return new qd(r).toPromise()}),kC.apply(this,arguments)}function PC(){return PC=y(function*(n,e){const t=Ag(n,!1).get(e),r=yield new qd(t).toPromise();return void 0===r?null:r.value}),PC.apply(this,arguments)}function x2(n,e){const t=Ag(n,!0).delete(e);return new qd(t).toPromise()}const Jte=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield RC()),t.db})()}_withRetries(t){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return NC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=Bte._getInstance(NC()?self:null),t.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var r,i;if(t.activeServiceWorker=yield function(){return OC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new jte(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield RC();return yield M2(t,Dg,"1"),yield x2(t,Dg),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return y(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>M2(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return y(function*(){const i=yield r._withRetries(s=>function(n,e){return PC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>x2(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const r=yield t._withRetries(o=>{const a=Ag(o,!1).getAll();return new qd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function O2(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Qo(n,e){return e?os(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}O2("rcb"),new Pd(3e4,6e4);class GC extends f2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ls(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pne(n){return E2(n.auth,new GC(n),n.bypassAuthState)}function gne(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function(n,e){return eC.apply(this,arguments)}(t,new GC(n),n.bypassAuthState)}function mne(n){return zC.apply(this,arguments)}function zC(){return zC=y(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),JT(t,new GC(n),n.bypassAuthState)}),zC.apply(this,arguments)}new Pd(2e3,1e4);const xg=new Map;class vne extends class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pne;case"linkViaPopup":case"linkViaRedirect":return mne;case"reauthViaPopup":case"reauthViaRedirect":return gne;default:er(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let r=xg.get(t.auth._key());if(!r){try{const s=(yield function(n,e){return JC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xg.set(t.auth._key(),r)}return t.bypassAuthState||xg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function JC(){return JC=y(function*(n,e){const t=P2(e),r=k2(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),JC.apply(this,arguments)}function k2(n){return os(n._redirectPersistence)}function P2(n){return vg("pendingRedirect",n.config.apiKey,n.name)}function F2(n,e){return iI.apply(this,arguments)}function iI(){return iI=y(function*(n,e,t=!1){const r=tr(n),i=Qo(r,e),o=yield new vne(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),iI.apply(this,arguments)}class Ine{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U2(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!U2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Mi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(V2(e))}saveEventToCache(e){this.cachedEventUids.add(V2(e)),this.lastProcessedEventTime=Date.now()}}function V2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function U2({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Sne(n){return oI.apply(this,arguments)}function oI(){return oI=y(function*(n,e={}){return zt(n,"GET","/v1/projects",e)}),oI.apply(this,arguments)}const Ane=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mne=/^https?/;function aI(){return aI=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Sne(n);for(const t of e)try{if(Nne(t))return}catch(r){}er(n,"unauthorized-domain")}),aI.apply(this,arguments)}function Nne(n){const e=kd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Mne.test(t))return!1;if(Ane.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const One=new Pd(3e4,6e4);function B2(){const n=Ot().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ng=null;function kne(n){return Ng=Ng||function(n){return new Promise((e,t)=>{var r,i,s;function o(){B2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B2(),t(Mi(n,"network-request-failed"))},timeout:One.get()})}if(null===(i=null===(r=Ot().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ot().gapi)||void 0===s?void 0:s.load)){const a=O2("iframefcb");return Ot()[a]=()=>{gapi.load?o():t(Mi(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Mi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Ng=null,e})}(n),Ng}const Pne=new Pd(5e3,15e3),Vne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Une=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bne(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yT(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Tu},i=Une.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${sp(r).slice(1)}`}function uI(){return uI=y(function*(n){const e=yield kne(n),t=Ot().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:Bne(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vne,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Mi(n,"network-request-failed"),u=Ot().setTimeout(()=>{o(a)},Pne.get());function l(){Ot().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),uI.apply(this,arguments)}const $ne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class j2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $2(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Tu,eventId:i};if(e instanceof Js){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof mte){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:n}){return n.emulator?yT(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${sp(a).slice(1)}`}const lI="webStorageSupport",Zne=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D2,this._completeRedirectFn=F2}_openPopup(e,t,r,i){var s=this;return y(function*(){var o;Qs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=$2(e,t,r,kd(),i);return function(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},$ne),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Vt().toLowerCase();t&&(a=r2(l)?"_blank":t),n2(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(function(n=Vt()){var e;return wg(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new j2(null);const d=window.open(e||"",a,c);R(d,n,"popup-blocked");try{d.focus()}catch(h){}return new j2(d)}(e,a,xC())})()}_openRedirect(e,t,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function(n){Ot().location.href=n}($2(e,t,r,kd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return y(function*(){const r=yield function(n){return uI.apply(this,arguments)}(e),i=new Ine(e);return r.register("authEvent",s=>(R(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lI,{type:lI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[lI];void 0!==o&&t(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return aI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u2()||xT()||wg()}};var q2="@firebase/auth";class ere{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hl(n=yw()){const e=Eu(n,"auth");return e.isInitialized()?e.getImmediate():function(n,e){const t=Eu(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(ip(t.getOptions(),null!=e?e:{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Zne,persistence:[Jte,Vte,D2]})}!function(n){Yn(new Ln("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{R(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),R(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l2(n)},u=new Jee(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(os);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yn(new Ln("auth-internal",e=>{const t=tr(e.getProvider("auth").getImmediate());return new ere(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(q2,"0.19.4",void 0),st(q2,"0.19.4","esm2017")}("Browser"),zk({apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",projectId:"dosapointfirebase"});const rre=hl(),Xe=vV();let $n=(()=>{class n{constructor(t){this.router=t,this.menuFromDb=[],this.oldMenuForUpdation=[],this.allUsers=[],this.newUsers=[],this.ordersData=[],this.myOrdersData=[],this.totalSale=0}writeToUsersCollection(t){return y(function*(){yield hT(xt(Xe,"users"),t)})()}writeToOrdersCollection(t){return y(function*(){const r={orderNumber:t.orderNumber,customerName:t.customerName,mobile:t.mobile,email:t.email,orderItems:t.orderedItems,totalAmount:t.totalAmount,orderDate:t.orderDate,orderStatus:t.orderStatus,exactDateAndTimeOfOrder:new iT("serverTimestamp")};yield hT(xt(Xe,"orders"),r)})()}verifyCredentials(t){return y(function*(){const r=Cn(xt(Xe,"users"),Gt("email","==",t.email),Gt("activated","==",!0));return(yield In(r)).size>0?1:0})()}verifyAdminCredentials(t){return y(function*(){const r=Cn(xt(Xe,"users"),Gt("email","==",t.email),Gt("activated","==",!0),Gt("role","in",["admin","developer"]));return(yield In(r)).size>0?1:0})()}checkAlreadyRegisteredMobile(t){return y(function*(){const r=Cn(xt(Xe,"users"),Gt("mobile","==",t.mobile));return(yield In(r)).size>0?1:0})()}getUserByEmail(t){var r=this;return y(function*(){const i=Cn(xt(Xe,"users"),Gt("email","==",t));return(yield In(i)).forEach(o=>{r.userInfo=o.data()}),r.userInfo})()}getMenu(){var t=this;return y(function*(){if(t.menuFromDb.length<=0){const r=Cn(xt(Xe,"menu"));(yield In(r)).forEach(s=>{t.menuFromDb.push(s.data())})}return t.menuFromDb})()}clearMenuBeforeUpdation(){return y(function*(){const t=Cn(xt(Xe,"menu"));(yield In(t)).forEach(function(){var i=y(function*(s){yield function(n){return Rd(Te(n.firestore,Je),[new md(n._key,Et.none())])}(Nd(Xe,"menu",s.id))});return function(s){return i.apply(this,arguments)}}())})()}getAllUsers(){var t=this;return y(function*(){const r=Cn(xt(Xe,"users"),Gt("activated","==",!0),ll("timeStamp","desc"));return(yield In(r)).forEach(s=>{t.allUsers.push(s.data())}),t.allUsers})()}getNewUsers(){var t=this;return y(function*(){const r=Cn(xt(Xe,"users"),Gt("activated","==",!1),ll("timeStamp","desc"));return(yield In(r)).forEach(s=>{t.newUsers.push(s.data())}),t.newUsers})()}verifyUser(t){return y(function*(){const r=Cn(xt(Xe,"users"),Gt("mobile","==",t));return(yield In(r)).forEach(function(){var s=y(function*(o){const a=Nd(Xe,"users",o.id);yield dT(a,{activated:!0})});return function(o){return s.apply(this,arguments)}}()),!0})()}deactivateUser(t){return y(function*(){const r=Cn(xt(Xe,"users"),Gt("mobile","==",t));return(yield In(r)).forEach(function(){var s=y(function*(o){const a=Nd(Xe,"users",o.id);yield dT(a,{activated:!1})});return function(o){return s.apply(this,arguments)}}()),!0})()}getOrders(){var t=this;return y(function*(){try{const r=Cn(xt(Xe,"orders"),Gt("orderDate","==",t.getOrderDateForPageRefresh()),ll("exactDateAndTimeOfOrder","desc"));(yield In(r)).forEach(s=>{t.ordersData.push(s.data())})}catch(r){console.error(r)}return t.ordersData})()}getTodaysOrders(){var t=this;return y(function*(){try{const r=Cn(xt(Xe,"orders"),Gt("orderDate","==",pf(new Date,"yyyy/MM/dd","en")),ll("exactDateAndTimeOfOrder","desc"));(yield In(r)).forEach(s=>{t.ordersData.push(s.data())})}catch(r){console.error(r)}return t.ordersData})()}getMyOrders(t){var r=this;return y(function*(){try{const i=Cn(xt(Xe,"orders"),Gt("email","==",t),Gt("orderStatus","==","Done"),ll("exactDateAndTimeOfOrder","desc"));(yield In(i)).forEach(o=>{r.myOrdersData.push(o.data())})}catch(i){console.error(i)}return r.myOrdersData})()}getTotalSale(){var t=this;return y(function*(){try{t.totalSale=0;const r=Cn(xt(Xe,"orders"),Gt("orderStatus","==","Done"));(yield In(r)).forEach(s=>{t.totalSale=t.totalSale+s.data().totalAmount})}catch(r){console.error(r)}return t.totalSale})()}cancelOrder(t,r){return y(function*(){const i=Cn(xt(Xe,"orders"),Gt("email","==",t),Gt("orderNumber","==",r));return(yield In(i)).forEach(function(){var o=y(function*(a){const u=Nd(Xe,"orders",a.id);yield dT(u,{orderStatus:"Cancelled"})});return function(a){return o.apply(this,arguments)}}()),!0})()}getNewOrderId(){var t=this;return y(function*(){const r=Cn(xt(Xe,"orders"),ll("exactDateAndTimeOfOrder","desc"),(function(n,e){if(e<=0)throw new x(I.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",1),new RV("limit",1,"F")));return(yield In(r)).forEach(s=>{t.newOrderId=s.data().orderNumber}),t.newOrderId})()}get isLoggedIn(){return null===localStorage.getItem("user")}get getLoggedInUser(){return localStorage.getItem("user")}SignOut(){rre.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("userInfo"),localStorage.removeItem("orderDate"),this.menuFromDb.length=0,this.router.navigate(["customer-login"])})}updateMenuCollection(t){var r=this;return y(function*(){yield r.clearMenuBeforeUpdation(),t.forEach(function(){var i=y(function*(s){yield hT(xt(Xe,"menu"),s)});return function(s){return i.apply(this,arguments)}}())})()}saveOrderDateForPageRefresh(t){localStorage.setItem("orderDate",t)}getOrderDateForPageRefresh(){return localStorage.getItem("orderDate")}clearMenu(){this.menuFromDb.length=0}}return n.\u0275fac=function(t){return new(t||n)(L(Me))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ire(n,e){1&n&&(p(0,"div"),C(1,"Date is required"),g())}function sre(n,e){if(1&n&&(p(0,"div",17),M(1,ire,2,0,"div",15),g()),2&n){const t=j();b(1),D("ngIf",t.f.orderDateSelector.errors.required)}}function ore(n,e){1&n&&(p(0,"div"),C(1,"Please select a valid date."),g())}const are=function(n){return{"is-invalid":n}};let ure=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.userService=i,this.orderDetailsForm=bi,this.submitted=!1,this.maxDate=new Date,this.dateError=!1}get f(){return this.orderDetailsForm.controls}onSubmit(){if(this.submitted=!0,!this.orderDetailsForm.invalid)if(new Date(this.orderDetailsForm.value.orderDateSelector)>new Date)this.dateError=!0;else if(this.submitted){this.dateError=!1;const r=pf(this.orderDetailsForm.value.orderDateSelector,"yyyy/MM/dd","en");this.userService.saveOrderDateForPageRefresh(r),this.router.navigate(["view-date-orders"])}}ngOnInit(){this.orderDetailsForm=this.formBuilder.group({orderDateSelector:["",[ft.required]]})}goToVerifyUsersCom(){this.router.navigate(["view-users"])}goToUsersCom(){this.router.navigate(["view-all-users"])}goToTodaysOrdersCom(){this.router.navigate(["view-orders"])}goToUpdateMenu(){this.router.navigate(["update-menu"])}}return n.\u0275fac=function(t){return new(t||n)(T(Dc),T(Me),T($n))},n.\u0275cmp=ut({type:n,selectors:[["app-admin-home"]],decls:34,vars:6,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"adminHomeFrame","d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-2","display-6","text-center"],[1,"p-3","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"],[1,"p-2","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","orderDateSelector",1,"sr-only"],["id","orderDateSelector","type","date","formControlName","orderDateSelector","placeholder","Select a date","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Welcome Admin"),g(),G(8,"hr"),g(),p(9,"div",7),p(10,"button",8),oe("click",function(){return r.goToUpdateMenu()}),C(11,"Update Menu "),g(),g(),p(12,"div",7),p(13,"button",8),oe("click",function(){return r.goToVerifyUsersCom()}),C(14,"Verify New Users "),g(),g(),p(15,"div",7),p(16,"button",8),oe("click",function(){return r.goToUsersCom()}),C(17,"View Verified Users "),g(),g(),p(18,"div",7),p(19,"button",8),oe("click",function(){return r.goToTodaysOrdersCom()}),C(20,"View Today's Orders "),g(),g(),G(21,"hr"),p(22,"div",9),p(23,"form",10),oe("ngSubmit",function(){return r.onSubmit()}),p(24,"div",11),p(25,"div",11),p(26,"label",12),C(27,"Name"),g(),G(28,"input",13),M(29,sre,2,1,"div",14),M(30,ore,2,0,"div",15),g(),g(),p(31,"div",9),p(32,"button",16),C(33,"View Orders "),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(23),D("formGroup",r.orderDetailsForm),b(5),D("ngClass",mr(4,are,r.submitted&&r.f.orderDateSelector.errors)),b(1),D("ngIf",r.submitted&&r.f.orderDateSelector.errors),b(1),D("ngIf",r.dateError))},directives:[cu,au,Ns,wi,xs,wo,Os,ou,yn],styles:[".adminHomeFrame[_ngcontent-%COMP%]{min-height:84vh}"]}),n})();function lre(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function cre(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function dre(n,e){if(1&n&&(p(0,"div",20),M(1,lre,2,0,"div",14),M(2,cre,2,0,"div",14),g()),2&n){const t=j();b(1),D("ngIf",t.f.email.errors.required),b(1),D("ngIf",t.f.email.errors.pattern)}}function hre(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function fre(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function pre(n,e){if(1&n&&(p(0,"div",20),M(1,hre,2,0,"div",14),M(2,fre,2,0,"div",14),g()),2&n){const t=j();b(1),D("ngIf",t.f.password.errors.required),b(1),D("ngIf",t.f.password.errors.minlength)}}function gre(n,e){1&n&&(p(0,"div"),C(1,"Invalid Password! Please retry."),g())}function mre(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered."),g())}function yre(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered as Admin."),g())}function _re(n,e){1&n&&G(0,"span",21)}const z2=function(n){return{"is-invalid":n}},vre=hl();let wre=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.userService=i,this.adminLoginForm=bi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.notRegisteredError=!1,this.notAdminError=!1}get f(){return this.adminLoginForm.controls}onSubmit(){this.submitted=!0,this.credentialsError=!1,this.notRegisteredError=!1,!this.adminLoginForm.invalid&&this.submitted&&(this.loading=!0,T2(vre,this.adminLoginForm.value.email,this.adminLoginForm.value.password).then(t=>{this.userService.verifyAdminCredentials(this.adminLoginForm.value).then(r=>{0==r?(this.notAdminError=!0,this.loading=!1):(this.loading=!1,localStorage.setItem("user",JSON.stringify(t.user)),this.router.navigate(["admin-home"]))})}).catch(t=>{const r=t.code,i=t.message;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1),console.log("Error:",i,r),console.log("error code:",r)}))}ngOnInit(){this.adminLoginForm=this.formBuilder.group({email:["",[ft.required,ft.email,ft.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ft.required]]})}}return n.\u0275fac=function(t){return new(t||n)(T(Dc),T(Me),T($n))},n.\u0275cmp=ut({type:n,selectors:[["app-admin-login"]],decls:27,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"display-5","text-center"],[1,"p-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Admin Login"),g(),p(9,"div",8),p(10,"form",9),oe("ngSubmit",function(){return r.onSubmit()}),p(11,"div",10),G(12,"input",11),M(13,dre,3,2,"div",12),g(),p(14,"div",10),G(15,"input",13),M(16,pre,3,2,"div",12),g(),M(17,gre,2,0,"div",14),M(18,mre,2,0,"div",14),M(19,yre,2,0,"div",14),p(20,"button",15),C(21,"Login "),M(22,_re,1,0,"span",16),g(),p(23,"div",17),p(24,"div",18),p(25,"a",19),C(26,"Customer Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(10),D("formGroup",r.adminLoginForm),b(2),D("ngClass",mr(9,z2,r.submitted&&r.f.email.errors)),b(1),D("ngIf",r.submitted&&r.f.email.errors),b(2),D("ngClass",mr(11,z2,r.submitted&&r.f.password.errors)),b(1),D("ngIf",r.submitted&&r.f.password.errors),b(1),D("ngIf",r.credentialsError),b(1),D("ngIf",r.notRegisteredError),b(1),D("ngIf",r.notAdminError),b(3),D("ngIf",r.loading))},directives:[cu,au,Ns,wi,xs,wo,Os,ou,yn,du,_u],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function bre(n,e){1&n&&G(0,"span",17)}function Ere(n,e){if(1&n){const t=Rn();p(0,"button",22),oe("click",function(){Ct(t);const i=j().index;return j(2).deleteExistingItem(i)}),C(1,"Delete This"),g()}}function Tre(n,e){if(1&n){const t=Rn();p(0,"tr"),p(1,"td",20),oe("keyup",function(i){const o=Ct(t).index;return j(2).changeItemName(o,"itemName",i)})("blur",function(i){const o=Ct(t).index;return j(2).updateItemName(o,"itemName",i)}),g(),p(2,"td",20),oe("keyup",function(i){const o=Ct(t).index;return j(2).changePrice(o,"price",i)})("blur",function(i){const o=Ct(t).index;return j(2).updatePrice(o,"price",i)}),g(),p(3,"td"),M(4,Ere,2,0,"button",21),g(),g()}if(2&n){const t=e.$implicit,r=j(2);b(1),D("textContent",t.itemName),b(1),D("textContent",t.price),b(2),D("ngIf",r.menuFromDb.length>0)}}function Cre(n,e){if(1&n&&(p(0,"table",18),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Item"),g(),p(5,"th"),C(6,"Price"),g(),g(),g(),p(7,"tbody"),M(8,Tre,5,3,"tr",19),g(),g()),2&n){const t=j();b(8),D("ngForOf",t.menuFromDb)}}function Ire(n,e){if(1&n){const t=Rn();p(0,"button",23),oe("click",function(){return Ct(t),j().addItem()}),C(1,"Add New"),g()}}function Dre(n,e){if(1&n){const t=Rn();p(0,"button",24),oe("click",function(){return Ct(t),j().updateMenu()}),C(1,"Update "),g()}}let Sre=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.toastr=i,this.menuFromDb=Array(),this.editField="",this.editPrice=0}ngOnInit(){var t=this;return y(function*(){t.menuFromDb.length=0,yield t.getMenu()})()}getMenu(){var t=this;return y(function*(){yield t.userService.getMenu().then(r=>{t.menuFromDb=r})})()}updateItemName(t,r,i){this.menuFromDb[t][r]=i.target.textContent}changeItemName(t,r,i){this.editField=i.target.textContent}updatePrice(t,r,i){this.menuFromDb[t][r]=+i.target.textContent}changePrice(t,r,i){this.editPrice=+i.target.textContent}updateMenu(){var t=this;return y(function*(){yield t.userService.updateMenuCollection(t.menuFromDb).then(r=>{}),t.toastr.success("Menu Updated"),t.router.navigate(["admin-home"])})()}addItem(){this.menuFromDb.push({itemName:"",price:0,quantity:0,amount:0})}deleteExistingItem(t){this.menuFromDb.splice(t,1)}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T($n),T(Rs))},n.\u0275cmp=ut({type:n,selectors:[["app-update-menu"]],decls:20,vars:4,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"updateMenuFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],[1,"bd-highlight"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],[1,"p-5","d-flex","justify-content-center"],["class","btn btn-primary btn-block text-uppercase rounded-pill shadow-sm",3,"click",4,"ngIf"],[1,"p-2"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["contenteditable","true",3,"textContent","keyup","blur"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Update Menu"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on values to edit)"),g(),g(),G(11,"hr",9),p(12,"div"),M(13,bre,1,0,"span",10),M(14,Cre,9,1,"table",11),p(15,"div",12),M(16,Ire,2,0,"button",13),g(),p(17,"div",14),M(18,Dre,2,0,"button",15),g(),G(19,"div",16),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(13),D("ngIf",r.menuFromDb.length<=0),b(1),D("ngIf",r.menuFromDb.length>0),b(2),D("ngIf",r.menuFromDb.length>0),b(2),D("ngIf",r.menuFromDb.length>0))},directives:[yn,Is],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.updateMenuFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})(),W2=(()=>{class n{transform(t,r){return r?t.filter(function(i){var s,o;return(null===(s=i.fullName)||void 0===s?void 0:s.toLocaleLowerCase().includes(r))||(null===(o=i.email)||void 0===o?void 0:o.toLocaleLowerCase().includes(r))}):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Mn({name:"searchFilter",type:n,pure:!0}),n})();function Are(n,e){1&n&&G(0,"span",16)}function Mre(n,e){if(1&n){const t=Rn();p(0,"input",17),oe("ngModelChange",function(i){return Ct(t),j().searchText=i}),g()}2&n&&D("ngModel",j().searchText)}function xre(n,e){if(1&n){const t=Rn();p(0,"button",21),oe("click",function(){Ct(t);const i=j().index;return j(2).deactivateUser(i)}),C(1,"Deny"),g()}}function Nre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,xre,2,0,"button",20),g(),g()),2&n){const t=e.$implicit,r=j(2);b(2),nt(t.fullName),b(2),nt(t.mobile),b(2),nt(t.email),b(2),D("ngIf",r.allUsers.length>0)}}function Ore(n,e){if(1&n&&(p(0,"table",18),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Email"),g(),G(9,"th"),g(),g(),p(10,"tbody"),M(11,Nre,9,4,"tr",19),__(12,"searchFilter"),g(),g()),2&n){const t=j();b(11),D("ngForOf",v_(12,1,t.allUsers,t.searchText))}}let Rre=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.allUsers=Array(),this.loading=!1,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Ps&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Yi&&"popstate"===s.navigationTrigger&&(this.allUsers.length=0)})}ngOnInit(){var t=this;return y(function*(){t.allUsers.length=0,yield t.getAllUsers(),t.loading=!1})()}getAllUsers(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getAllUsers().then(r=>{t.allUsers=r})})()}deactivateUser(t){var r=this;return y(function*(){yield r.userService.deactivateUser(r.allUsers[t].mobile).then(i=>{}),r.toastr.success("User Deactivated"),r.allUsers.length=0,r.reLoad()})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Rs),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-view-all-users"]],decls:18,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewUsersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"input-group","rounded"],["type","text","class","rounded","name","searchText","placeholder","Search By Name or Email",3,"ngModel","ngModelChange",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],["type","text","name","searchText","placeholder","Search By Name or Email",1,"rounded",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"All Users"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on Deny to deactivate user)"),g(),g(),G(11,"hr",9),p(12,"div",10),M(13,Are,1,0,"span",11),p(14,"div",12),M(15,Mre,1,1,"input",13),g(),M(16,Ore,13,4,"table",14),g(),G(17,"div",15),g(),g(),g(),g(),g(),g()),2&t&&(b(13),D("ngIf",r.loading),b(2),D("ngIf",r.allUsers.length>0),b(1),D("ngIf",r.allUsers.length>0))},directives:[yn,wi,xs,Pf,Is],pipes:[W2],styles:[".viewUsersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function kre(n,e){if(1&n&&(p(0,"div",16),C(1),g()),2&n){const t=j();b(1),Jt("Given Date: ",t.currentSale," Rs.")}}function Pre(n,e){if(1&n&&(p(0,"div",17),C(1),g()),2&n){const t=j();b(1),Jt("Till Now: ",t.totalSale," Rs.")}}function Fre(n,e){1&n&&G(0,"span",18)}function Lre(n,e){1&n&&(p(0,"div"),C(1,"No orders found for the given date."),g())}function Vre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),C(8),g(),g()),2&n){const t=e.$implicit;b(2),nt(t.customerName),b(2),nt(t.mobile),b(2),nt(t.totalAmount),b(2),nt(t.orderStatus)}}function Ure(n,e){if(1&n&&(p(0,"table",19),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Amount"),g(),p(9,"th"),C(10,"Status"),g(),g(),g(),p(11,"tbody"),M(12,Vre,9,4,"tr",20),g(),g()),2&n){const t=j();b(12),D("ngForOf",t.ordersData)}}let Bre=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.ordersData=Array(),this.loading=!1,this.orderDate="",this.noOrdersError=!1,this.currentSale=0,this.totalSale=0,r.events.forEach(i=>{i instanceof Yi&&"popstate"===i.navigationTrigger&&(this.ordersData.length=0,this.totalSale=0)})}getOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getOrders().then(r=>{t.ordersData=r}).catch(r=>{console.error(r)})})()}ngOnInit(){var t=this;return y(function*(){t.ordersData.length=0,t.totalSale=0,yield t.getOrders(),0==t.ordersData.length&&(t.noOrdersError=!0),t.loading=!1,t.orderDate=t.userService.getOrderDateForPageRefresh(),yield t.getTotalSale(),t.getCurrentSale()})()}getCurrentSale(){return this.ordersData.forEach(t=>{"Done"==t.orderStatus&&(this.currentSale=this.currentSale+t.totalAmount)}),this.currentSale}getTotalSale(){var t=this;return y(function*(){yield t.userService.getTotalSale().then(r=>{t.totalSale=r}).catch(r=>{console.error(r)})})()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-view-date-orders"]],decls:17,vars:5,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewDateOrdersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"d-flex","bd-highlight","mb-3"],["class","p-2 bd-highlight text-primary fw-bold",4,"ngIf"],["class","ms-auto p-2 bd-highlight text-success fw-bold",4,"ngIf"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"p-4"],[1,"p-2","bd-highlight","text-primary","fw-bold"],[1,"ms-auto","p-2","bd-highlight","text-success","fw-bold"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Orders"),g(),G(8,"hr",7),p(9,"div",8),M(10,kre,2,1,"div",9),M(11,Pre,2,1,"div",10),g(),p(12,"div",11),M(13,Fre,1,0,"span",12),M(14,Lre,2,0,"div",13),M(15,Ure,13,1,"table",14),g(),G(16,"div",15),g(),g(),g(),g(),g(),g()),2&t&&(b(10),D("ngIf",r.ordersData.length>0),b(1),D("ngIf",r.ordersData.length>0),b(2),D("ngIf",r.loading),b(1),D("ngIf",r.noOrdersError),b(1),D("ngIf",r.ordersData.length>0))},directives:[yn,Is],styles:[".viewDateOrdersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function jre(n,e){if(1&n&&(p(0,"div",16),C(1),g()),2&n){const t=j();b(1),Jt("Today: ",t.currentSale," Rs.")}}function $re(n,e){if(1&n&&(p(0,"div",17),C(1),g()),2&n){const t=j();b(1),Jt("Till Now: ",t.totalSale," Rs.")}}function Hre(n,e){1&n&&G(0,"span",18)}function qre(n,e){1&n&&(p(0,"div"),C(1,"No orders found for today."),g())}function Gre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),C(8),g(),g()),2&n){const t=e.$implicit;b(2),nt(t.customerName),b(2),nt(t.mobile),b(2),nt(t.totalAmount),b(2),nt(t.orderStatus)}}function zre(n,e){if(1&n&&(p(0,"table",19),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Amount"),g(),p(9,"th"),C(10,"Status"),g(),g(),g(),p(11,"tbody"),M(12,Gre,9,4,"tr",20),g(),g()),2&n){const t=j();b(12),D("ngForOf",t.ordersData)}}let Wre=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.ordersData=Array(),this.loading=!1,this.noOrdersError=!1,this.currentSale=0,this.totalSale=0,r.events.forEach(i=>{i instanceof Yi&&"popstate"===i.navigationTrigger&&(this.ordersData.length=0,this.totalSale=0)})}getOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getTodaysOrders().then(r=>{t.ordersData=r}).catch(r=>{console.error(r)})})()}ngOnInit(){var t=this;return y(function*(){t.ordersData.length=0,t.totalSale=0,yield t.getOrders(),0==t.ordersData.length&&(t.noOrdersError=!0),t.loading=!1,yield t.getTotalSale(),t.getCurrentSale()})()}getCurrentSale(){return this.ordersData.forEach(t=>{"Done"==t.orderStatus&&(this.currentSale=this.currentSale+t.totalAmount)}),this.currentSale}getTotalSale(){var t=this;return y(function*(){yield t.userService.getTotalSale().then(r=>{t.totalSale=r}).catch(r=>{console.error(r)})})()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-view-orders"]],decls:19,vars:5,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewOrdersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"d-flex","bd-highlight","mb-3"],["class","p-2 bd-highlight text-primary fw-bold",4,"ngIf"],["class","ms-auto p-2 bd-highlight text-success fw-bold",4,"ngIf"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"p-4"],[1,"p-2","bd-highlight","text-primary","fw-bold"],[1,"ms-auto","p-2","bd-highlight","text-success","fw-bold"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Today's Orders"),g(),G(8,"hr",7),p(9,"div",8),M(10,jre,2,1,"div",9),M(11,$re,2,1,"div",10),g(),G(12,"hr",7),p(13,"div",11),M(14,Hre,1,0,"span",12),M(15,qre,2,0,"div",13),p(16,"div"),M(17,zre,13,1,"table",14),g(),G(18,"div",15),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(10),D("ngIf",r.ordersData.length>0),b(1),D("ngIf",r.ordersData.length>0),b(3),D("ngIf",r.loading),b(1),D("ngIf",r.noOrdersError),b(2),D("ngIf",r.ordersData.length>0))},directives:[yn,Is],styles:[".viewOrdersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}.note[_ngcontent-%COMP%]{font-size:smaller}"]}),n})();function Kre(n,e){1&n&&G(0,"span",16)}function Qre(n,e){if(1&n){const t=Rn();p(0,"input",17),oe("ngModelChange",function(i){return Ct(t),j().searchText=i}),g()}2&n&&D("ngModel",j().searchText)}function Yre(n,e){if(1&n){const t=Rn();p(0,"button",21),oe("click",function(){Ct(t);const i=j().index;return j(2).verifyUser(i)}),C(1,"Verify"),g()}}function Jre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,Yre,2,0,"button",20),g(),g()),2&n){const t=e.$implicit,r=j(2);b(2),nt(t.fullName),b(2),nt(t.mobile),b(2),nt(t.email),b(2),D("ngIf",r.newUsers.length>0)}}function Xre(n,e){if(1&n&&(p(0,"table",18),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Email"),g(),G(9,"th"),g(),g(),p(10,"tbody"),M(11,Jre,9,4,"tr",19),__(12,"searchFilter"),g(),g()),2&n){const t=j();b(11),D("ngForOf",v_(12,1,t.newUsers,t.searchText))}}let Zre=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.newUsers=Array(),this.loading=!1,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Ps&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Yi&&"popstate"===s.navigationTrigger&&(this.newUsers.length=0)})}ngOnInit(){var t=this;return y(function*(){t.newUsers.length=0,yield t.getNewUsers(),t.loading=!1})()}getNewUsers(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getNewUsers().then(r=>{t.newUsers=r})})()}verifyUser(t){var r=this;return y(function*(){yield r.userService.verifyUser(r.newUsers[t].mobile).then(i=>{}),r.toastr.success("User Verified"),r.newUsers.length=0,r.reLoad()})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Rs),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-view-users"]],decls:18,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewUsersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"input-group","rounded"],["type","text","class","rounded","name","searchText","placeholder","Search By Name or Email",3,"ngModel","ngModelChange",4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],["type","text","name","searchText","placeholder","Search By Name or Email",1,"rounded",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-info btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-info","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Verify New Users"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on verify to allow Login)"),g(),g(),G(11,"hr",9),p(12,"div",10),M(13,Kre,1,0,"span",11),p(14,"div",12),M(15,Qre,1,1,"input",13),g(),M(16,Xre,13,4,"table",14),g(),G(17,"div",15),g(),g(),g(),g(),g(),g()),2&t&&(b(13),D("ngIf",r.loading),b(2),D("ngIf",r.newUsers.length>0),b(1),D("ngIf",r.newUsers.length>0))},directives:[yn,wi,xs,Pf,Is],pipes:[W2],styles:[".viewUsersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function K2(n,e){return t=>{const i=t.controls[e];i.errors&&!i.errors.confirmedValidator||i.setErrors(t.controls[n].value!==i.value?{confirmedValidator:!0}:null)}}function eie(n,e){1&n&&(p(0,"div"),C(1,"Name is required"),g())}function tie(n,e){1&n&&(p(0,"div"),C(1,"Maximum length can be 50 characters only."),g())}function nie(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid name."),g())}function rie(n,e){if(1&n&&(p(0,"div",23),M(1,eie,2,0,"div",20),M(2,tie,2,0,"div",20),M(3,nie,2,0,"div",20),g()),2&n){const t=j();b(1),D("ngIf",t.f.fullName.errors.required),b(1),D("ngIf",t.f.fullName.errors.maxlength),b(1),D("ngIf",t.f.fullName.errors.pattern)}}function iie(n,e){1&n&&(p(0,"div"),C(1,"Mobile Number is required"),g())}function sie(n,e){1&n&&(p(0,"div"),C(1,"Please Enter 10 Digits Mobile Number "),g())}function oie(n,e){if(1&n&&(p(0,"div",23),M(1,iie,2,0,"div",20),M(2,sie,2,0,"div",20),g()),2&n){const t=j();b(1),D("ngIf",t.f.mobile.errors.required),b(1),D("ngIf",t.f.mobile.errors.pattern)}}function aie(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function uie(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function lie(n,e){if(1&n&&(p(0,"div",23),M(1,aie,2,0,"div",20),M(2,uie,2,0,"div",20),g()),2&n){const t=j();b(1),D("ngIf",t.f.email.errors.required),b(1),D("ngIf",t.f.email.errors.pattern)}}function cie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function die(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function hie(n,e){if(1&n&&(p(0,"div",23),M(1,cie,2,0,"div",20),M(2,die,2,0,"div",20),g()),2&n){const t=j();b(1),D("ngIf",t.f.password.errors.required),b(1),D("ngIf",t.f.password.errors.minlength)}}function fie(n,e){1&n&&(p(0,"div"),C(1,"Confirm Password is required"),g())}function pie(n,e){1&n&&(p(0,"div"),C(1,"Password and Confirm Password must be same."),g())}function gie(n,e){if(1&n&&(p(0,"div",23),M(1,fie,2,0,"div",20),M(2,pie,2,0,"div",20),g()),2&n){const t=j();b(1),D("ngIf",t.f.confirmPassword.errors.required),b(1),D("ngIf",t.f.confirmPassword.errors.confirmedValidator)}}function mie(n,e){1&n&&G(0,"span",24)}function yie(n,e){1&n&&(p(0,"div"),C(1,"Mobile Number is already registered. Please Login."),g())}function _ie(n,e){1&n&&(p(0,"div"),C(1,"Email is already registered. Please Login."),g())}const Gd=function(n){return{"is-invalid":n}},vie=hl();let wie=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.router=r,this.userService=i,this.toastr=s,this.registrationForm=bi,this.submitted=!1,this.loading=!1,this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1}get f(){return this.registrationForm.controls}onSubmit(){this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1,this.submitted=!0,!this.registrationForm.invalid&&this.submitted&&(this.loading=!0,this.userService.checkAlreadyRegisteredMobile(this.registrationForm.value).then(t=>{1==t?(this.alreadyRegisteredMobile=!0,this.loading=!1):(this.loading=!0,function(n,e,t){return gC.apply(this,arguments)}(vie,this.registrationForm.value.email,this.registrationForm.value.password).then(r=>{this.registerUserForValidation(this.registrationForm),function(n,e){TC.apply(this,arguments)}(r.user,{displayName:this.registrationForm.value.fullName}),this.loading=!1,this.toastr.success("Registration Success. Your Account will be activated after verification."),this.router.navigate(["customer-login"])}).catch(r=>{const i=r.code,s=r.message;"auth/email-already-in-use"==i&&(this.alreadyRegisteredEmail=!0,this.loading=!1),console.log("error:",s,i)}))}))}ngOnInit(){this.registrationForm=this.formBuilder.group({fullName:["",[ft.required,ft.maxLength(50),ft.pattern("^[a-zA-Z ]*$")]],mobile:["",[ft.required,ft.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],email:["",[ft.required,ft.email,ft.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ft.required]],confirmPassword:["",[ft.required]],role:[""],activated:[""],timeStamp:[""]},{validator:K2("password","confirmPassword")})}registerUserForValidation(t){t.controls.role.setValue("user"),t.controls.password.setValue("********"),t.controls.confirmPassword.setValue("********"),t.controls.activated.setValue(!1),t.controls.timeStamp.setValue(new Date),this.userService.writeToUsersCollection(t.value)}}return n.\u0275fac=function(t){return new(t||n)(T(Dc),T(Me),T($n),T(Rs))},n.\u0275cmp=ut({type:n,selectors:[["app-customer-registration"]],decls:38,vars:24,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"registrationFrame","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"display-5","text-center"],[1,"d-flex","justify-content-center"],[1,"p-2","bd-highlight","note"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","fullName","type","text","formControlName","fullName","placeholder","Full Name","required","","autofocus","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputMobile","type","text","maxlength","10","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","formControlName","mobile","placeholder","Mobile Number","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4",3,"ngClass"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"New Registration"),g(),p(9,"div",8),p(10,"div",9),C(11,"(Below details will be verified by admin)"),g(),g(),p(12,"form",10),oe("ngSubmit",function(){return r.onSubmit()}),p(13,"div",11),p(14,"div",11),G(15,"input",12),M(16,rie,4,3,"div",13),g(),p(17,"div",11),G(18,"input",14),M(19,oie,3,2,"div",13),g(),g(),p(20,"div",11),G(21,"input",15),M(22,lie,3,2,"div",13),g(),p(23,"div",11),G(24,"input",16),M(25,hie,3,2,"div",13),g(),p(26,"div",11),G(27,"input",17),M(28,gie,3,2,"div",13),g(),p(29,"button",18),C(30,"Submit "),M(31,mie,1,0,"span",19),g(),M(32,yie,2,0,"div",20),M(33,_ie,2,0,"div",20),p(34,"div",8),p(35,"div",21),p(36,"a",22),C(37,"Back To Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(12),D("formGroup",r.registrationForm),b(3),D("ngClass",mr(14,Gd,r.submitted&&r.f.fullName.errors)),b(1),D("ngIf",r.submitted&&r.f.fullName.errors),b(2),D("ngClass",mr(16,Gd,r.submitted&&r.f.mobile.errors)),b(1),D("ngIf",r.submitted&&r.f.mobile.errors),b(2),D("ngClass",mr(18,Gd,r.submitted&&r.f.email.errors)),b(1),D("ngIf",r.submitted&&r.f.email.errors),b(2),D("ngClass",mr(20,Gd,r.submitted&&r.f.password.errors)),b(1),D("ngIf",r.submitted&&r.f.password.errors),b(2),D("ngClass",mr(22,Gd,r.submitted&&r.f.confirmPassword.errors)),b(1),D("ngIf",r.submitted&&r.f.confirmPassword.errors),b(3),D("ngIf",r.loading),b(1),D("ngIf",r.alreadyRegisteredMobile),b(1),D("ngIf",r.alreadyRegisteredEmail))},directives:[cu,au,Ns,wi,xs,wo,Os,ou,yn,Lf,du,_u],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.registrationFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function bie(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function Eie(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function Tie(n,e){if(1&n&&(p(0,"div",22),M(1,bie,2,0,"div",16),M(2,Eie,2,0,"div",16),g()),2&n){const t=j();b(1),D("ngIf",t.f.email.errors.required),b(1),D("ngIf",t.f.email.errors.pattern)}}function Cie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function Iie(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function Die(n,e){if(1&n&&(p(0,"div",22),M(1,Cie,2,0,"div",16),M(2,Iie,2,0,"div",16),g()),2&n){const t=j();b(1),D("ngIf",t.f.password.errors.required),b(1),D("ngIf",t.f.password.errors.minlength)}}function Sie(n,e){1&n&&G(0,"span",23)}function Aie(n,e){1&n&&(p(0,"div"),C(1,"Invalid Password! Please retry."),g())}function Mie(n,e){1&n&&(p(0,"div"),C(1,"Your account is not activated yet."),g())}function xie(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered. Please register first."),g())}const Q2=function(n){return{"is-invalid":n}},Nie=hl();let Y2=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.userService=i,this.loginForm=bi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.activationError=!1,this.notRegisteredError=!1}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.notRegisteredError=!1,this.activationError=!1,this.credentialsError=!1,!this.loginForm.invalid&&this.submitted&&(this.loading=!0,T2(Nie,this.loginForm.value.email,this.loginForm.value.password).then(t=>{this.userService.verifyCredentials(this.loginForm.value).then(r=>{0==r?(this.activationError=!0,this.loading=!1,localStorage.setItem("user","null")):(this.loading=!1,this.userData=t.user,localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("userCredentials",JSON.stringify(t)),this.getUserInfo(this.loginForm.value.email),console.log("signed in"),this.router.navigate(["/menu"]))})}).catch(t=>{localStorage.removeItem("user");const r=t.code;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1)}))}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[ft.required,ft.email,ft.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ft.required]]})}getUserInfo(t){var r=this;return y(function*(){yield r.userService.getUserByEmail(t).then(i=>{r.userInfo=JSON.stringify(i)}),localStorage.setItem("userInfo",r.userInfo)})()}}return n.\u0275fac=function(t){return new(t||n)(T(Dc),T(Me),T($n))},n.\u0275cmp=ut({type:n,selectors:[["app-login"]],decls:31,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"display-5","text-center"],[1,"p-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","email","true","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-registration"],[1,"d-flex","flex-row-reverse","bd-highlight"],["routerLink","/admin-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Login"),g(),p(9,"div",8),p(10,"form",9),oe("ngSubmit",function(){return r.onSubmit()}),p(11,"div",10),G(12,"input",11),M(13,Tie,3,2,"div",12),g(),p(14,"div",10),G(15,"input",13),M(16,Die,3,2,"div",12),g(),p(17,"button",14),C(18,"Login "),M(19,Sie,1,0,"span",15),g(),M(20,Aie,2,0,"div",16),M(21,Mie,2,0,"div",16),M(22,xie,2,0,"div",16),p(23,"div",17),p(24,"div",18),p(25,"a",19),C(26,"New Registration"),g(),g(),g(),p(27,"div",20),p(28,"div",18),p(29,"a",21),C(30,"Admin Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(10),D("formGroup",r.loginForm),b(2),D("ngClass",mr(9,Q2,r.submitted&&r.f.email.errors)),b(1),D("ngIf",r.submitted&&r.f.email.errors),b(2),D("ngClass",mr(11,Q2,r.submitted&&r.f.password.errors)),b(1),D("ngIf",r.submitted&&r.f.password.errors),b(3),D("ngIf",r.loading),b(1),D("ngIf",r.credentialsError),b(1),D("ngIf",r.activationError),b(1),D("ngIf",r.notRegisteredError))},directives:[cu,au,Ns,wi,xs,wo,Pv,Os,ou,yn,du,_u],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();class Oie{}function Rie(n,e){1&n&&G(0,"span",14)}function kie(n,e){if(1&n){const t=Rn();p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),p(6,"img",17),oe("click",function(){const i=Ct(t),s=i.index,o=i.$implicit;return j(2).decreaseQuantity(s,o.quantity,o.price,o.itemName)}),g(),C(7),p(8,"img",18),oe("click",function(){const i=Ct(t),s=i.index,o=i.$implicit;return j(2).increaseQuantity(s,o.quantity,o.price,o.itemName)}),g(),g(),p(9,"td"),C(10),g(),g()}if(2&n){const t=e.$implicit;b(2),nt(t.itemName),b(2),nt(t.price),b(3),Jt(" ",t.quantity," "),b(3),Jt(" ",t.price*t.quantity," ")}}function Pie(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Item"),g(),p(5,"th"),C(6,"Price"),g(),p(7,"th"),C(8,"Quantity"),g(),p(9,"th"),C(10,"Amount"),g(),g(),g(),p(11,"tbody"),M(12,kie,11,4,"tr",16),g(),g()),2&n){const t=j();b(12),D("ngForOf",t.menuFromDb)}}function Fie(n,e){if(1&n&&(p(0,"div",19),p(1,"div",20),C(2),g(),g()),2&n){const t=j();b(2),Jt("Total: ",t.finalAmount," Rs. ")}}function Lie(n,e){if(1&n){const t=Rn();p(0,"div",19),p(1,"button",21),oe("click",function(){return Ct(t),j().orderConfirmation()}),C(2,"Order Now "),g(),g()}}function Vie(n,e){1&n&&(p(0,"div"),C(1,"Please add food to order."),g())}let Uie=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.datePipe=i,this.order=new Oie,this.orderedItems="",this.menuFromDb=Array(),this.finalAmount=0,this.orderError=!1,this.foodItemIndex=[],this.newOrderNumber=0,t.events.forEach(s=>{s instanceof Yi&&"popstate"===s.navigationTrigger&&(this.menuFromDb.length=0)})}ngOnInit(){this.menuFromDb.length=0,this.getMenu()}getMenu(){var t=this;return y(function*(){yield t.userService.getMenu().then(r=>{t.menuFromDb=r})})()}increaseQuantity(t,r,i,s){this.orderError=!1,this.menuFromDb[t].quantity=this.menuFromDb[t].quantity+1,this.finalAmount=this.finalAmount+i}decreaseQuantity(t,r,i,s){this.menuFromDb[t].quantity>0&&(this.menuFromDb[t].quantity=this.menuFromDb[t].quantity-1,this.finalAmount=this.finalAmount-i)}orderConfirmation(){var t=this;return y(function*(){t.finalAmount<=0?t.orderError=!0:confirm("Total Amount is: "+t.finalAmount+". Confirm the order?")&&(yield t.getNewOrderId(),t.orderedItems="",t.menuFromDb.forEach(i=>{var s=i.itemName+"-"+i.quantity;i.quantity>0&&(t.orderedItems.length>0&&(t.orderedItems=t.orderedItems+", "),t.orderedItems=t.orderedItems+s)}),t.userInfoObject=JSON.parse(localStorage.userInfo),t.order.orderNumber=t.newOrderNumber,t.order.customerName=t.userInfoObject.fullName,t.order.mobile=t.userInfoObject.mobile,t.order.orderedItems=t.orderedItems,t.order.totalAmount=t.finalAmount,t.order.orderDate=pf(new Date,"yyyy/MM/dd","en"),t.order.orderStatus="Done",t.order.email=t.userInfoObject.email,t.saveOrder(t.order),t.router.navigate(["order"],{state:{newOrderNumber:t.newOrderNumber,totalAmount:t.finalAmount}}))})()}getNewOrderId(){var t=this;return y(function*(){return yield t.userService.getNewOrderId().then(r=>{t.newOrderNumber=r+1}),t.newOrderNumber})()}saveOrder(t){var r=this;return y(function*(){yield r.userService.writeToOrdersCollection(t).then(i=>{console.log("Order is saved:")})})()}goToViewMyOrders(){this.router.navigate(["user-profile"])}goToUpdateProfile(){this.router.navigate(["update-profile"])}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T($n),T(av))},n.\u0275cmp=ut({type:n,selectors:[["app-menu"]],features:[Ge([av])],decls:18,vars:5,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"menu","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"pull-right","btn","btn-info","btn-sm",3,"click"],[1,"border-1","border-danger"],[1,"display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],["class","d-flex flex-row-reverse bd-highlight",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["src","/assets/minus2.png","width","18vh","alt","-",3,"click"],["src","/assets/plus2.png","width","18.5vh","alt","-",3,"click"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight","fw-bold"],[1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"button",6),oe("click",function(){return r.goToViewMyOrders()}),C(7,"View My Orders"),g(),G(8,"hr",7),p(9,"h3",8),C(10,"Menu"),g(),G(11,"hr",9),p(12,"div"),M(13,Rie,1,0,"span",10),M(14,Pie,13,1,"table",11),g(),M(15,Fie,3,1,"div",12),M(16,Lie,3,0,"div",12),M(17,Vie,2,0,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(b(13),D("ngIf",r.menuFromDb.length<=0),b(1),D("ngIf",r.menuFromDb.length>0),b(1),D("ngIf",r.menuFromDb.length>0),b(1),D("ngIf",r.menuFromDb.length>0),b(1),D("ngIf",r.orderError))},directives:[yn,Is],styles:[".menu[_ngcontent-%COMP%]{min-height:84vh}"]}),n})(),Bie=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.orderNumber=history.state.newOrderNumber,this.totalAmount=history.state.totalAmount}ngOnInit(){}goToMenu(){this.userService.clearMenu(),this.router.navigate(["menu"])}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T($n))},n.\u0275cmp=ut({type:n,selectors:[["app-order"]],decls:19,vars:2,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"orderFrame","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","text-center","mx-auto"],["aria-hidden","true",1,"fa","fa-check-circle","fa-3x"],[1,"p-3","display-6","text-center"],[1,"p-3","display-5","text-center"],[1,"fw-bold"],[1,"p-4","display-4","text-center"],[1,"p-4","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),G(7,"i",7),p(8,"h3",8),C(9),g(),p(10,"h3",9),C(11,"Order No. "),p(12,"span",10),C(13),g(),g(),p(14,"h3",11),C(15,"Thanks!"),g(),g(),p(16,"div",12),p(17,"button",13),oe("click",function(){return r.goToMenu()}),C(18,"Order More "),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(9),Jt("Your order is confirmed. Please pay Rs. ",r.totalAmount," in Cash"),b(4),nt(r.orderNumber))},styles:[".orderFrame[_ngcontent-%COMP%]{min-height:84vh}"]}),n})();function jie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function $ie(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function Hie(n,e){if(1&n&&(p(0,"div",17),M(1,jie,2,0,"div",18),M(2,$ie,2,0,"div",18),g()),2&n){const t=j();b(1),D("ngIf",t.f.password.errors.required),b(1),D("ngIf",t.f.password.errors.minlength)}}function qie(n,e){1&n&&(p(0,"div"),C(1,"Confirm Password is required"),g())}function Gie(n,e){1&n&&(p(0,"div"),C(1,"Password and Confirm Password must be same."),g())}function zie(n,e){if(1&n&&(p(0,"div",17),M(1,qie,2,0,"div",18),M(2,Gie,2,0,"div",18),g()),2&n){const t=j();b(1),D("ngIf",t.f.confirmPassword.errors.required),b(1),D("ngIf",t.f.confirmPassword.errors.confirmedValidator)}}function Wie(n,e){1&n&&G(0,"span",19)}const J2=function(n){return{"is-invalid":n}};hl();let Kie=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.router=r,this.userService=i,this.toastr=s,this.updateProfileForm=bi,this.submitted=!1,this.loading=!1}get f(){return this.updateProfileForm.controls}onSubmit(){this.submitted=!0}ngOnInit(){this.updateProfileForm=this.formBuilder.group({password:["",[ft.required]],confirmPassword:["",[ft.required]]},{validator:K2("password","confirmPassword")})}}return n.\u0275fac=function(t){return new(t||n)(T(Dc),T(Me),T($n),T(Rs))},n.\u0275cmp=ut({type:n,selectors:[["app-update-profile"]],decls:21,vars:10,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"updateFrame","d-flex","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"p-3","display-6","text-center"],[1,"p-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[1,"p-3"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Change Password"),g(),p(9,"div",8),p(10,"form",9),oe("ngSubmit",function(){return r.onSubmit()}),p(11,"div",10),G(12,"input",11),M(13,Hie,3,2,"div",12),g(),p(14,"div",10),G(15,"input",13),M(16,zie,3,2,"div",12),g(),p(17,"div",14),p(18,"button",15),C(19,"Submit "),M(20,Wie,1,0,"span",16),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(b(10),D("formGroup",r.updateProfileForm),b(2),D("ngClass",mr(6,J2,r.submitted&&r.f.password.errors)),b(1),D("ngIf",r.submitted&&r.f.password.errors),b(2),D("ngClass",mr(8,J2,r.submitted&&r.f.confirmPassword.errors)),b(1),D("ngIf",r.submitted&&r.f.confirmPassword.errors),b(4),D("ngIf",r.loading))},directives:[cu,au,Ns,wi,du,Lf,xs,wo,Os,ou,yn],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.updateFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function Qie(n,e){1&n&&G(0,"span",14)}function Yie(n,e){1&n&&(p(0,"div"),C(1,"You have not placed any order yet."),g())}function Jie(n,e){if(1&n){const t=Rn();p(0,"button",18),oe("click",function(){Ct(t);const i=j().index;return j(2).cancelOrder(i)}),C(1,"Cancel"),g()}}function Xie(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,Jie,2,0,"button",17),g(),g()),2&n){const t=e.$implicit,r=j(2);b(2),nt(t.orderNumber),b(2),nt(t.orderItems),b(2),nt(t.totalAmount),b(2),D("ngIf",r.myOrders.length>0)}}function Zie(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Order"),g(),p(5,"th"),C(6,"Items"),g(),p(7,"th"),C(8,"Amount"),g(),p(9,"th"),C(10,"Action"),g(),g(),g(),p(11,"tbody"),M(12,Xie,9,4,"tr",16),g(),g()),2&n){const t=j();b(12),D("ngForOf",t.myOrders)}}let ese=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.myOrders=Array(),this.loading=!1,this.noOrdersError=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Ps&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Yi&&"popstate"===s.navigationTrigger&&(this.myOrders.length=0)})}cancelOrder(t){var r=this;return y(function*(){confirm("Do you really want to Cancel this order?")&&(yield r.userService.cancelOrder(r.myOrders[t].email,r.myOrders[t].orderNumber).then(s=>{}),r.toastr.success("Order Cancelled"),r.myOrders.length=0,r.reLoad())})()}ngOnInit(){var t=this;return y(function*(){t.userEmail=JSON.parse(t.userService.getLoggedInUser).email,t.myOrders.length=0,yield t.getMyOrders(),0==t.myOrders.length&&(t.noOrdersError=!0),t.loading=!1})()}getMyOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getMyOrders(t.userEmail).then(r=>{t.myOrders=r})})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Rs),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-user-profile"]],decls:15,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"userProfileFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table table-bordered",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"My Orders"),g(),G(8,"div",7),G(9,"hr",8),p(10,"div",9),M(11,Qie,1,0,"span",10),M(12,Yie,2,0,"div",11),M(13,Zie,13,1,"table",12),g(),G(14,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(b(11),D("ngIf",r.loading),b(1),D("ngIf",r.noOrdersError),b(1),D("ngIf",r.myOrders.length>0))},directives:[yn,Is],styles:[".userProfileFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})(),Ni=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return!this.userService.isLoggedIn||(this.router.navigate(["customer-login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(L($n),L(Me))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tse=[{path:"",component:Y2},{path:"admin-login",component:wre},{path:"customer-login",component:Y2},{path:"customer-registration",component:wie},{path:"menu",component:Uie,canActivate:[Ni]},{path:"admin-home",component:ure,canActivate:[Ni]},{path:"update-menu",component:Sre,canActivate:[Ni]},{path:"view-orders",component:Wre,canActivate:[Ni]},{path:"view-date-orders",component:Bre,canActivate:[Ni]},{path:"view-users",component:Zre,canActivate:[Ni]},{path:"view-all-users",component:Rre,canActivate:[Ni]},{path:"order",component:Bie,canActivate:[Ni]},{path:"user-profile",component:ese,canActivate:[Ni]},{path:"update-profile",component:Kie,canActivate:[Ni]},{path:"**",redirectTo:"customer-login"}];let nse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({imports:[[Ok.forRoot(tse)],Ok]}),n})();function rse(n,e){if(1&n){const t=Rn();p(0,"a",5),oe("click",function(){return Ct(t),j().logout()}),p(1,"span",6),C(2,"Logout"),g(),g()}}let ise=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}ngOnInit(){}logout(){this.userService.SignOut()}}return n.\u0275fac=function(t){return new(t||n)(T($n),T(Me))},n.\u0275cmp=ut({type:n,selectors:[["app-header"]],decls:6,vars:1,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","/assets/icon2.jpg","alt","Dosa Point","width","40","height","34",1,"d-inline-block","align-text-top"],["class","navbar-brand",3,"click",4,"ngIf"],[1,"navbar-brand",3,"click"],[1,"navOption"]],template:function(t,r){1&t&&(p(0,"nav",0),p(1,"div",1),p(2,"a",2),G(3,"img",3),C(4," Dosa Point "),g(),M(5,rse,3,0,"a",4),g(),g()),2&t&&(b(5),D("ngIf",!r.userService.isLoggedIn))},directives:[yn],styles:[""]}),n})(),sse=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-dark","bg-primary"],["href","#",1,"navbar-brand"]],template:function(t,r){1&t&&(p(0,"nav",0),p(1,"a",1),C(2,"Stay safe and healthy!"),g(),g())},styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:15px!important;margin-left:1%}"]}),n})(),ose=(()=>{class n{constructor(){this.title="dosa-point"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(G(0,"app-header"),G(1,"router-outlet"),G(2,"app-footer"))},directives:[ise,Jv,sse],styles:[""]}),n})();var fl=to(940);const X2="@firebase/installations",eU="w:0.5.4",tU="FIS_v2",cs=new Ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nU(n){return n instanceof Xi&&n.code.includes("request-failed")}function dI({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function rU(n){return{token:n.token,requestStatus:2,expiresIn:hse(n.expiresIn),creationTime:Date.now()}}function hI(n,e){return fI.apply(this,arguments)}function fI(){return fI=y(function*(n,e){const r=(yield e.json()).error;return cs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),fI.apply(this,arguments)}function iU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sU(n,{refreshToken:e}){const t=iU(n);return t.append("Authorization",function(n){return`${tU} ${n}`}(e)),t}function pI(n){return gI.apply(this,arguments)}function gI(){return gI=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),gI.apply(this,arguments)}function hse(n){return Number(n.replace("s","000"))}function pse(n,e){return mI.apply(this,arguments)}function mI(){return mI=y(function*(n,{fid:e}){const t=dI(n),s={method:"POST",headers:iU(n),body:JSON.stringify({fid:e,authVersion:tU,appId:n.appId,sdkVersion:eU})},o=yield pI(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:rU(a.authToken)}}throw yield hI("Create Installation",o)}),mI.apply(this,arguments)}function oU(n){return new Promise(e=>{setTimeout(e,n)})}const mse=/^[cdef][\w-]{21}$/;function yse(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mse.test(t)?t:""}catch(n){return""}}function pl(n){return`${n.appName}!${n.appId}`}const gl=new Map;function aU(n,e){const t=pl(n);uU(t,e),function(n,e){const t=(!Yo&&"BroadcastChannel"in self&&(Yo=new BroadcastChannel("[Firebase] FID Change"),Yo.onmessage=n=>{uU(n.data.key,n.data.fid)}),Yo);t&&t.postMessage({key:n,fid:e}),0===gl.size&&Yo&&(Yo.close(),Yo=null)}(t,e)}function uU(n,e){const t=gl.get(n);if(t)for(const r of t)r(e)}let Yo=null;const Jo="firebase-installations-store";let _I=null;function vI(){return _I||(_I=(0,fl.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Jo)})),_I}function Og(n,e){return wI.apply(this,arguments)}function wI(){return wI=y(function*(n,e){const t=pl(n),i=(yield vI()).transaction(Jo,"readwrite"),s=i.objectStore(Jo),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&aU(n,e.fid),e}),wI.apply(this,arguments)}function bI(n){return EI.apply(this,arguments)}function EI(){return EI=y(function*(n){const e=pl(n),r=(yield vI()).transaction(Jo,"readwrite");yield r.objectStore(Jo).delete(e),yield r.complete}),EI.apply(this,arguments)}function zd(n,e){return TI.apply(this,arguments)}function TI(){return TI=y(function*(n,e){const t=pl(n),i=(yield vI()).transaction(Jo,"readwrite"),s=i.objectStore(Jo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&aU(n,a.fid),a}),TI.apply(this,arguments)}function CI(n){return II.apply(this,arguments)}function II(){return II=y(function*(n){let e;const t=yield zd(n,r=>{const i=Cse(r),s=Ise(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),II.apply(this,arguments)}function Cse(n){return hU(n||{fid:yse(),registrationStatus:0})}function Ise(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(cs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(n,e){return DI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Sse(n)}:{installationEntry:e}}function DI(){return DI=y(function*(n,e){try{return Og(n,yield pse(n,e))}catch(t){throw nU(t)&&409===t.customData.serverCode?yield bI(n):yield Og(n,{fid:e.fid,registrationStatus:0}),t}}),DI.apply(this,arguments)}function Sse(n){return SI.apply(this,arguments)}function SI(){return SI=y(function*(n){let e=yield dU(n);for(;1===e.registrationStatus;)yield oU(100),e=yield dU(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield CI(n);return r||t}return e}),SI.apply(this,arguments)}function dU(n){return zd(n,e=>{if(!e)throw cs.create("installation-not-found");return hU(e)})}function hU(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Mse(n,e){return AI.apply(this,arguments)}function AI(){return AI=y(function*({appConfig:n,platformLoggerProvider:e},t){const r=xse(n,t),i=sU(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:eU}})},u=yield pI(()=>fetch(r,a));if(u.ok)return rU(yield u.json());throw yield hI("Generate Auth Token",u)}),AI.apply(this,arguments)}function xse(n,{fid:e}){return`${dI(n)}/${e}/authTokens:generate`}function MI(n){return xI.apply(this,arguments)}function xI(){return xI=y(function*(n,e=!1){let t;const r=yield zd(n.appConfig,s=>{if(!pU(s))throw cs.create("not-registered");const o=s.authToken;if(!e&&Rse(o))return s;if(1===o.requestStatus)return t=Nse(n,e),s;{if(!navigator.onLine)throw cs.create("app-offline");const a=Pse(s);return t=Ose(n,a),a}});return t?yield t:r.authToken}),xI.apply(this,arguments)}function Nse(n,e){return NI.apply(this,arguments)}function NI(){return NI=y(function*(n,e){let t=yield fU(n.appConfig);for(;1===t.authToken.requestStatus;)yield oU(100),t=yield fU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?MI(n,e):r}),NI.apply(this,arguments)}function fU(n){return zd(n,e=>{if(!pU(e))throw cs.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ose(n,e){return OI.apply(this,arguments)}function OI(){return OI=y(function*(n,e){try{const t=yield Mse(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Og(n.appConfig,r),t}catch(t){if(!nU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Og(n.appConfig,r)}else yield bI(n.appConfig);throw t}}),OI.apply(this,arguments)}function pU(n){return void 0!==n&&2===n.registrationStatus}function Rse(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Pse(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function RI(){return RI=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield CI(e.appConfig);return r?r.catch(console.error):MI(e).catch(console.error),t.fid}),RI.apply(this,arguments)}function kI(){return kI=y(function*(n,e=!1){const t=n;return yield Use(t.appConfig),(yield MI(t,e)).token}),kI.apply(this,arguments)}function Use(n){return PI.apply(this,arguments)}function PI(){return PI=y(function*(n){const{registrationPromise:e}=yield CI(n);e&&(yield e)}),PI.apply(this,arguments)}function VI(n){return cs.create("missing-app-config-values",{valueName:n})}const gU="installations";Yn(new Ln(gU,n=>{const e=n.getProvider("app").getImmediate(),t=function(n){if(!n||!n.options)throw VI("App Configuration");if(!n.name)throw VI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw VI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,platformLoggerProvider:Eu(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Yn(new Ln("installations-internal",n=>{const t=Eu(n.getProvider("app").getImmediate(),gU).getImmediate();return{getId:()=>function(n){return RI.apply(this,arguments)}(t),getToken:i=>function(n){return kI.apply(this,arguments)}(t,i)}},"PRIVATE")),st(X2,"0.5.4"),st(X2,"0.5.4","esm2017");const UI="@firebase/remote-config",nr=new Ci("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class roe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ioe(n=navigator){return n.languages&&n.languages[0]||n.language}class soe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ioe()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,w)=>{e.signal.addEventListener(()=>{const N=new Error("The operation was aborted.");N.name="AbortError",w(N)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let w="fetch-client-network";throw"AbortError"===E.name&&(w="fetch-timeout"),nr.create(w,{originalErrorMessage:E.message})}let f=h.status;const m=h.headers.get("ETag")||void 0;let _,v;if(200===h.status){let E;try{E=yield h.json()}catch(w){throw nr.create("fetch-client-parse",{originalErrorMessage:w.message})}_=E.entries,v=E.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(_={}),304!==f&&200!==f)throw nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:m,config:_}})()}}class uoe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof Xi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+hw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class doe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kg(n,e){const t=n.target.error||void 0;return nr.create(e,{originalErrorMessage:t&&t.message})}const Xo="app_namespace_store";class goe{constructor(e,t,r,i=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(kg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xo,{keyPath:"compositeKey"})}}catch(t){e(nr.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xo],"readonly").objectStore(Xo),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(kg(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(nr.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Xo],"readwrite").objectStore(Xo),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(kg(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(nr.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xo],"readwrite").objectStore(Xo),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(kg(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(nr.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class moe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function _oe(){return qI.apply(this,arguments)}function qI(){return(qI=y(function*(){if(!wu())return!1;try{return yield np()}catch(n){return!1}})).apply(this,arguments)}Yn(new Ln("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw nr.create("registration-window");if(!wu())throw nr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw nr.create("registration-project-id");if(!o)throw nr.create("registration-api-key");if(!a)throw nr.create("registration-app-id");const u=new goe(a,r.name,t=t||"firebase"),l=new moe(u),c=new bu(UI);c.logLevel=be.ERROR;const d=new soe(i,Tu,t,s,o,a),h=new uoe(d,u),f=new roe(h,u,l,c),m=new doe(r,f,l,u,c);return function(n){const e=Zt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),st(UI,"0.3.3"),st(UI,"0.3.3","esm2017");const voe="/firebase-messaging-sw.js",woe="/firebase-cloud-messaging-push-scope",vU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wU="google.c.a.c_id",Eoe="google.c.a.c_l",Toe="google.c.a.ts",Coe="google.c.a.e";var ml=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(ml||(ml={})),ml))();function ds(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ioe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const GI="fcm_token_details_db",bU="fcm_token_object_Store";function Soe(n){return zI.apply(this,arguments)}function zI(){return zI=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(GI))return null;let e=null;return(yield(0,fl.openDb)(GI,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(bU))return;const o=i.transaction.objectStore(bU),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:ds(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ds(u.auth),p256dh:ds(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ds(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ds(u.auth),p256dh:ds(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ds(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,fl.deleteDb)(GI),yield(0,fl.deleteDb)("fcm_vapid_details_db"),yield(0,fl.deleteDb)("undefined"),Aoe(e)?e:null}),zI.apply(this,arguments)}function Aoe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Zo="firebase-messaging-store";let WI=null;function KI(){return WI||(WI=(0,fl.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Zo)})),WI}function EU(n){return QI.apply(this,arguments)}function QI(){return QI=y(function*(n){const e=ZI(n),r=yield(yield KI()).transaction(Zo).objectStore(Zo).get(e);if(r)return r;{const i=yield Soe(n.appConfig.senderId);if(i)return yield YI(n,i),i}}),QI.apply(this,arguments)}function YI(n,e){return JI.apply(this,arguments)}function JI(){return JI=y(function*(n,e){const t=ZI(n),i=(yield KI()).transaction(Zo,"readwrite");return yield i.objectStore(Zo).put(e,t),yield i.complete,e}),JI.apply(this,arguments)}function Noe(n){return XI.apply(this,arguments)}function XI(){return XI=y(function*(n){const e=ZI(n),r=(yield KI()).transaction(Zo,"readwrite");yield r.objectStore(Zo).delete(e),yield r.complete}),XI.apply(this,arguments)}function ZI({appConfig:n}){return n.appId}const un=new Ci("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Roe(n,e){return eD.apply(this,arguments)}function eD(){return eD=y(function*(n,e){const t=yield iD(n),r=CU(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(rD(n.appConfig),i)).json()}catch(o){throw un.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw un.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw un.create("token-subscribe-no-token");return s.token}),eD.apply(this,arguments)}function koe(n,e){return tD.apply(this,arguments)}function tD(){return tD=y(function*(n,e){const t=yield iD(n),r=CU(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${rD(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw un.create("token-update-failed",{errorInfo:o})}if(s.error)throw un.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw un.create("token-update-no-token");return s.token}),tD.apply(this,arguments)}function TU(n,e){return nD.apply(this,arguments)}function nD(){return nD=y(function*(n,e){const r={method:"DELETE",headers:yield iD(n)};try{const s=yield(yield fetch(`${rD(n.appConfig)}/${e}`,r)).json();if(s.error)throw un.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw un.create("token-unsubscribe-failed",{errorInfo:i})}}),nD.apply(this,arguments)}function rD({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function iD(n){return sD.apply(this,arguments)}function sD(){return sD=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),sD.apply(this,arguments)}function CU({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==vU&&(i.web.applicationPubKey=r),i}function Foe(n){return oD.apply(this,arguments)}function oD(){return oD=y(function*(n){const e=yield Voe(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ds(e.getKey("auth")),p256dh:ds(e.getKey("p256dh"))},r=yield EU(n.firebaseDependencies);if(r){if(Uoe(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Loe(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield TU(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DU(n.firebaseDependencies,t)}return DU(n.firebaseDependencies,t)}),oD.apply(this,arguments)}function IU(n){return aD.apply(this,arguments)}function aD(){return aD=y(function*(n){const e=yield EU(n.firebaseDependencies);e&&(yield TU(n.firebaseDependencies,e.token),yield Noe(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),aD.apply(this,arguments)}function Loe(n,e){return uD.apply(this,arguments)}function uD(){return uD=y(function*(n,e){try{const t=yield koe(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield YI(n.firebaseDependencies,r),t}catch(t){throw yield IU(n),t}}),uD.apply(this,arguments)}function DU(n,e){return lD.apply(this,arguments)}function lD(){return lD=y(function*(n,e){const r={token:yield Roe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield YI(n,r),r.token}),lD.apply(this,arguments)}function Voe(n,e){return cD.apply(this,arguments)}function cD(){return cD=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ioe(e)})}),cD.apply(this,arguments)}function Uoe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function SU(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function Hoe(n){return"object"==typeof n&&!!n&&wU in n}function AU(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function dD(n){return un.create("missing-app-config-values",{valueName:n})}AU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),AU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Goe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw dD("App Configuration Object");if(!n.name)throw dD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw dD(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function MU(n){return hD.apply(this,arguments)}function hD(){return hD=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(voe,{scope:woe}),n.swRegistration.update().catch(()=>{})}catch(e){throw un.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),hD.apply(this,arguments)}function zoe(n,e){return fD.apply(this,arguments)}function fD(){return fD=y(function*(n,e){if(!e&&!n.swRegistration&&(yield MU(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");n.swRegistration=e}}),fD.apply(this,arguments)}function Woe(n,e){return pD.apply(this,arguments)}function pD(){return pD=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=vU)}),pD.apply(this,arguments)}function gD(){return gD=y(function*(n,e){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield Woe(n,null==e?void 0:e.vapidKey),yield zoe(n,null==e?void 0:e.serviceWorkerRegistration),Foe(n)}),gD.apply(this,arguments)}function Koe(n,e,t){return mD.apply(this,arguments)}function mD(){return mD=y(function*(n,e,t){const r=Qoe(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[wU],message_name:t[Eoe],message_time:t[Toe],message_device_time:Math.floor(Date.now()/1e3)})}),mD.apply(this,arguments)}function Qoe(n){switch(n){case ml.NOTIFICATION_CLICKED:return"notification_open";case ml.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yD(){return yD=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ml.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(SU(t)):n.onMessageHandler.next(SU(t)));const r=t.data;Hoe(r)&&"1"===r[Coe]&&(yield Koe(n,t.messageType,r))}),yD.apply(this,arguments)}const NU="@firebase/messaging";function RU(){return _D.apply(this,arguments)}function _D(){return(_D=y(function*(){return"undefined"!=typeof window&&wu()&&(yield np())&&lw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Yn(new Ln("messaging",n=>{const e=new Goe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return yD.apply(this,arguments)}(e,t)),e},"PUBLIC")),Yn(new Ln("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return gD.apply(this,arguments)}(e,r)}},"PRIVATE")),st(NU,"0.9.4"),st(NU,"0.9.4","esm2017");const Pg="analytics",nae="firebase_id",sae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kU="https://www.googletagmanager.com/gtag/js",ln=new bu("@firebase/analytics");function PU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oae(n,e){const t=document.createElement("script");t.src=`${kU}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function uae(n,e,t,r,i,s){return bD.apply(this,arguments)}function bD(){return bD=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield PU(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){ln.error(a)}n("config",i,s)}),bD.apply(this,arguments)}function lae(n,e,t,r,i){return ED.apply(this,arguments)}function ED(){return ED=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield PU(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){ln.error(s)}}),ED.apply(this,arguments)}function hae(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(kU))return e;return null}const br=new Ci("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),FU=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function yae(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function _ae(n){return TD.apply(this,arguments)}function TD(){return TD=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:yae(r)},s=sae.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),TD.apply(this,arguments)}function vae(n){return CD.apply(this,arguments)}function CD(){return CD=y(function*(n,e=FU,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw br.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Eae;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),LU({appId:r,apiKey:i,measurementId:s},o,a,e)}),CD.apply(this,arguments)}function LU(n,e,t){return ID.apply(this,arguments)}function ID(){return ID=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=FU){const{appId:s,measurementId:o}=n;try{yield wae(r,e)}catch(a){if(o)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield _ae(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!bae(a)){if(i.deleteThrottleMetadata(s),o)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?hw(t,i.intervalMillis,30):hw(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),ln.debug(`Calling attemptFetch again in ${u} millis`),LU(n,l,r,i)}}),ID.apply(this,arguments)}function wae(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bae(n){if(!(n instanceof Xi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Eae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Tae(){return DD.apply(this,arguments)}function DD(){return DD=y(function*(){if(!wu())return ln.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield np()}catch(n){return ln.warn(br.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0}),DD.apply(this,arguments)}function SD(){return SD=y(function*(n,e,t,r,i,s,o){var a;const u=vae(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ln.error(f)),e.push(u);const l=Tae().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);hae()||oae(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[nae]=d),i("config",c.measurementId,h),c.measurementId}),SD.apply(this,arguments)}class Iae{constructor(e){this.app=e}_delete(){return delete hs[this.app.options.appId],Promise.resolve()}}let hs={},VU=[];const UU={};let jU,Wd,Fg="dataLayer",AD=!1;function Sae(n,e,t){!function(){const n=[];if(tp()&&n.push("This is a browser extension environment."),lw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=br.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}();const r=n.options.appId;if(!r)throw br.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw br.create("no-api-key");ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hs[r])throw br.create("already-exists",{id:r});if(!AD){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Fg);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield lae(n,e,t,a,u):"config"===o?yield uae(n,e,t,r,a,u):n("set",a)}catch(l){ln.error(l)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(hs,VU,UU,Fg,"gtag");Wd=s,jU=o,AD=!0}return hs[r]=function(n,e,t,r,i,s,o){return SD.apply(this,arguments)}(n,VU,UU,e,jU,Fg,t),new Iae(n)}function MD(){return MD=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),MD.apply(this,arguments)}function kae(){return kD.apply(this,arguments)}function kD(){return(kD=y(function*(){if(tp()||!lw()||!wu())return!1;try{return yield np()}catch(n){return!1}})).apply(this,arguments)}const $U="@firebase/analytics";Yn(new Ln(Pg,(e,{options:t})=>Sae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Yn(new Ln("analytics-internal",function(e){try{const t=e.getProvider(Pg).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=Zt(n),function(n,e,t,r,i){return MD.apply(this,arguments)}(Wd,hs[n.app.options.appId],e,t,r).catch(i=>ln.error(i))}(t,r,i,s)}}catch(t){throw br.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),st($U,"0.7.4"),st($U,"0.7.4","esm2017");class Lae extends gt{constructor(e,t){super()}schedule(e,t=0){return this}}const Lg={setInterval(...n){const{delegate:e}=Lg;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Lg;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class qU extends Lae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Lg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Lg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ua(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const GU={now:()=>(GU.delegate||Date).now(),delegate:void 0};class Kd{constructor(e,t=Kd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Kd.now=GU.now;class zU extends Kd{constructor(e,t=Kd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Bae=new class extends zU{}(class extends qU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),jae=new zU(qU),Vg=new eu("7.2.0"),PD="__angularfire_symbol__analyticsIsSupported",FD="__angularfire_symbol__remoteConfigIsSupported",LD="__angularfire_symbol__messagingIsSupported";function UD(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[PD]||(globalThis[PD]=kae().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[LD]||(globalThis[LD]=RU().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[FD]||(globalThis[FD]=_oe().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const BD=(n,e)=>{const t=e?[e]:Wk(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function yl(){}class YU{constructor(e,t=Bae){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class $ae{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yl,{},yl,yl)),t.pipe(Qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new YU(Zone.current)),this.insideAngular=t.run(()=>new YU(Zone.current,jae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ea(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Hae(n){return ea().ngZone.runOutsideAngular(()=>n())}function ta(n){return ea().ngZone.run(()=>n())}function qae(n){return ea(),function(n){return function(t){return(t=t.lift(new $ae(n.ngZone))).pipe(rh(n.outsideAngular),nh(n.insideAngular))}}(ea())(n)}const zae=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ta(()=>n.apply(t,arguments))}},$D=(n,e)=>function(){let t;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(t||(t=ta(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yl,{},yl,yl)))),arguments[i]=zae(arguments[i],t));const r=Hae(()=>n.apply(this,arguments));if(!e){if(r instanceof He){const i=ea();return r.pipe(rh(i.outsideAngular),nh(i.insideAngular))}return ta(()=>r)}return r instanceof He?r.pipe(qae):r instanceof Promise?ta(()=>new Promise((i,s)=>r.then(o=>ta(()=>i(o)),o=>ta(()=>s(o))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:ta(()=>r)};class _l{constructor(e){return e}}class HD{constructor(){return Wk()}}const qD=new re("angularfire2._apps"),Kae={provide:_l,useFactory:function(n){return n&&1===n.length?n[0]:new _l(yw())},deps:[[new ct,qD]]},Qae={provide:HD,deps:[[new ct,qD]]};function Yae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _l(r)}}let Jae=(()=>{class n{constructor(t){st("angularfire",Vg.full,"core"),st("angularfire",Vg.full,"app"),st("angular",Rx.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(L(gc))},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:[Kae,Qae]}),n})();function Xae(n,...e){return{ngModule:Jae,providers:[{provide:qD,useFactory:Yae(n),multi:!0,deps:[Le,dt,jD,...e]}]}}const Zae=$D(zk,!0),JU_firebase={projectId:"dosapointfirebase",appId:"1:105602221318:web:41829b2c8312756c68ca87",databaseURL:"https://dosapointfirebase-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"dosapointfirebase.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",messagingSenderId:"105602221318",measurementId:"G-KM8EHCP6QG"},XU=new Map,eue={activated:!1,tokenObservers:[]},tue={initialized:!1,enabled:!1};function Wt(n){return XU.get(n)||eue}function ri(n,e){XU.set(n,e)}function Ug(){return tue}class oue{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new uw,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new uw,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hn=new Ci("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eB(n){if(!Wt(n).activated)throw Hn.create("use-before-activation",{appName:n.name})}function WD(n,e){return KD.apply(this,arguments)}function KD(){return KD=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Hn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Hn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Hn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),KD.apply(this,arguments)}function hue(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Qd="firebase-app-check-store";let $g=null;function nB(){return $g||($g=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Hn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qd,{keyPath:"compositeKey"})}}catch(t){e(Hn.create("storage-open",{originalErrorMessage:t.message}))}}),$g)}function QD(){return QD=y(function*(n,e){const r=(yield nB()).transaction(Qd,"readwrite"),s=r.objectStore(Qd).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Hn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),QD.apply(this,arguments)}const Yd=new bu("@firebase/app-check");function oB(n,e){return wu()?function(n,e){return function(n,e){return QD.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Yd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aB(){return Ug().enabled}function uB(){return ZD.apply(this,arguments)}function ZD(){return ZD=y(function*(){const n=Ug();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ZD.apply(this,arguments)}const Eue={error:"UNKNOWN_ERROR"};function Tue(n){return ow.encodeString(JSON.stringify(n),!1)}function Hg(n){return e0.apply(this,arguments)}function e0(){return e0=y(function*(n,e=!1){const t=n.app;eB(t);const r=Wt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&qg(u)&&(i=u)}if(!e&&i&&qg(i))return{token:i.token};let a,o=!1;if(aB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=WD(hue(t,yield uB()),n.platformLoggerProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield oB(t,u),ri(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Yd.warn(u.message):Yd.error(u),s=u}return i?(a={token:i.token},ri(t,Object.assign(Object.assign({},r),{token:i})),yield oB(t,i)):a=Iue(s),o&&cB(t,a),a}),e0.apply(this,arguments)}function n0(n,e){const t=Wt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ri(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function lB(n){const{app:e}=n,t=Wt(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new oue(y(function*(){let r;if(r=Wt(e).token?yield Hg(n,!0):yield Hg(n),r.error)throw r.error}),()=>!0,()=>{const t=Wt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ri(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function cB(n,e){const t=Wt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function qg(n){return n.expireTimeMillis-Date.now()>0}function Iue(n){return{token:Tue(Eue),error:n}}class Due{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Wt(this.app);for(const t of e)n0(this.app,t.next);return Promise.resolve()}}const _B="app-check-internal";Yn(new Ln("app-check",n=>function(n,e){return new Due(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_B).initialize()})),Yn(new Ln(_B,n=>function(n){return{getToken:e=>Hg(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=Wt(i),o={next:t,error:r,type:e};if(ri(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&qg(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),lB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lB(n))}(n,"INTERNAL",e),removeTokenListener:e=>n0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.5.2");class a0{constructor(){return BD("app-check")}}"undefined"!=typeof window&&window;class l0{constructor(e){return e}}class bB{constructor(){return BD("auth")}}const c0=new re("angularfire2.auth-instances");function zue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new l0(r)}}const Wue={provide:bB,deps:[[new ct,c0]]},Kue={provide:l0,useFactory:function(n,e){const t=UD("auth",n,e);return t&&new l0(t)},deps:[[new ct,c0],_l]};let Que=(()=>{class n{constructor(){st("angularfire",Vg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:[Kue,Wue]}),n})();function Yue(n,...e){return{ngModule:Que,providers:[{provide:c0,useFactory:zue(n),multi:!0,deps:[Le,dt,jD,HD,[new ct,a0],...e]}]}}const Jue=$D(hl,!0);class d0{constructor(e){return e}}const EB="firestore",h0=new re("angularfire2.firestore-instances");function ele(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new d0(r)}}const tle={provide:class{constructor(){return BD(EB)}},deps:[[new ct,h0]]},nle={provide:d0,useFactory:function(n,e){const t=UD(EB,n,e);return t&&new d0(t)},deps:[[new ct,h0],_l]};let rle=(()=>{class n{constructor(){st("angularfire",Vg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:[nle,tle]}),n})();function ile(n,...e){return{ngModule:rle,providers:[{provide:h0,useFactory:ele(n),multi:!0,deps:[Le,dt,jD,HD,[new ct,bB],[new ct,a0],...e]}]}}const sle=$D(vV,!0);function TB(){return"undefined"!=typeof window&&void 0!==window.document}function f0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xs(n){switch(n.length){case 0:return new hu;case 1:return n[0];default:return new DR(n)}}function CB(n,e,t,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.offset,h=d==u,f=h&&l||{};Object.keys(c).forEach(m=>{let _=m,v=c[m];if("offset"!==m)switch(_=e.normalizePropertyName(_,o),v){case"!":v=i[m];break;case Ki:v=s[m];break;default:v=e.normalizeStyleValue(m,_,v,o)}f[_]=v}),h||a.push(f),l=f,u=d}),o.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${o.join(c)}`)}return a}function p0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&g0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&g0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&g0(t,"destroy",n)))}}function g0(n,e,t){const r=t.totalTime,s=m0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function m0(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Er(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function IB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let y0=(n,e)=>!1,DB=(n,e,t)=>[];(f0()||"undefined"!=typeof Element)&&(y0=TB()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),DB=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let na=null,SB=!1;function _0(n){na||(na=("undefined"!=typeof document?document.body:null)||{},SB=!!na.style&&"WebkitAppearance"in na.style);let e=!0;return na.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in na.style,!e&&SB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in na.style)),e}const v0=y0,w0=DB;function AB(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let MB=(()=>{class n{validateStyleProperty(t){return _0(t)}matchesElement(t,r){return!1}containsElement(t,r){return v0(t,r)}query(t,r,i){return w0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new hu(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),b0=(()=>{class n{}return n.NOOP=new MB,n})();const E0="ng-enter",zg="ng-leave",Wg="ng-trigger",Kg=".ng-trigger",NB="ng-animating",T0=".ng-animating";function ra(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:C0(parseFloat(e[1]),e[2])}function C0(n,e){return"s"===e?1e3*n:n}function Qg(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=C0(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=C0(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function vl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Zs(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else vl(n,t);return t}function RB(n,e,t){return t?e+":"+t+";":""}function kB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=RB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=RB(0,fle(t),n.style[t]));n.setAttribute("style",e)}function Oi(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=D0(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),f0()&&kB(n))}function ia(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=D0(t);n.style[r]=""}),f0()&&kB(n))}function Jd(n){return Array.isArray(n)?1==n.length?n[0]:TR(n):n}const I0=new RegExp("{{\\s*(.+?)\\s*}}","g");function PB(n){let e=[];if("string"==typeof n){let t;for(;t=I0.exec(n);)e.push(t[1]);I0.lastIndex=0}return e}function Yg(n,e,t){const r=n.toString(),i=r.replace(I0,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Jg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hle=/-+([a-z0-9])/g;function D0(n){return n.replace(hle,(...e)=>e[1].toUpperCase())}function fle(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function FB(n,e){return 0===n||0===e}function LB(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(u){a[u]=S0(n,u)})}}return e}function Tr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function S0(n,e){return window.getComputedStyle(n)[e]}function ple(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const u=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(VB(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(VB(o,i))}(r,t,e)):t.push(n),t}const Zg=new Set(["true","1"]),em=new Set(["false","0"]);function VB(n,e){const t=Zg.has(n)||em.has(n),r=Zg.has(e)||em.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Zg.has(n):em.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Zg.has(e):em.has(e)),o&&a}}const yle=new RegExp("s*:selfs*,?","g");function A0(n,e,t){return new _le(n).build(e,t)}class _le{constructor(e){this._driver=e}build(e,t){const r=new ble(t);return this._resetContextStyleTimingState(r),Tr(this,Jd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(tm(a)){const u=a;Object.keys(u).forEach(l=>{PB(u[l]).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}}),s.size){const a=Jg(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Tr(this,Jd(e.animation),t);return{type:1,matchers:ple(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Tr(this,r,t)),options:sa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Tr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:sa(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return M0(Qg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=M0(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||Qg(r,e),M0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Sc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Sc(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Ki?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(tm(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let l in a)if(a[l].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=t.collectedStyles[t.currentQuerySelector],l=u[a];let c=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${l.startTime}ms" and "${l.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),c=!1),s=l.startTime),c&&(u[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=PB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(E=>{const w=this._makeStyleAst(E,t);let N=null!=w.offset?w.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(tm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(tm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(w.styles),P=0;return null!=N&&(s++,P=w.offset=N),u=u||P<0||P>1,a=a||P<l,l=P,o.push(P),w});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,m=t.currentTime,_=t.currentAnimateTimings,v=_.duration;return c.forEach((E,w)=>{const N=h>0?w==f?1:h*w:o[w],P=N*v;t.currentTime=m+_.delay+P,_.duration=P,this._validateStyleAst(E,t),E.offset=N,r.styles.push(E)}),r}visitReference(e,t){return{type:8,animation:Tr(this,Jd(e.animation),t),options:sa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yle,"")),n=n.replace(/@\*/g,Kg).replace(/@\w+/g,t=>Kg+"-"+t.substr(1)).replace(/:animating/g,T0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Er(t.collectedStyles,t.currentQuerySelector,{});const a=Tr(this,Jd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:sa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qg(e.timings,t.errors,!0);return{type:12,animation:Tr(this,Jd(e.animation),t),timings:r,options:null}}}class ble{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function tm(n){return!Array.isArray(n)&&"object"==typeof n}function sa(n){return n?(n=vl(n)).params&&(n.params=function(n){return n?vl(n):null}(n.params)):n={},n}function M0(n,e,t){return{duration:n,delay:e,easing:t}}function x0(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class nm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dle=new RegExp(":enter","g"),Ale=new RegExp(":leave","g");function N0(n,e,t,r,i,s={},o={},a,u,l=[]){return(new Mle).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Mle{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new nm;const d=new O0(e,t,l,i,s,c,[]);d.options=u,d.currentTimeline.setStyles([o],null,d.errors,u),Tr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,u)}return h.length?h.map(f=>f.buildKeyframes()):[x0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ra(r.duration):null,a=null!=r.delay?ra(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rm);const o=ra(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Tr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ra(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Tr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Qg(t.params?Yg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ra(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),Tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Tr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const rm={};class O0{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new im(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ra(r.duration)),null!=r.delay&&(i.delay=ra(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Yg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new O0(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=rm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new xle(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Dle,"."+this._enterClassName)).replace(Ale,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class im{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new im(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ki,this._currentKeyframe[t]=Ki}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Ki})):Zs(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=Yg(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ki),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Zs(a,!0);Object.keys(l).forEach(c=>{const d=l[c];"!"==d?e.add(c):d==Ki&&t.add(c)}),r||(l.offset=u/this.duration),i.push(l)});const s=e.size?Jg(e.values()):[],o=t.size?Jg(t.values()):[];if(r){const a=i[0],u=vl(a);a.offset=0,u.offset=1,i=[a,u]}return x0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class xle extends im{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Zs(e[0],!1);u.offset=0,s.push(u);const l=Zs(e[0],!1);l.offset=jB(a),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Zs(e[d],!1);h.offset=jB((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return x0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class R0{}class Ole extends R0{normalizePropertyName(e,t){return D0(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Rle[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const Rle=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $B(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const k0={};class HB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||k0,m=this.buildStyles(r,a&&a.params||k0,d),_=u&&u.params||k0,v=this.buildStyles(i,_,d),E=new Set,w=new Map,N=new Map,P="void"===i,K={params:Object.assign(Object.assign({},h),_)},Ae=c?[]:N0(e,t,this.ast.animation,s,o,m,v,K,l,d);let Ne=0;if(Ae.forEach(cn=>{Ne=Math.max(cn.duration+cn.delay,Ne)}),d.length)return $B(t,this._triggerName,r,i,P,m,v,[],[],w,N,Ne,d);Ae.forEach(cn=>{const Gn=cn.element,bl=Er(w,Gn,{});cn.preStyleProps.forEach(ii=>bl[ii]=!0);const fs=Er(N,Gn,{});cn.postStyleProps.forEach(ii=>fs[ii]=!0),Gn!==t&&E.add(Gn)});const qn=Jg(E.values());return $B(t,this._triggerName,r,i,P,m,v,Ae,qn,w,N,Ne)}}class Fle{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=vl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=Yg(u,i,t));const l=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,l,u,t),r[l]=u})}}),r}}class Vle{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Fle(i.style,i.options&&i.options.params||{},r)}),qB(this.states,"true","1"),qB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new HB(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new HB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Ble=new nm;class jle{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=A0(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=CB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=N0(this._driver,t,s,E0,zg,{},{},r,Ble,i),o.forEach(c=>{const d=Er(a,c.element,{});c.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(h=>{c[h]=this._driver.computeStyle(d,h,Ki)})});const l=Xs(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=m0(t,"","","");return p0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const GB="ng-animate-queued",P0="ng-animate-disabled",zle=[],zB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wle={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lr="__ng_removed";class F0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=vl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Xd="void",L0=new F0(Xd);class Kle{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=Er(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Er(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Vr(e,Wg),Vr(e,Wg+"-"+t),a[t]=L0),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new V0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vr(e,Wg),Vr(e,Wg+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const l=new F0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=L0),l.value!==Xd&&u.value===l.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const _=[],v=s.matchStyles(u.value,u.params,_),E=s.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{ia(e,v),Oi(e,E)})}return}const h=Er(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),m=!1;if(!f){if(!i)return;f=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:m}),m||(Vr(e,GB),o.onStart(()=>{wl(e,GB)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const v=this._engine.playersByElement.get(e);if(v){let E=v.indexOf(o);E>=0&&v.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Kg,!0);r.forEach(i=>{if(i[Lr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const u=this.trigger(e,a,Xd,i);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Xs(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,l=r[o]||L0,c=new F0(Xd),d=new V0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Lr];(!s||s===zB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=m0(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,p0(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Qle{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Kle(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(sm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!sm(t))return;const s=t[Lr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vr(e,P0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wl(e,P0))}removeNode(e,t,r,i){if(sm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Lr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return sm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Kg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,T0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xs(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Lr];if(r&&r.setForRemoval){if(e[Lr]=zB,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(P0))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new nm,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(U=>{c.add(U);const z=this.driver.query(U,".ng-animate-queued",!0);for(let te=0;te<z.length;te++)c.add(z[te])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=QB(h,this.collectedEnterElements),m=new Map;let _=0;f.forEach((U,z)=>{const te=E0+_++;m.set(z,te),U.forEach(Ce=>Vr(Ce,te))});const v=[],E=new Set,w=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const z=this.collectedLeaveElements[U],te=z[Lr];te&&te.setForRemoval&&(v.push(z),E.add(z),te.hasAnimation?this.driver.query(z,".ng-star-inserted",!0).forEach(Ce=>E.add(Ce)):w.add(z))}const N=new Map,P=QB(h,Array.from(E));P.forEach((U,z)=>{const te=zg+_++;N.set(z,te),U.forEach(Ce=>Vr(Ce,te))}),e.push(()=>{f.forEach((U,z)=>{const te=m.get(z);U.forEach(Ce=>wl(Ce,te))}),P.forEach((U,z)=>{const te=N.get(z);U.forEach(Ce=>wl(Ce,te))}),v.forEach(U=>{this.processLeaveNode(U)})});const K=[],Ae=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(te=>{const Ce=te.player,Kt=te.element;if(K.push(Ce),this.collectedEnterElements.length){const Ur=Kt[Lr];if(Ur&&Ur.setForMove)return void Ce.destroy()}const Ri=!d||!this.driver.containsElement(d,Kt),Cr=N.get(Kt),eo=m.get(Kt),Ze=this._buildInstruction(te,r,eo,Cr,Ri);if(Ze.errors&&Ze.errors.length)return void Ae.push(Ze);if(Ri)return Ce.onStart(()=>ia(Kt,Ze.fromStyles)),Ce.onDestroy(()=>Oi(Kt,Ze.toStyles)),void i.push(Ce);if(te.isFallbackTransition)return Ce.onStart(()=>ia(Kt,Ze.fromStyles)),Ce.onDestroy(()=>Oi(Kt,Ze.toStyles)),void i.push(Ce);const mj=[];Ze.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||mj.push(Ur)}),Ze.timelines=mj,r.append(Kt,Ze.timelines),o.push({instruction:Ze,player:Ce,element:Kt}),Ze.queriedElements.forEach(Ur=>Er(a,Ur,[]).push(Ce)),Ze.preStyleProps.forEach((Ur,Zd)=>{const lm=Object.keys(Ur);if(lm.length){let oa=u.get(Zd);oa||u.set(Zd,oa=new Set),lm.forEach($0=>oa.add($0))}}),Ze.postStyleProps.forEach((Ur,Zd)=>{const lm=Object.keys(Ur);let oa=l.get(Zd);oa||l.set(Zd,oa=new Set),lm.forEach($0=>oa.add($0))})});if(Ae.length){const U=[];Ae.forEach(z=>{U.push(`@${z.triggerName} has failed due to:\n`),z.errors.forEach(te=>U.push(`- ${te}\n`))}),K.forEach(z=>z.destroy()),this.reportError(U)}const Ne=new Map,qn=new Map;o.forEach(U=>{const z=U.element;r.has(z)&&(qn.set(z,z),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ne))}),i.forEach(U=>{const z=U.element;this._getPreviousPlayers(z,!1,U.namespaceId,U.triggerName,null).forEach(Ce=>{Er(Ne,z,[]).push(Ce),Ce.destroy()})});const cn=v.filter(U=>JB(U,u,l)),Gn=new Map;KB(Gn,this.driver,w,l,Ki).forEach(U=>{JB(U,u,l)&&cn.push(U)});const fs=new Map;f.forEach((U,z)=>{KB(fs,this.driver,new Set(U),u,"!")}),cn.forEach(U=>{const z=Gn.get(U),te=fs.get(U);Gn.set(U,Object.assign(Object.assign({},z),te))});const ii=[],El=[],Tl={};o.forEach(U=>{const{element:z,player:te,instruction:Ce}=U;if(r.has(z)){if(c.has(z))return te.onDestroy(()=>Oi(z,Ce.toStyles)),te.disabled=!0,te.overrideTotalTime(Ce.totalTime),void i.push(te);let Kt=Tl;if(qn.size>1){let Cr=z;const eo=[];for(;Cr=Cr.parentNode;){const Ze=qn.get(Cr);if(Ze){Kt=Ze;break}eo.push(Cr)}eo.forEach(Ze=>qn.set(Ze,Kt))}const Ri=this._buildAnimation(te.namespaceId,Ce,Ne,s,fs,Gn);if(te.setRealPlayer(Ri),Kt===Tl)ii.push(te);else{const Cr=this.playersByElement.get(Kt);Cr&&Cr.length&&(te.parentPlayer=Xs(Cr)),i.push(te)}}else ia(z,Ce.fromStyles),te.onDestroy(()=>Oi(z,Ce.toStyles)),El.push(te),c.has(z)&&i.push(te)}),El.forEach(U=>{const z=s.get(U.element);if(z&&z.length){const te=Xs(z);U.setRealPlayer(te)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<v.length;U++){const z=v[U],te=z[Lr];if(wl(z,zg),te&&te.hasAnimation)continue;let Ce=[];if(a.size){let Ri=a.get(z);Ri&&Ri.length&&Ce.push(...Ri);let Cr=this.driver.query(z,T0,!0);for(let eo=0;eo<Cr.length;eo++){let Ze=a.get(Cr[eo]);Ze&&Ze.length&&Ce.push(...Ze)}}const Kt=Ce.filter(Ri=>!Ri.destroyed);Kt.length?Zle(this,z,Kt):this.processLeaveNode(z)}return v.length=0,ii.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const z=this.players.indexOf(U);this.players.splice(z,1)}),U.play()}),ii}elementContainsData(e,t){let r=!1;const i=t[Lr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Xd;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=Er(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}ia(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(m=>{const _=m.element;c.add(_);const v=_[Lr];if(v&&v.removedBeforeQueried)return new hu(m.duration,m.delay);const E=_!==u,w=function(n){const e=[];return YB(n,e),e}((r.get(_)||zle).map(Ne=>Ne.getRealPlayer())).filter(Ne=>!!Ne.element&&Ne.element===_),N=s.get(_),P=o.get(_),K=CB(0,this._normalizer,0,m.keyframes,N,P),Ae=this._buildPlayer(m,K,w);if(m.subTimeline&&i&&d.add(_),E){const Ne=new V0(e,a,_);Ne.setRealPlayer(Ae),l.push(Ne)}return Ae});l.forEach(m=>{Er(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>Vr(m,NB));const f=Xs(h);return f.onDestroy(()=>{c.forEach(m=>wl(m,NB)),Oi(u,t.toStyles)}),d.forEach(m=>{Er(i,m,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new hu(e.duration,e.delay)}}class V0{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new hu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>p0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sm(n){return n&&1===n.nodeType}function WB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function KB(n,e,t,r,i){const s=[];t.forEach(u=>s.push(WB(u)));const o=[];r.forEach((u,l)=>{const c={};u.forEach(d=>{const h=c[d]=e.computeStyle(l,d,i);(!h||0==h.length)&&(l[Lr]=Wle,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>WB(u,s[a++])),o}function QB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Vr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function wl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Zle(n,e,t){Xs(t).onDone(()=>n.processLeaveNode(e))}function YB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof DR?YB(r.players,e):e.push(r)}}function JB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class om{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Qle(e,t,r),this._timelineEngine=new jle(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=A0(this._driver,s,u);if(u.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(n,e,t){return new Vle(n,e,t)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=IB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=IB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function XB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=U0(e[0]),e.length>1&&(r=U0(e[e.length-1]))):e&&(t=U0(e)),t||r?new nce(n,t,r):null}let nce=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oi(this._element,this._initialStyles),this._endStyles&&(Oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ia(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ia(this._element,this._endStyles),this._endStyles=null),Oi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function U0(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];rce(i)&&(e=e||{},e[i]=n[i])}return e}function rce(n){return"display"===n||"position"===n}const ZB="animation",ej="animationend";class oce{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,e){const t=j0(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),am(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rj(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){tj(this._element,this._name,"paused")}resume(){tj(this._element,this._name,"running")}setPosition(e){const t=nj(this._element,this._name);this._position=e*this._duration,am(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rj(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=j0(n,"").split(","),i=B0(r,e);i>=0&&(r.splice(i,1),am(n,"",r.join(",")))}(this._element,this._name))}}function tj(n,e,t){am(n,"PlayState",t,nj(n,e))}function nj(n,e){const t=j0(n,"");return t.indexOf(",")>0?B0(t.split(","),e):B0([t],e)}function B0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function rj(n,e,t){t?n.removeEventListener(ej,e):n.addEventListener(ej,e)}function am(n,e,t,r){const i=ZB+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function j0(n,e){return n.style[ZB+e]||""}class ij{constructor(e,t,r,i,s,o,a,u){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new oce(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:S0(this.element,r))})}this.currentSnapshot=e}}class hce extends hu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=AB(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class oj{constructor(){this._count=0}validateStyleProperty(e){return _0(e)}matchesElement(e,t){return!1}containsElement(e,t){return v0(e,t)}query(e,t,r){return w0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>AB(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const u=parseFloat(a.offset);i+=`${s}${100*u}% {\n`,s+=" ",Object.keys(a).forEach(l=>{const c=a[l];switch(l){case"offset":return;case"easing":return void(c&&(i+=`${s}animation-timing-function: ${c};\n`));default:return void(i+=`${s}${l}: ${c};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const u=o.filter(v=>v instanceof ij),l={};FB(r,i)&&u.forEach(v=>{let E=v.currentSnapshot;Object.keys(E).forEach(w=>l[w]=E[w])});const c=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=LB(e,t,l));if(0==r)return new hce(e,c);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const m=XB(e,t),_=new ij(e,t,d,r,i,s,c,m);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class uj{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:S0(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yce{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(lj().toString()),this._cssKeyframesDriver=new oj}validateStyleProperty(e){return _0(e)}matchesElement(e,t){return!1}containsElement(e,t){return v0(e,t)}query(e,t,r){return w0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const d={},h=o.filter(m=>m instanceof uj);FB(r,i)&&h.forEach(m=>{let _=m.currentSnapshot;Object.keys(_).forEach(v=>d[v]=_[v])});const f=XB(e,t=LB(e,t=t.map(m=>Zs(m,!1)),d));return new uj(e,t,c,f)}}function lj(){return TB()&&Element.prototype.animate||{}}let vce=(()=>{class n extends bR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?TR(t):t;return cj(this._renderer,null,r,"register",[i]),new wce(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(L(lc),L(Lt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class wce extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bce(this._id,e,t||{},this._renderer)}}class bce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function cj(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const dj="@.disabled";let Ece=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new hj("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new Tce(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(L(lc),L(om),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class hj{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==dj?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Tce extends hj{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dj?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Dce=(()=>{class n extends om{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(L(Lt),L(b0),L(R0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const fj=new re("AnimationModuleType"),pj=[{provide:bR,useClass:vce},{provide:R0,useFactory:function(){return new Ole}},{provide:om,useClass:Dce},{provide:lc,useFactory:function(n,e,t){return new Ece(n,e,t)},deps:[Df,om,Le]}],gj=[{provide:b0,useFactory:function(){return"function"==typeof lj()?new yce:new oj}},{provide:fj,useValue:"BrowserAnimations"},...pj],xce=[{provide:b0,useClass:MB},{provide:fj,useValue:"NoopAnimations"},...pj];let Nce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xce:gj}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n}),n.\u0275inj=Yt({providers:gj,imports:[_O]}),n})(),Oce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=hn({type:n,bootstrap:[ose]}),n.\u0275inj=Yt({providers:[],imports:[[_O,nse,Nce,wR,C5,Y5.forRoot({timeOut:2400,positionClass:"toast-bottom-right",preventDuplicates:!0}),Xae(()=>Zae(JU_firebase)),Yue(()=>Jue()),ile(()=>sle())]]}),n})();MN=!1,gK().bootstrapModule(Oce).catch(n=>console.error(n))},940:function(eh,th){!function(to){"use strict";function Oe($){return Array.prototype.slice.call($)}function aa($){return new Promise(function(he,Ie){$.onsuccess=function(){he($.result)},$.onerror=function(){Ie($.error)}})}function ps($,he,Ie){var Se,me=new Promise(function(Sn,gs){aa(Se=$[he].apply($,Ie)).then(Sn,gs)});return me.request=Se,me}function ua($,he,Ie){var Se=ps($,he,Ie);return Se.then(function(me){if(me)return new si(me,Se.request)})}function gt($,he,Ie){Ie.forEach(function(Se){Object.defineProperty($.prototype,Se,{get:function(){return this[he][Se]},set:function(me){this[he][Se]=me}})})}function la($,he,Ie,Se){Se.forEach(function(me){me in Ie.prototype&&($.prototype[me]=function(){return ps(this[he],me,arguments)})})}function no($,he,Ie,Se){Se.forEach(function(me){me in Ie.prototype&&($.prototype[me]=function(){return this[he][me].apply(this[he],arguments)})})}function Cl($,he,Ie,Se){Se.forEach(function(me){me in Ie.prototype&&($.prototype[me]=function(){return ua(this[he],me,arguments)})})}function Dn($){this._index=$}function si($,he){this._cursor=$,this._request=he}function rr($){this._store=$}function oi($){this._tx=$,this.complete=new Promise(function(he,Ie){$.oncomplete=function(){he()},$.onerror=function(){Ie($.error)},$.onabort=function(){Ie($.error)}})}function ca($,he,Ie){this._db=$,this.oldVersion=he,this.transaction=new oi(Ie)}function da($){this._db=$}gt(Dn,"_index",["name","keyPath","multiEntry","unique"]),la(Dn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Cl(Dn,"_index",IDBIndex,["openCursor","openKeyCursor"]),gt(si,"_cursor",["direction","key","primaryKey","value"]),la(si,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function($){$ in IDBCursor.prototype&&(si.prototype[$]=function(){var he=this,Ie=arguments;return Promise.resolve().then(function(){return he._cursor[$].apply(he._cursor,Ie),aa(he._request).then(function(Se){if(Se)return new si(Se,he._request)})})})}),rr.prototype.createIndex=function(){return new Dn(this._store.createIndex.apply(this._store,arguments))},rr.prototype.index=function(){return new Dn(this._store.index.apply(this._store,arguments))},gt(rr,"_store",["name","keyPath","indexNames","autoIncrement"]),la(rr,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Cl(rr,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),no(rr,"_store",IDBObjectStore,["deleteIndex"]),oi.prototype.objectStore=function(){return new rr(this._tx.objectStore.apply(this._tx,arguments))},gt(oi,"_tx",["objectStoreNames","mode"]),no(oi,"_tx",IDBTransaction,["abort"]),ca.prototype.createObjectStore=function(){return new rr(this._db.createObjectStore.apply(this._db,arguments))},gt(ca,"_db",["name","version","objectStoreNames"]),no(ca,"_db",IDBDatabase,["deleteObjectStore","close"]),da.prototype.transaction=function(){return new oi(this._db.transaction.apply(this._db,arguments))},gt(da,"_db",["name","version","objectStoreNames"]),no(da,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function($){[rr,Dn].forEach(function(he){$ in he.prototype&&(he.prototype[$.replace("open","iterate")]=function(){var Ie=Oe(arguments),Se=Ie[Ie.length-1],me=this._store||this._index,Sn=me[$].apply(me,Ie.slice(0,-1));Sn.onsuccess=function(){Se(Sn.result)}})})}),[Dn,rr].forEach(function($){$.prototype.getAll||($.prototype.getAll=function(he,Ie){var Se=this,me=[];return new Promise(function(Sn){Se.iterateCursor(he,function(gs){gs?(me.push(gs.value),void 0===Ie||me.length!=Ie?gs.continue():Sn(me)):Sn(me)})})})}),to.openDb=function($,he,Ie){var Se=ps(indexedDB,"open",[$,he]),me=Se.request;return me&&(me.onupgradeneeded=function(Sn){Ie&&Ie(new ca(me.result,Sn.oldVersion,me.transaction))}),Se.then(function(Sn){return new da(Sn)})},to.deleteDb=function($){return ps(indexedDB,"deleteDatabase",[$])},Object.defineProperty(to,"__esModule",{value:!0})}(th)}},eh=>{eh(eh.s=439)}]);