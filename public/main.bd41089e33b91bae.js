(self.webpackChunkdosa_point=self.webpackChunkdosa_point||[]).push([[179],{970:(Zd,eh,eo)=>{"use strict";function Oe(n){return"function"==typeof n}function oa(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const fs=oa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function aa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Oe(r))try{r()}catch(s){e=s instanceof fs?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Tl(s)}catch(o){e=null!=e?e:[],o instanceof fs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fs(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Tl(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&aa(t,e)}remove(e){const{_teardowns:t}=this;t&&aa(t,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const ua=gt.EMPTY;function to(n){return n instanceof gt||n&&"closed"in n&&Oe(n.remove)&&Oe(n.add)&&Oe(n.unsubscribe)}function Tl(n){Oe(n)?n():n.unsubscribe()}const En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},si={setTimeout(...n){const{delegate:e}=si;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=si;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function nr(n){si.setTimeout(()=>{const{onUnhandledError:e}=En;if(!e)throw n;e(n)})}function oi(){}const la=Cl("C",void 0,void 0);function Cl(n,e,t){return{kind:n,value:e,error:t}}let j=null;function he(n){if(En.useDeprecatedSynchronousErrorHandling){const e=!j;if(e&&(j={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=j;if(j=null,t)throw r}}else n()}class Ae extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,to(e)&&e.add(this)):this.destination=hj}static create(e,t,r){return new me(e,t,r)}next(e){this.isStopped?lm(Cl("N",e,void 0),this):this._next(e)}error(e){this.isStopped?lm(Cl("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lm(la,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class me extends Ae{constructor(e,t,r){let i;if(super(),Oe(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Tn(i):oi,error:Tn(null!=t?t:ps),complete:r?Tn(r):oi}}}function Tn(n,e){return(...t)=>{try{n(...t)}catch(r){En.useDeprecatedSynchronousErrorHandling?function(n){En.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=n)}(r):nr(r)}}}function ps(n){throw n}function lm(n,e){const{onStoppedNotification:t}=En;t&&si.setTimeout(()=>t(n,e))}const hj={closed:!0,next:oi,error:ps,complete:oi},cm="function"==typeof Symbol&&Symbol.observable||"@@observable";function no(n){return n}let He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function(n){return n&&n instanceof Ae||function(n){return n&&Oe(n.next)&&Oe(n.error)&&Oe(n.complete)}(n)&&to(n)}(t)?t:new me(t,r,i);return he(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=B0(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[cm](){return this}pipe(...t){return function(n){return 0===n.length?no:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=B0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function B0(n){var e;return null!==(e=null!=n?n:En.Promise)&&void 0!==e?e:Promise}const gj=oa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new j0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gj}next(t){he(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ua:(s.push(t),new gt(()=>aa(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new He;return t.source=this,t}}return n.create=(e,t)=>new j0(e,t),n})();class j0 extends un{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:ua}}function $0(n){return Oe(null==n?void 0:n.lift)}function zt(n){return e=>{if($0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Nt extends Ae{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Ve(n,e){return zt((t,r)=>{let i=0;t.subscribe(new Nt(r,s=>{r.next(n.call(e,s,i++))}))})}function ro(n){return this instanceof ro?(this.v=n,this):new ro(n)}function _j(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,_){s.push([h,f,m,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof ro?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(m){d(s[0][3],m)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function vj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const z0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function W0(n){return Oe(null==n?void 0:n.then)}function K0(n){return Oe(n[cm])}function Q0(n){return Symbol.asyncIterator&&Oe(null==n?void 0:n[Symbol.asyncIterator])}function Y0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const J0="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function X0(n){return Oe(null==n?void 0:n[J0])}function Z0(n){return _j(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ro(t.read());if(i)return yield ro(void 0);yield yield ro(r)}}finally{t.releaseLock()}})}function eA(n){return Oe(null==n?void 0:n.getReader)}function ai(n){if(n instanceof He)return n;if(null!=n){if(K0(n))return function(n){return new He(e=>{const t=n[cm]();if(Oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(z0(n))return function(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(W0(n))return function(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nr)})}(n);if(Q0(n))return tA(n);if(X0(n))return function(n){return new He(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(eA(n))return function(n){return tA(Z0(n))}(n)}throw Y0(n)}function tA(n){return new He(e=>{(function(n,e){var t,r,i,s;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=vj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ki(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ot(n,e,t=1/0){return Oe(e)?Ot((r,i)=>Ve((s,o)=>e(r,s,i,o))(ai(n(r,i))),t):("number"==typeof e&&(t=e),zt((r,i)=>function(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=_=>l<r?m(_):u.push(_),m=_=>{l++;let v=!1;ai(t(_,c++)).subscribe(new Nt(e,b=>{e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;u.length&&l<r;){const b=u.shift();m(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(new Nt(e,f,()=>{d=!0,h()})),()=>{}}(r,i,n,t)))}function Il(n=1/0){return Ot(no,n)}const Ri=new He(n=>n.complete());function hm(n){return n[n.length-1]}function nA(n){return Oe(hm(n))?n.pop():void 0}function Dl(n){return function(n){return n&&Oe(n.schedule)}(hm(n))?n.pop():void 0}function th(n,e=0){return zt((t,r)=>{t.subscribe(new Nt(r,i=>ki(r,n,()=>r.next(i),e),()=>ki(r,n,()=>r.complete(),e),i=>ki(r,n,()=>r.error(i),e)))})}function nh(n,e=0){return zt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function rA(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{ki(t,e,()=>{const r=n[Symbol.asyncIterator]();ki(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function kt(n,e){return e?function(n,e){if(null!=n){if(K0(n))return function(n,e){return ai(n).pipe(nh(e),th(e))}(n,e);if(z0(n))return function(n,e){return new He(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(W0(n))return function(n,e){return ai(n).pipe(nh(e),th(e))}(n,e);if(Q0(n))return rA(n,e);if(X0(n))return function(n,e){return new He(t=>{let r;return ki(t,e,()=>{r=n[J0](),ki(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Oe(null==r?void 0:r.return)&&r.return()})}(n,e);if(eA(n))return function(n,e){return rA(Z0(n),e)}(n,e)}throw Y0(n)}(n,e):ai(n)}function rh(n){return n<=0?()=>Ri:zt((e,t)=>{let r=0;e.subscribe(new Nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fm(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(rh(1)).subscribe(()=>n())}function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function pm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Bj=Re({__forward_ref__:Re});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return ve(this())},n}function ae(n){return iA(n)?n():n}function iA(n){return"function"==typeof n&&n.hasOwnProperty(Bj)&&n.__forward_ref__===Ue}class rr extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function Cn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}function ih(n,e){const t=e?` in ${e}`:"";throw new rr("201",`No provider for ${Cn(n)} found${t}`)}function sr(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function ym(n){return sA(n,sh)||sA(n,aA)}function sA(n,e){return n.hasOwnProperty(e)?n[e]:null}function oA(n){return n&&(n.hasOwnProperty(_m)||n.hasOwnProperty(Wj))?n[_m]:null}const sh=Re({\u0275prov:Re}),_m=Re({\u0275inj:Re}),aA=Re({ngInjectableDef:Re}),Wj=Re({ngInjectorDef:Re});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let vm;function gs(n){const e=vm;return vm=n,e}function uA(n,e,t){const r=ym(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&se.Optional?null:void 0!==e?e:void ih(ve(n),"Injector")}function ms(n){return{toString:n}.toString()}var Br=(()=>((Br=Br||{})[Br.OnPush=0]="OnPush",Br[Br.Default=1]="Default",Br))(),jr=(()=>{return(n=jr||(jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jr;var n})();const Qj="undefined"!=typeof globalThis&&globalThis,Yj="undefined"!=typeof window&&window,Jj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ke=Qj||"undefined"!=typeof global&&global||Yj||Jj,da={},Pe=[],oh=Re({\u0275cmp:Re}),wm=Re({\u0275dir:Re}),bm=Re({\u0275pipe:Re}),lA=Re({\u0275mod:Re}),Fi=Re({\u0275fac:Re}),Al=Re({__NG_ELEMENT_ID__:Re});let Xj=0;function at(n){return ms(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,id:"c",styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Xj++,r.inputs=fA(n.inputs,t),r.outputs=fA(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(cA):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(dA):null,r})}function cA(n){return cn(n)||function(n){return n[wm]||null}(n)}function dA(n){return function(n){return n[bm]||null}(n)}const hA={};function In(n){return ms(()=>{const e={type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(hA[n.id]=n.type),e})}function fA(n,e){if(null==n)return da;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const J=at;function Bn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function cn(n){return n[oh]||null}function Ir(n,e){const t=n[lA]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}function ui(n){return Array.isArray(n)&&"object"==typeof n[1]}function Hr(n){return Array.isArray(n)&&!0===n[1]}function Cm(n){return 0!=(8&n.flags)}function ch(n){return 2==(2&n.flags)}function dh(n){return 1==(1&n.flags)}function qr(n){return null!==n.template}function i$(n){return 0!=(512&n[2])}function uo(n,e){return n.hasOwnProperty(Fi)?n[Fi]:null}class a${constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ar(){return gA}function gA(n){return n.type.prototype.ngOnChanges&&(n.setInput=l$),u$}function u$(){const n=yA(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===da)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function l$(n,e,t,r){const i=yA(n)||function(n,e){return n[mA]=e}(n,{previous:da,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new a$(u&&u.currentValue,e,o===da),n[r]=e}ar.ngInherit=!0;const mA="__ngSimpleChanges__";function yA(n){return n[mA]||null}let Am;function Sm(){return void 0!==Am?Am:"undefined"!=typeof document?document:void 0}function et(n){return!!n.listen}const wA={createRenderer:(n,e)=>Sm()};function mt(n){for(;Array.isArray(n);)n=n[0];return n}function hh(n,e){return mt(e[n])}function Sr(n,e){return mt(e[n.index])}function Mm(n,e){return n.data[e]}function ur(n,e){const t=e[n];return ui(t)?t:t[0]}function xm(n){return 128==(128&n[2])}function _s(n,e){return null==e?null:n[e]}function EA(n){n[18]=0}function Nm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Z={lFrame:xA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function TA(){return Z.bindingsEnabled}function S(){return Z.lFrame.lView}function we(){return Z.lFrame.tView}function Wt(n){return Z.lFrame.contextLView=n,n[8]}function Ct(){let n=CA();for(;null!==n&&64===n.type;)n=n.parent;return n}function CA(){return Z.lFrame.currentTNode}function li(n,e){const t=Z.lFrame;t.currentTNode=n,t.isParent=e}function Om(){return Z.lFrame.isParent}function km(){Z.lFrame.isParent=!1}function fh(){return Z.isInCheckNoChangesMode}function ph(n){Z.isInCheckNoChangesMode=n}function ya(){return Z.lFrame.bindingIndex++}function Vi(n){const e=Z.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function C$(n,e){const t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rm(e)}function Rm(n){Z.lFrame.currentDirectiveIndex=n}function Pm(n){const e=Z.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Fm(n){Z.lFrame.currentQueryIndex=n}function D$(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function SA(n,e,t){if(t&se.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&se.Host||(i=D$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Z.lFrame=MA();return r.currentTNode=e,r.lView=n,!0}function gh(n){const e=MA(),t=n[1];Z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function MA(){const n=Z.lFrame,e=null===n?null:n.child;return null===e?xA(n):e}function xA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function NA(){const n=Z.lFrame;return Z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const OA=NA;function mh(){const n=NA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return Z.lFrame.selectedIndex}function vs(n){Z.lFrame.selectedIndex=n}function tt(){const n=Z.lFrame;return Mm(n.tView,n.selectedIndex)}function yh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function _h(n,e,t){kA(n,e,3,t)}function vh(n,e,t,r){(3&n[2])===t&&kA(n,e,t,r)}function Lm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function kA(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(P$(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function P$(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ol{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function wh(n,e,t){const r=et(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];Um(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function RA(n){return 3===n||4===n||6===n}function Um(n){return 64===n.charCodeAt(0)}function bh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||PA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function PA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function FA(n){return-1!==n}function _a(n){return 32767&n}function va(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Bm=!0;function Eh(n){const e=Bm;return Bm=n,e}let j$=0;function Rl(n,e){const t=$m(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,jm(r.data,n),jm(e,null),jm(r.blueprint,null));const i=Th(n,e),s=n.injectorIndex;if(FA(i)){const o=_a(i),a=va(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function jm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $m(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Th(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ch(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Al)&&(r=t[Al]),null==r&&(r=t[Al]=j$++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function UA(n,e,t){if(t&se.Optional)return n;ih(e,"NodeInjector")}function BA(n,e,t,r){if(t&se.Optional&&void 0===r&&(r=null),0==(t&(se.Self|se.Host))){const i=n[9],s=gs(void 0);try{return i?i.get(e,r,t&se.Optional):uA(e,r,t&se.Optional)}finally{gs(s)}}return UA(r,e,t)}function jA(n,e,t,r=se.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Al)?n[Al]:void 0;return"number"==typeof e?e>=0?255&e:q$:e}(t);if("function"==typeof s){if(!SA(e,n,r))return r&se.Host?UA(i,t,r):BA(e,t,r,i);try{const o=s(r);if(null!=o||r&se.Optional)return o;ih(t)}finally{OA()}}else if("number"==typeof s){let o=null,a=$m(n,e),u=-1,l=r&se.Host?e[16][6]:null;for((-1===a||r&se.SkipSelf)&&(u=-1===a?Th(n,e):e[a+8],-1!==u&&qA(r,!1)?(o=e[1],a=_a(u),e=va(u,e)):a=-1);-1!==a;){const c=e[1];if(HA(s,a,c.data)){const d=G$(a,e,t,o,r,l);if(d!==$A)return d}u=e[a+8],-1!==u&&qA(r,e[1].data[a+8]===l)&&HA(s,a,e)?(o=c,a=_a(u),e=va(u,e)):a=-1}}}return BA(e,t,r,i)}const $A={};function q$(){return new wa(Ct(),S())}function G$(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const m=o[f];if(f<u&&t===m||f>=u&&m.type===t)return f}if(i){const f=o[u];if(f&&qr(f)&&f.type===t)return u}return null}(a,o,t,null==r?ch(a)&&Bm:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==c?Pl(e,o,c,a):$A}function Pl(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Ol}(i)){const o=i;o.resolving&&function(n,e){throw new rr("200",`Circular dependency in DI detected for ${n}`)}(Cn(s[t]));const a=Eh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?gs(o.injectImpl):null;SA(n,r,se.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=gA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&gs(u),Eh(a),o.resolving=!1,OA()}}return i}function HA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function qA(n,e){return!(n&se.Self||n&se.Host&&e)}class wa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jA(this._tNode,this._lView,e,r,t)}}function lr(n){return ms(()=>{const e=n.prototype.constructor,t=e[Fi]||Hm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Fi]||Hm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hm(n){return iA(n)?()=>{const e=Hm(ae(n));return e&&e()}:uo(n)}const Ea="__parameters__";function Ca(n,e,t){return ms(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(Ea)?u[Ea]:Object.defineProperty(u,Ea,{value:[]})[Ea];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const K$=new re("AnalyzeForEntryComponents");function ci(n,e){n.forEach(t=>Array.isArray(t)?ci(t,e):e(t))}function zA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function cr(n,e,t){let r=Ia(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function zm(n,e){const t=Ia(n,e);if(t>=0)return n[1|t]}function Ia(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Bl={},Km="__NG_DI_FLAG__",Sh="ngTempTokenPath",iH=/\n/gm,JA="__source",oH=Re({provide:String,useValue:Re});let jl;function XA(n){const e=jl;return jl=n,e}function aH(n,e=se.Default){if(void 0===jl)throw new Error("inject() must be called from an injection context");return null===jl?uA(n,void 0,e):jl.get(n,e&se.Optional?null:void 0,e)}function L(n,e=se.Default){return(vm||aH)(ae(n),e)}function Qm(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],u=uH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function $l(n,e){return n[Km]=e,n.prototype[Km]=e,n}function uH(n){return n[Km]}const Hl=$l(Ca("Inject",n=>({token:n})),-1),lt=$l(Ca("Optional"),8),Da=$l(Ca("SkipSelf"),4);let xh,Nh;function Sa(n){var e;return(null===(e=function(){if(void 0===xh&&(xh=null,ke.trustedTypes))try{xh=ke.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return xh}())||void 0===e?void 0:e.createHTML(n))||n}function iS(n){var e;return(null===(e=function(){if(void 0===Nh&&(Nh=null,ke.trustedTypes))try{Nh=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Nh}())||void 0===e?void 0:e.createHTML(n))||n}class lo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bH extends lo{getTypeName(){return"HTML"}}class EH extends lo{getTypeName(){return"Style"}}class TH extends lo{getTypeName(){return"Script"}}class CH extends lo{getTypeName(){return"URL"}}class IH extends lo{getTypeName(){return"ResourceURL"}}function dr(n){return n instanceof lo?n.changingThisBreaksApplicationSecurity:n}function di(n,e){const t=aS(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function aS(n){return n instanceof lo&&n.getTypeName()||null}class NH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Sa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class OH{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Sa(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Sa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const RH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,PH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gl(n){return(n=String(n)).match(RH)||n.match(PH)?n:"unsafe:"+n}function lS(n){return(n=String(n)).split(",").map(e=>Gl(e.trim())).join(", ")}function hi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function zl(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const cS=hi("area,br,col,hr,img,wbr"),dS=hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hS=hi("rp,rt"),Zm=zl(cS,zl(dS,hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zl(hS,hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zl(hS,dS)),ey=hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ty=hi("srcset"),fS=zl(ey,ty,hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),FH=hi("script,style,template");class LH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Zm.hasOwnProperty(t))return this.sanitizedSomething=!0,!FH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!fS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;ey[a]&&(u=Gl(u)),ty[a]&&(u=lS(u)),this.buf.push(" ",o,'="',pS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Zm.hasOwnProperty(t)&&!cS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const VH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UH=/([^\#-~ |!])/g;function pS(n){return n.replace(/&/g,"&amp;").replace(VH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(UH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oh;function gS(n,e){let t=null;try{Oh=Oh||function(n){const e=new OH(n);return function(){try{return!!(new window.DOMParser).parseFromString(Sa(""),"text/html")}catch(n){return!1}}()?new NH(e):e}(n);let r=e?String(e):"";t=Oh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Oh.getInertBodyElement(r)}while(r!==s);return Sa((new LH).sanitizeChildren(ny(t)||t))}finally{if(t){const r=ny(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ny(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function ry(n){const e=Wl();return e?iS(e.sanitize(Fe.HTML,n)||""):di(n,"HTML")?iS(dr(n)):gS(Sm(),ne(n))}function iy(n){const e=Wl();return e?e.sanitize(Fe.URL,n)||"":di(n,"URL")?dr(n):Gl(ne(n))}function Wl(){const n=S();return n&&n[12]}const _S="__ngContext__";function hn(n,e){n[_S]=e}function oy(n){const e=function(n){return n[_S]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function uy(n){return n.ngOriginalError}function rq(n,...e){n.error(...e)}class Ma{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=(n=e)&&n.ngErrorLogger||rq;var n;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&uy(e);for(;t&&uy(t);)t=uy(t);return t||null}}const TS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();function fi(n){return n instanceof Function?n():n}var hr=(()=>((hr=hr||{})[hr.Important=1]="Important",hr[hr.DashCase=2]="DashCase",hr))();function cy(n,e){return undefined(n,e)}function Ql(n){const e=n[3];return Hr(e)?e[3]:e}function dy(n){return SS(n[13])}function hy(n){return SS(n[4])}function SS(n){for(;null!==n&&!Hr(n);)n=n[4];return n}function Na(n,e,t,r,i){if(null!=r){let s,o=!1;Hr(r)?s=r:ui(r)&&(o=!0,r=r[0]);const a=mt(r);0===n&&null!==t?null==i?RS(e,t,a):co(e,t,a,i||null,!0):1===n&&null!==t?co(e,t,a,i||null,!0):2===n?function(n,e,t){const r=kh(n,e);r&&function(n,e,t,r){et(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==mt(t)&&Na(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Yl(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function py(n,e,t){return et(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function xS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Nm(i,-1)),t.splice(r,1)}function gy(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&xS(i,r),e>0&&(n[t-1][4]=r[4]);const s=Dh(n,10+e);!function(n,e){Yl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function NS(n,e){if(!(256&e[2])){const t=e[11];et(t)&&t.destroyNode&&Yl(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return my(n[1],n);for(;e;){let t=null;if(ui(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ui(e)&&my(e[1],e),e=e[3];null===e&&(e=n),ui(e)&&my(e[1],e),t=e&&e[4]}e=t}}(e)}}function my(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ol)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):mt(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&et(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Hr(e[3])){t!==e[3]&&xS(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function OS(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===jr.None||i===jr.Emulated)return null}return Sr(r,t)}(n,e.parent,t)}function co(n,e,t,r,i){et(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function RS(n,e,t){et(n)?n.appendChild(e,t):e.appendChild(t)}function PS(n,e,t,r,i){null!==r?co(n,e,t,r,i):RS(n,e,t)}function kh(n,e){return et(n)?n.parentNode(e):e.parentNode}let VS=function(n,e,t){return 40&n.type?Sr(n,t):null};function Rh(n,e,t,r){const i=OS(n,r,e),s=e[11],a=function(n,e,t){return VS(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)PS(s,i,t[u],a,!1);else PS(s,i,t,a,!1)}function Ph(n,e){if(null!==e){const t=e.type;if(3&t)return Sr(e,n);if(4&t)return _y(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ph(n,r);{const i=n[e.index];return Hr(i)?_y(-1,i):mt(i)}}if(32&t)return cy(e,n)()||mt(n[e.index]);{const r=BS(n,e);return null!==r?Array.isArray(r)?r[0]:Ph(Ql(n[16]),r):Ph(n,e.next)}}return null}function BS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function _y(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Ph(r,i)}return e[7]}function vy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&hn(mt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)vy(n,e,t.child,r,i,s,!1),Na(e,n,i,a,s);else if(32&u){const l=cy(t,r);let c;for(;c=l();)Na(e,n,i,c,s);Na(e,n,i,a,s)}else 16&u?$S(n,e,r,t,i,s):Na(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Yl(n,e,t,r,i,s){vy(t,r,n.firstChild,e,i,s,!1)}function $S(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Na(e,n,i,u[l],s);else vy(n,e,u,o[3],i,s,!0)}function HS(n,e,t){et(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function wy(n,e,t){et(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function qS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const GS="ng-template";function Nq(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==qS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function zS(n){return 4===n.type&&n.value!==GS}function Oq(n,e,t){return e===(4!==n.type||t?n.value:GS)}function kq(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(RA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Oq(n,u,t)||""===u&&1===e.length){if(Gr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Nq(n.attrs,l,t)){if(Gr(r))return!1;o=!0}continue}const d=Rq(8&r?"class":u,i,zS(n),t);if(-1===d){if(Gr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==qS(f,l,0)||2&r&&l!==h){if(Gr(r))return!1;o=!0}}}}else{if(!o&&!Gr(r)&&!Gr(u))return!1;if(o&&Gr(u))continue;o=!1,r=u|1&r}}return Gr(r)||o}function Gr(n){return 0==(1&n)}function Rq(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function WS(n,e,t=!1){for(let r=0;r<e.length;r++)if(kq(n,e[r],t))return!0;return!1}function KS(n,e){return n?":not("+e.trim()+")":e}function Uq(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gr(o)&&(e+=KS(s,i),i=""),r=o,s=s||!Gr(r);t++}return""!==i&&(e+=KS(s,i)),e}const ie={};function E(n){QS(we(),S(),An()+n,fh())}function QS(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&_h(e,s,t)}else{const s=n.preOrderHooks;null!==s&&vh(e,s,0,t)}vs(t)}function Fh(n,e){return n<<17|e<<2}function zr(n){return n>>17&32767}function by(n){return 2|n}function Ui(n){return(131068&n)>>2}function Ey(n,e){return-131069&n|e<<2}function Ty(n){return 1|n}function o1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Fm(i),o.contentQueries(2,e[s],s)}}}function Jl(n,e,t,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,EA(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=u||n&&n[12]||null,c[9]=l||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function Oa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=CA(),o=Om(),u=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),Z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=Z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return li(s,!0),s}function ka(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Xl(n,e,t){gh(e);try{const r=n.viewQuery;null!==r&&jy(1,r,t);const i=n.template;null!==i&&a1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&o1(n,e),n.staticViewQueries&&jy(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)b3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,mh()}}function Ra(n,e,t,r){const i=e[2];if(256==(256&i))return;gh(e);const s=fh();try{EA(e),function(n){Z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&a1(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&_h(e,l,null)}else{const l=n.preOrderHooks;null!==l&&vh(e,l,0,null),Lm(e,0)}if(function(n){for(let e=dy(n);null!==e;e=hy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Nm(s,1),i[2]|=1024}}}(e),function(n){for(let e=dy(n);null!==e;e=hy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];xm(r)&&Ra(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&o1(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&_h(e,l)}else{const l=n.contentHooks;null!==l&&vh(e,l,1),Lm(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)vs(~i);else{const s=i,o=t[++r],a=t[++r];C$(o,s),a(2,e[s])}}}finally{vs(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)w3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&jy(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&_h(e,l)}else{const l=n.viewHooks;null!==l&&vh(e,l,2),Lm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Nm(e[3],-1))}finally{mh()}}function t3(n,e,t,r){const i=e[10],s=!fh(),o=function(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Xl(n,e,r),Ra(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function a1(n,e,t,r,i){const s=An(),o=2&r;try{vs(-1),o&&e.length>20&&QS(n,e,20,fh()),t(r,i)}finally{vs(s)}}function u1(n,e,t){if(Cm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function ky(n,e,t){!TA()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Rl(t,e),hn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=qr(u);l&&g3(e,t,u);const c=Pl(e,n,a,t);hn(c,e),null!==o&&m3(0,a-i,c,u,0,o),l&&(ur(t.index,e)[8]=c)}}(n,e,t,Sr(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Z.lFrame.currentDirectiveIndex;try{vs(o);for(let u=r;u<i;u++){const l=n.data[u],c=e[u];Rm(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&m1(l,c)}}finally{vs(-1),Rm(a)}}(n,e,t))}function Ry(n,e,t=Sr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function l1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Uh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Uh(n,e,t,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ie);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function f1(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function fr(n,e,t,r,i,s,o,a){const u=Sr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(D1(n,t,c,r,i),ch(e)&&function(n,e){const t=ur(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,et(s)?s.setProperty(u,r,i):Um(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Py(n,e,t,r){let i=!1;if(TA()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];WS(t,o.selectors,!1)&&(i||(i=[]),Ch(Rl(t,e),n,o.type),qr(o)?(y1(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,_1(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=ka(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=bh(t.mergedAttrs,d.hostAttrs),v1(n,t,e,l,d),p3(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||zS(e)?null:y3(d,s);o.push(h),a=f1(d,l,a),u=f1(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new rr("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=bh(t.mergedAttrs,t.attrs),i}function g1(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function m1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function y1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function p3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qr(e)&&(t[""]=n)}}function _1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function v1(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=uo(i.type)),o=new Ol(s,qr(i),null);n.blueprint[r]=o,t[r]=o,g1(n,e,0,r,ka(n,t,i.hostVars,ie),i)}function g3(n,e,t){const r=Sr(e,n),i=l1(t),s=n[10],o=Bh(n,Jl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function pi(n,e,t,r,i,s){const o=Sr(n,e);!function(n,e,t,r,i,s,o){if(null==s)et(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ne(s):o(s,r||"",i);et(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function m3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function y3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function w1(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function w3(n,e){const t=ur(e,n);if(xm(t)){const r=t[1];80&t[2]?Ra(r,t,r.template,t[8]):t[5]>0&&Ly(t)}}function Ly(n){for(let r=dy(n);null!==r;r=hy(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ra(o,s,o.template,s[8])}else s[5]>0&&Ly(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=ur(t[r],n);xm(i)&&i[5]>0&&Ly(i)}}function b3(n,e){const t=ur(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Xl(r,t,t[8])}function Bh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Vy(n){for(;n;){n[2]|=64;const e=Ql(n);if(i$(n)&&!e)return n;n=e}return null}function By(n,e,t){const r=e[10];r.begin&&r.begin();try{Ra(n,e,n.template,t)}catch(i){throw I1(e,i),i}finally{r.end&&r.end()}}function b1(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=oy(t),i=r[1];t3(i,r,i.template,t)}}(n[8])}function jy(n,e,t){Fm(0),e(n,t)}const D3=(()=>Promise.resolve(null))();function E1(n){return n[7]||(n[7]=[])}function T1(n){return n.cleanup||(n.cleanup=[])}function I1(n,e){const t=n[9],r=t?t.get(Ma,null):null;r&&r.handleError(e)}function D1(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Bi(n,e,t){const r=hh(e,n);!function(n,e,t){et(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function jh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=gm(i,a):2==s&&(r=gm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const $y=new re("INJECTOR",-1);class A1{get(e,t=Bl){if(t===Bl){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}}const Hy=new re("Set Injector scope."),Zl={},M3={};let qy;function S1(){return void 0===qy&&(qy=new A1),qy}function M1(n,e=null,t=null,r){const i=x1(n,e,t,r);return i._resolveInjectorDefTypes(),i}function x1(n,e=null,t=null,r){return new x3(n,t,e||S1(),r)}class x3{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ci(t,a=>this.processProvider(a,e,t)),ci([e],a=>this.processInjectorType(a,[],s)),this.records.set($y,Pa(void 0,this));const o=this.records.get(Hy);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Bl,r=se.Default){this.assertNotDestroyed();const i=XA(this),s=gs(void 0);try{if(!(r&se.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(n=e)||"object"==typeof n&&n instanceof re)&&ym(e);a=u&&this.injectableDefInScope(u)?Pa(Gy(e),Zl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&se.Self?S1():this.parent).get(e,t=r&se.Optional&&t===Bl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Sh]=o[Sh]||[]).unshift(ve(e)),i)throw o;return function(n,e,t,r){const i=n[Sh];throw e[JA]&&i.unshift(e[JA]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(iH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Sh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{gs(s),XA(i)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=ae(e)))return!1;let i=oA(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=oA(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{ci(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];ci(f,m=>this.processProvider(m,h,f||Pe))}}this.injectorDefTypes.add(o);const u=uo(o)||(()=>new o);this.records.set(o,Pa(u,Zl));const l=i.providers;if(null!=l&&!a){const c=e;ci(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Fa(e=ae(e))?e:ae(e&&e.provide);const s=function(n,e,t){return O1(n)?Pa(void 0,n.useValue):Pa(N1(n),Zl)}(e);if(Fa(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Pa(void 0,Zl,!0),o.factory=()=>Qm(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Zl&&(t.value=M3,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Gy(n){const e=ym(n),t=null!==e?e.factory:uo(n);if(null!==t)return t;if(n instanceof re)throw new Error(`Token ${ve(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=function(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${ve(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[sh]||n[aA]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function N1(n,e,t){let r;if(Fa(n)){const i=ae(n);return uo(i)||Gy(i)}if(O1(n))r=()=>ae(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Qm(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>L(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return uo(i)||Gy(i);r=()=>new i(...Qm(n.deps))}return r}function Pa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function O1(n){return null!==n&&"object"==typeof n&&oH in n}function Fa(n){return"function"==typeof n}let ct=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return M1({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return M1({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Bl,n.NULL=new A1,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>L($y)}),n.__NG_ELEMENT_ID__=-1,n})();function z3(n,e){yh(oy(n)[1],Ct())}function je(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Ky(n.inputs),o.declaredInputs=Ky(n.declaredInputs),o.outputs=Ky(n.outputs);const a=i.hostBindings;a&&Y3(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&K3(n,u),l&&Q3(n,l),pm(n.inputs,i.inputs),pm(n.declaredInputs,i.declaredInputs),pm(n.outputs,i.outputs),qr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===je&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bh(i.hostAttrs,t=bh(t,i.hostAttrs))}}(r)}function Ky(n){return n===da?{}:n===Pe?[]:n}function K3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Q3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Y3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let $h=null;function La(){if(!$h){const n=ke.Symbol;if(n&&n.iterator)$h=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($h=r)}}}return $h}function ec(n){return!!Qy(n)&&(Array.isArray(n)||!(n instanceof Map)&&La()in n)}function Qy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function $n(n,e,t,r){const i=S();return fn(i,ya(),e)&&(we(),pi(tt(),i,n,e,t,r)),$n}function M(n,e,t,r,i,s,o,a){const u=S(),l=we(),c=n+20,d=l.firstCreatePass?function(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Oa(e,n,4,o||null,_s(l,a));Py(e,t,c,_s(l,u)),yh(e,c);const d=c.tViews=Uh(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];li(d,!1);const h=u[11].createComment("");Rh(l,u,h,d),hn(h,u),Bh(u,u[c]=w1(h,u,h,d)),dh(d)&&ky(l,u,d),null!=o&&Ry(u,d,a)}function T(n,e=se.Default){const t=S();return null===t?L(n,e):jA(Ct(),t,ae(n),e)}function e_(){throw new Error("invalid")}function D(n,e,t){const r=S();return fn(r,ya(),e)&&fr(we(),tt(),r,n,e,r[11],t,!1),D}function t_(n,e,t,r,i){const o=i?"class":"style";D1(n,t,e.inputs[o],o,r)}function p(n,e,t,r){const i=S(),s=we(),o=20+n,a=i[11],u=i[o]=py(a,e,Z.lFrame.currentNamespace),l=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,l=Oa(e,n,2,i,_s(a,s));return Py(e,t,l,_s(a,o)),null!==l.attrs&&jh(l,l.attrs,!1),null!==l.mergedAttrs&&jh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];li(l,!0);const c=l.mergedAttrs;null!==c&&wh(a,u,c);const d=l.classes;null!==d&&wy(a,u,d);const h=l.styles;null!==h&&HS(a,u,h),64!=(64&l.flags)&&Rh(s,i,u,l),0===Z.lFrame.elementDepthCount&&hn(u,i),Z.lFrame.elementDepthCount++,dh(l)&&(ky(s,i,l),u1(s,l,i)),null!==r&&Ry(i,l)}function g(){let n=Ct();Om()?km():(n=n.parent,li(n,!1));const e=n;Z.lFrame.elementDepthCount--;const t=we();t.firstCreatePass&&(yh(t,n),Cm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&t_(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&t_(t,e,S(),e.stylesWithoutHost,!1)}function G(n,e,t,r){p(n,e,t,r),g()}function Gh(n,e,t){const r=S(),i=we(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=_s(s,r),a=Oa(e,n,8,"ng-container",o);return null!==o&&jh(a,o,!0),Py(e,t,a,_s(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];li(o,!0);const a=r[s]=r[11].createComment("");Rh(i,r,a,o),hn(a,r),dh(o)&&(ky(i,r,o),u1(i,o,r)),null!=t&&Ry(r,o)}function zh(){let n=Ct();const e=we();Om()?km():(n=n.parent,li(n,!1)),e.firstCreatePass&&(yh(e,n),Cm(n)&&e.queries.elementEnd(n))}function pr(){return S()}function nc(n){return!!n&&"function"==typeof n.then}const n_=function(n){return!!n&&"function"==typeof n.subscribe};function de(n,e,t,r){const i=S(),s=we(),o=Ct();return function(n,e,t,r,i,s,o,a){const u=dh(r),c=n.firstCreatePass&&T1(n),d=e[8],h=E1(e);let f=!0;if(3&r.type||a){const v=Sr(r,e),b=a?a(v):v,w=h.length,N=a?P=>a(mt(P[r.index])):r.index;if(et(t)){let P=null;if(!a&&u&&(P=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=r_(r,e,d,s,!1);const K=t.listen(b,i,s);h.push(s,K),c&&c.push(i,N,w,w+1)}}else s=r_(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),c&&c.push(i,N,w,o)}else s=r_(r,e,d,s,!1);const m=r.outputs;let _;if(f&&null!==m&&(_=m[i])){const v=_.length;if(v)for(let b=0;b<v;b+=2){const Se=e[_[b]][_[b+1]].subscribe(s),Ne=h.length;h.push(s,Se),c&&c.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[11],o,n,e,!!t,r),de}function fM(n,e,t,r){try{return!1!==t(r)}catch(i){return I1(n,i),!1}}function r_(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?ur(n.index,e):e;0==(32&e[2])&&Vy(a);let u=fM(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=fM(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function q(n=1){return function(n){return(Z.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,Z.lFrame.contextLView))[8]}(n)}function TM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?zr(s):Ui(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];RG(n[a],e)&&(u=!0,n[a+1]=r?Ty(c):by(c)),a=r?zr(c):Ui(c)}u&&(n[t+1]=r?by(s):Ty(s))}function RG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ia(n,e)>=0}const Dt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CM(n){return n.substring(Dt.key,Dt.keyEnd)}function IM(n,e){const t=Dt.textEnd;return t===e?-1:(e=Dt.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Dt.key=e,t),Ka(n,e,t))}function Ka(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Qa(n,e,t){return Kr(n,e,t,!1),Qa}function Wh(n,e){return Kr(n,e,null,!0),Wh}function ji(n){!function(n,e,t,r){const i=we(),s=Vi(2);i.firstUpdatePass&&NM(i,null,s,r);const o=S();if(t!==ie&&fn(o,s,t)){const a=i.data[An()];if(PM(a,r)&&!xM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=gm(u,t||"")),t_(i,a,o,t,r)}else!function(n,e,t,r,i,s,o,a){i===ie&&(i=Pe);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let _,m=null;c===d?(u+=2,l+=2,h!==f&&(m=d,_=f)):null===d||null!==c&&c<d?(u+=2,m=c):(l+=2,m=d,_=f),null!==m&&kM(n,e,t,r,m,_,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(n,e,t){if(null==t||""===t)return Pe;const r=[],i=dr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(cr,yi,n,!0)}function yi(n,e){for(let t=function(n){return function(n){Dt.key=0,Dt.keyEnd=0,Dt.value=0,Dt.valueEnd=0,Dt.textEnd=n.length}(n),IM(n,Ka(n,0,Dt.textEnd))}(e);t>=0;t=IM(e,t))cr(n,CM(e),!0)}function Kr(n,e,t,r){const i=S(),s=we(),o=Vi(2);s.firstUpdatePass&&NM(s,n,o,r),e!==ie&&fn(i,o,e)&&kM(s,s.data[An()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ve(dr(n)))),n}(e,t),r,o)}function xM(n,e){return e>=n.expandoStartIndex}function NM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[An()],o=xM(n,t);PM(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=Pm(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=rc(t=s_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=s_(i,n,e,t,r),null===s){let u=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ui(r))return n[zr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=s_(null,n,e,u[1],r),u=rc(u,e.attrs,r),function(n,e,t,r){n[zr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=rc(r,n[s].hostAttrs,t);return rc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zr(o),u=Ui(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Ia(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=zr(n[a+1]);n[r+1]=Fh(h,a),0!==h&&(n[h+1]=Ey(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Fh(a,0),0!==a&&(n[a+1]=Ey(n[a+1],r)),a=r;else n[r+1]=Fh(u,0),0===a?a=r:n[u+1]=Ey(n[u+1],r),u=r;l&&(n[r+1]=by(n[r+1])),TM(n,c,r,!0),TM(n,c,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ia(s,e)>=0&&(t[r+1]=Ty(t[r+1]))}(e,c,n,r,s),o=Fh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function s_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=rc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function rc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),cr(n,o,!!t||e[++s]))}return void 0===n?null:n}function kM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Kh(function(n){return 1==(1&n)}(l)?RM(u,e,t,i,Ui(l),o):void 0)||(Kh(s)||function(n){return 2==(2&n)}(l)&&(s=RM(u,null,t,i,a,o)),function(n,e,t,r,i){const s=et(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:hr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=hr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,hh(An(),t),i,s))}function RM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ie&&(h=d?Pe:void 0);let f=d?zm(h,r):c===r?h:void 0;if(l&&!Kh(f)&&(f=zm(u,r)),Kh(f)&&(a=f,o))return a;const m=n[i+1];i=o?zr(m):Ui(m)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=zm(u,r))}return a}function Kh(n){return void 0!==n}function PM(n,e){return 0!=(n.flags&(e?16:32))}function C(n,e=""){const t=S(),r=we(),i=n+20,s=r.firstCreatePass?Oa(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return et(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Rh(r,t,o,s),li(s,!1)}function Ye(n){return Hn("",n,""),Ye}function Hn(n,e,t){const r=S(),i=function(n,e,t,r){return fn(n,ya(),t)?e+ne(t)+r:ie}(r,n,e,t);return i!==ie&&Bi(r,An(),i),Hn}function o_(n,e,t){const r=S();if(fn(r,ya(),e)){const s=we(),o=tt();fr(s,o,r,n,e,function(n,e,t){return(null===n||qr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(Pm(s.data),o,r),t,!0)}return o_}const fo=void 0;var pz=["en",[["a","p"],["AM","PM"],fo],[["AM","PM"],fo,fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fo,"{1} 'at' {0}",fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ya={};function Mn(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=tx(e);if(t)return t;const r=e.split("-")[0];if(t=tx(r),t)return t;if("en"===r)return pz;throw new Error(`Missing locale data for the locale "${n}".`)}function tx(n){return n in Ya||(Ya[n]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[n]),Ya[n]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const Qh="en-US";let nx=Qh;function l_(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let s=0;s<n.length;s++)l_(n[s],e,t,r,i);else{const s=we(),o=S();let a=Fa(n)?n:ae(n.provide),u=N1(n);const l=Ct(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Fa(n)||!n.multi){const f=new Ol(u,i,T),m=d_(a,e,i?c:c+h,d);-1===m?(Ch(Rl(l,o),s,a),c_(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[m]=f,o[m]=f)}else{const f=d_(a,e,c+h,d),m=d_(a,e,c,c+h),_=f>=0&&t[f],v=m>=0&&t[m];if(i&&!v||!i&&!_){Ch(Rl(l,o),s,a);const b=function(n,e,t,r,i){const s=new Ol(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,Dx(s,i,r&&!t),s}(i?hW:dW,t.length,i,r,u);!i&&v&&(t[m].providerFactory=b),c_(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(b),o.push(b)}else c_(s,n,f>-1?f:m,Dx(t[i?m:f],u,!i&&r));!i&&r&&v&&t[m].componentProviders++}}}function c_(n,e,t,r){const i=Fa(e),s=function(n){return!!n.useClass}(e);if(i||s){const u=(s?ae(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Dx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function d_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function dW(n,e,t,r){return h_(this.multi,[])}function hW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Pl(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),h_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],h_(i,s);return s}function h_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=we();if(r.firstCreatePass){const i=qr(n);l_(t,r.data,r.blueprint,i,!0),l_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ax{}class mW{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let po=(()=>{class n{}return n.NULL=new mW,n})();function yW(){return Xa(Ct(),S())}function Xa(n,e){return new gr(Sr(n,e))}let gr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=yW,n})();class uc{}let $i=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=S(),t=ur(Ct().index,n);return function(n){return n[11]}(ui(t)?t:n)}(),n})(),bW=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class Za{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Mx=new Za("13.1.1"),f_={};function ef(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(mt(s)),Hr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&ef(u[1],u,l,r)}const o=t.type;if(8&o)ef(n,e,t.child,r);else if(32&o){const a=cy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=BS(e,t);if(Array.isArray(a))r.push(...a);else{const u=Ql(e[16]);ef(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class lc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ef(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Hr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(gy(e,r),Dh(t,r))}this._attachedToViewContainer=!1}NS(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,r){const i=E1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&T1(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){By(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){ph(!0);try{By(n,e,t)}finally{ph(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Yl(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class EW extends lc{constructor(e){super(e),this._view=e}detectChanges(){b1(this._view)}checkNoChanges(){!function(n){ph(!0);try{b1(n)}finally{ph(!1)}}(this._view)}get context(){return null}}class xx extends po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=cn(e);return new p_(t,this.ngModule)}}function Nx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const CW=new re("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>TS});class p_ extends Ax{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Uq).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Nx(this.componentDef.inputs)}get outputs(){return Nx(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,f_,i);return s!==f_||r===f_?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(uc,wA),a=s.get(bW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(n,e,t){if(et(n))return n.selectRootElement(e,t===jr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):py(o.createRenderer(null,this.componentDef),l,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||TS,clean:D3,playerHandler:e||null,flags:0}}(),f=Uh(0,null,null,1,0,null,null,null,null,null),m=Jl(null,f,h,d,null,null,o,u,a,s);let _,v;gh(m);try{const b=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Oa(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(jh(u,l,!0),null!==n&&(wh(i,n,l),null!==u.classes&&wy(i,n,u.classes),null!==u.styles&&HS(i,n,u.styles)));const c=r.createRenderer(n,e),d=Jl(t,l1(e),null,e.onPush?64:16,t[20],u,r,c,s||null,null);return o.firstCreatePass&&(Ch(Rl(u,t),o,e.type),y1(o,u),_1(u,t.length,1)),Bh(t,d),t[20]=d}(c,this.componentDef,m,o,u);if(c)if(r)wh(u,c,["ng-version",Mx.full]);else{const{attrs:w,classes:N}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Gr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&wh(u,c,w),N&&N.length>0&&wy(u,c,N.join(" "))}if(v=Mm(f,20),void 0!==t){const w=v.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const P=t[N];w.push(null!=P?Array.from(P):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Ct();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),v1(n,r,e,ka(n,e,1,null),t));const i=Pl(e,n,r.directiveStart,r);hn(i,e);const s=Sr(r,e);return s&&hn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Ct();e.contentQueries(1,o,u.directiveStart)}const a=Ct();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(vs(a.index),g1(t[1],a,0,a.directiveStart,a.directiveEnd,e),m1(e,o)),o}(b,this.componentDef,m,h,[z3]),Xl(f,m,null)}finally{mh()}return new AW(this.componentType,_,Xa(v,m),m,v)}}class AW extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new EW(i),this.componentType=e}get injector(){return new wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Hi{}class Ox{}const eu=new Map;class Px extends Hi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xx(this);const r=Ir(e);this._bootstrapComponents=fi(r.bootstrap),this._r3Injector=x1(e,t,[{provide:Hi,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ct.THROW_IF_NOT_FOUND,r=se.Default){return e===ct||e===Hi||e===$y?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class g_ extends Ox{constructor(e){super(),this.moduleType=e,null!==Ir(e)&&function(n){const e=new Set;!function t(r){const i=Ir(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ve(e)} vs ${ve(e.name)}`)}(s,eu.get(s),r),eu.set(s,r));const o=fi(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new Px(this.moduleType,e)}}function mr(n,e,t,r){return function(n,e,t,r,i,s){const o=e+t;return fn(n,o,i)?function(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function(n,e){const t=n[e];return t===ie?void 0:t}(n,o+1)}(S(),function(){const n=Z.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function m_(n){return e=>{setTimeout(n,void 0,e)}}const rt=class extends un{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=m_(u),a&&(a=m_(a)),l&&(l=m_(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof gt&&e.add(c),c}};Symbol;let qi=(()=>{class n{}return n.__NG_ELEMENT_ID__=YW,n})();const KW=qi,QW=class extends KW{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Jl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Xl(t,r,e),new lc(r)}};function YW(){return function(n,e){return 4&n.type?new QW(e,n,Xa(n,e)):null}(Ct(),S())}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=JW,n})();function JW(){return function(n,e){let t;const r=e[n.index];if(Hr(r))t=r;else{let i;if(8&n.type)i=mt(r);else{const s=e[11];i=s.createComment("");const o=Sr(n,e);co(s,kh(s,o),i,function(n,e){return et(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=w1(r,e,i,n),Bh(e,t)}return new jx(t,n,e)}(Ct(),S())}const XW=Yr,jx=class extends XW{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xa(this._hostTNode,this._hostLView)}get injector(){return new wa(this._hostTNode,this._hostLView)}get parentInjector(){const e=Th(this._hostTNode,this._hostLView);if(FA(e)){const t=va(e,this._hostLView),r=_a(e);return new wa(t[1].data[r+8],t)}return new wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=$x(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new p_(cn(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule&&l){const d=l.get(Hi,null);d&&(s=d)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(Hr(r[3])){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new jx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],zA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=_y(s,o),u=r[11],l=kh(u,o[7]);return null!==l&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Yl(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),zA(__(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=$x(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=gy(this._lContainer,t);r&&(Dh(__(this._lContainer),t),NS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=gy(this._lContainer,t);return r&&null!=Dh(__(this._lContainer),t)?new lc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function $x(n){return n[8]}function __(n){return n[8]||(n[8]=[])}function sf(...n){}const of=new re("Application Initializer");let nu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=sf,this.reject=sf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(nc(s))t.push(s);else if(n_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(of,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const fc=new re("AppId"),D4={provide:fc,useFactory:function(){return`${O_()}${O_()}${O_()}`},deps:[]};function O_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dN=new re("Platform Initializer"),pc=new re("Platform ID"),hN=new re("appBootstrapListener");let fN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ts=new re("LocaleId"),pN=new re("DefaultCurrencyCode");class A4{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let af=(()=>{class n{compileModuleSync(t){return new g_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=fi(Ir(t).declarations).reduce((o,a)=>{const u=cn(a);return u&&o.push(new p_(u)),o},[]);return new A4(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const M4=(()=>Promise.resolve(0))();function k_(n){"undefined"==typeof Zone?M4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,P_(n),n.isCheckStableRunning=!0,R_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),P_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return gN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),mN(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return gN(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),mN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,P_(n),R_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N4,sf,sf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const N4={};function R_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function P_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mN(n){n._nesting--,R_(n)}class R4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let F_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),k_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),yN=(()=>{class n{constructor(){this._applications=new Map,L_.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return L_.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class P4{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Jr,L_=new P4;const _N=new re("AllowMultipleToken");class vN{constructor(e,t){this.name=e,this.token=t}}function wN(n,e,t=[]){const r=`Platform: ${e}`,i=new re(r);return(s=[])=>{let o=bN();if(!o||o.injector.get(_N,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Hy,useValue:"platform"});!function(n){if(Jr&&!Jr.destroyed&&!Jr.injector.get(_N,!1))throw new rr("400","");Jr=n.get(EN);const e=n.get(dN,null);e&&e.forEach(t=>t())}(ct.create({providers:a,name:r}))}return function(n){const e=bN();if(!e)throw new rr("401","");return e}()}}function bN(){return Jr&&!Jr.destroyed?Jr:null}let EN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new R4:("zone.js"===n?void 0:n)||new Le({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Le,useValue:a}];return a.run(()=>{const l=ct.create({providers:u,parent:this.injector,name:t.moduleType.name}),c=t.create(l),d=c.injector.get(Ma,null);if(!d)throw new rr("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{V_(this._modules,c),h.unsubscribe()})}),function(n,e,t){try{const r=t();return nc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(nu);return h.runInitializers(),h.donePromise.then(()=>(function(n){sr(n,"Expected localeId to be defined"),"string"==typeof n&&(nx=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Ts,Qh)||Qh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=TN({},r);return function(n,e,t){const r=new g_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(go);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new rr("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new rr("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function TN(n,e){return Array.isArray(e)?e.reduce(TN,n):Object.assign(Object.assign({},n),e)}let go=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new He(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new He(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),k_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function(...n){const e=Dl(n),t=function(n,e){return"number"==typeof hm(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?ai(r[0]):Il(t)(kt(r,e)):Ri}(a,u.pipe(function(n={}){const{connector:e=(()=>new un),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},m=()=>{const _=o;f(),null==_||_.unsubscribe()};return zt((_,v)=>{l++,!d&&!c&&h();const b=u=null!=u?u:e();v.add(()=>{l--,0===l&&!d&&!c&&(a=fm(m,i))}),b.subscribe(v),o||(o=new me({next:w=>b.next(w),error:w=>{d=!0,h(),a=fm(f,t,w),b.error(w)},complete:()=>{c=!0,h(),a=fm(f,r),b.complete()}}),kt(_).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new rr("405","");let i;i=t instanceof Ax?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Hi),a=i.create(ct.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(F_,null),c=l&&a.injector.get(yN);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),V_(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new rr("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;V_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hN,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(L(Le),L(ct),L(Ma),L(po),L(nu))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function V_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let IN=!0,U_=(()=>{class n{}return n.__NG_ELEMENT_ID__=z4,n})();function z4(n){return function(n,e,t){if(ch(n)&&!t){const r=ur(n.index,e);return new lc(r,r)}return 47&n.type?new lc(e[16],e):null}(Ct(),S(),16==(16&n))}class ON{constructor(){}supports(e){return ec(e)}create(e){return new Z4(e)}}const X4=(n,e)=>e;class Z4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||X4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<RN(r,i,s)?t:r,a=RN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,m=f+h;c<=m&&m<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ec(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[La()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new e8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new kN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class e8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class t8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class kN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new t8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class PN{constructor(){}supports(e){return e instanceof Map||Qy(e)}create(){return new n8}}class n8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Qy(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new r8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class r8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FN(){return new gc([new ON])}let gc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||FN()),deps:[[n,new Da,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:FN}),n})();function LN(){return new ru([new PN])}let ru=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LN()),deps:[[n,new Da,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:LN}),n})();const s8=[new PN],a8=new gc([new ON]),u8=new ru(s8),l8=wN(null,"core",[{provide:pc,useValue:"unknown"},{provide:EN,deps:[ct]},{provide:yN,deps:[]},{provide:fN,deps:[]}]),p8=[{provide:go,useClass:go,deps:[Le,ct,Ma,po,nu]},{provide:CW,deps:[Le],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:nu,useClass:nu,deps:[[new lt,of]]},{provide:af,useClass:af,deps:[]},D4,{provide:gc,useFactory:function(){return a8},deps:[]},{provide:ru,useFactory:function(){return u8},deps:[]},{provide:Ts,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Qh},deps:[[new Hl(Ts),new lt,new Da]]},{provide:pN,useValue:"USD"}];let m8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(go))},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:p8}),n})(),lf=null;function _i(){return lf}const Pt=new re("DocumentToken");let yo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(){return L(VN)},providedIn:"platform"}),n})();const b8=new re("Location Initialized");let VN=(()=>{class n extends yo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(t){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){UN()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){UN()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:function(){return new VN(L(Pt))},providedIn:"platform"}),n})();function UN(){return!!window.history.pushState}function q_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Gi(n){return n&&"?"!==n[0]?"?"+n:n}let iu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(){return function(n){const e=L(Pt).location;return new jN(L(yo),e&&e.origin||"")}()},providedIn:"root"}),n})();const G_=new re("appBaseHref");let jN=(()=>{class n extends iu{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Gi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Gi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(yo),L(G_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),C8=(()=>{class n extends iu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=q_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(yo),L(G_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),z_=(()=>{class n{constructor(t,r){this._subject=new rt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=BN($N(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gi(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$N(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Gi,n.joinWithSlash=q_,n.stripTrailingSlash=BN,n.\u0275fac=function(t){return new(t||n)(L(iu),L(yo))},n.\u0275prov=X({token:n,factory:function(){return new z_(L(iu),L(yo))},providedIn:"root"}),n})();function $N(n){return n.replace(/\/index.html$/,"")}var yt=(()=>((yt=yt||{})[yt.Zero=0]="Zero",yt[yt.One=1]="One",yt[yt.Two=2]="Two",yt[yt.Few=3]="Few",yt[yt.Many=4]="Many",yt[yt.Other=5]="Other",yt))(),dt=(()=>((dt=dt||{})[dt.Format=0]="Format",dt[dt.Standalone=1]="Standalone",dt))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Je=(()=>((Je=Je||{})[Je.Short=0]="Short",Je[Je.Medium=1]="Medium",Je[Je.Long=2]="Long",Je[Je.Full=3]="Full",Je))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function cf(n,e){return Or(Mn(n)[V.DateFormat],e)}function df(n,e){return Or(Mn(n)[V.TimeFormat],e)}function hf(n,e){return Or(Mn(n)[V.DateTimeFormat],e)}function Nr(n,e){const t=Mn(n),r=t[V.NumberSymbols][e];if(void 0===r){if(e===W.CurrencyDecimal)return t[V.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return t[V.NumberSymbols][W.Group]}return r}const k8=function(n){return Mn(n)[V.PluralCase]};function qN(n){if(!n[V.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[V.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Or(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function K_(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const U8=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mc={},B8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),Q=(()=>((Q=Q||{})[Q.FullYear=0]="FullYear",Q[Q.Month=1]="Month",Q[Q.Date=2]="Date",Q[Q.Hours=3]="Hours",Q[Q.Minutes=4]="Minutes",Q[Q.Seconds=5]="Seconds",Q[Q.FractionalSeconds=6]="FractionalSeconds",Q[Q.Day=7]="Day",Q))(),le=(()=>((le=le||{})[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le))();function ff(n,e,t,r){let i=function(n){if(WN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return pf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(U8))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,l),e}(r)}const e=new Date(n);if(!WN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=zi(t,e)||e;let a,o=[];for(;e;){if(a=B8.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const c=o.pop();if(!c)break;e=c}}let u=i.getTimezoneOffset();r&&(u=zN(r,u),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(zN(e,i)-i))}(i,r));let l="";return o.forEach(c=>{const d=function(n){if(Y_[n])return Y_[n];let e;switch(n){case"G":case"GG":case"GGG":e=$e(le.Eras,ge.Abbreviated);break;case"GGGG":e=$e(le.Eras,ge.Wide);break;case"GGGGG":e=$e(le.Eras,ge.Narrow);break;case"y":e=_t(Q.FullYear,1,0,!1,!0);break;case"yy":e=_t(Q.FullYear,2,0,!0,!0);break;case"yyy":e=_t(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=_t(Q.FullYear,4,0,!1,!0);break;case"Y":e=_f(1);break;case"YY":e=_f(2,!0);break;case"YYY":e=_f(3);break;case"YYYY":e=_f(4);break;case"M":case"L":e=_t(Q.Month,1,1);break;case"MM":case"LL":e=_t(Q.Month,2,1);break;case"MMM":e=$e(le.Months,ge.Abbreviated);break;case"MMMM":e=$e(le.Months,ge.Wide);break;case"MMMMM":e=$e(le.Months,ge.Narrow);break;case"LLL":e=$e(le.Months,ge.Abbreviated,dt.Standalone);break;case"LLLL":e=$e(le.Months,ge.Wide,dt.Standalone);break;case"LLLLL":e=$e(le.Months,ge.Narrow,dt.Standalone);break;case"w":e=Q_(1);break;case"ww":e=Q_(2);break;case"W":e=Q_(1,!0);break;case"d":e=_t(Q.Date,1);break;case"dd":e=_t(Q.Date,2);break;case"c":case"cc":e=_t(Q.Day,1);break;case"ccc":e=$e(le.Days,ge.Abbreviated,dt.Standalone);break;case"cccc":e=$e(le.Days,ge.Wide,dt.Standalone);break;case"ccccc":e=$e(le.Days,ge.Narrow,dt.Standalone);break;case"cccccc":e=$e(le.Days,ge.Short,dt.Standalone);break;case"E":case"EE":case"EEE":e=$e(le.Days,ge.Abbreviated);break;case"EEEE":e=$e(le.Days,ge.Wide);break;case"EEEEE":e=$e(le.Days,ge.Narrow);break;case"EEEEEE":e=$e(le.Days,ge.Short);break;case"a":case"aa":case"aaa":e=$e(le.DayPeriods,ge.Abbreviated);break;case"aaaa":e=$e(le.DayPeriods,ge.Wide);break;case"aaaaa":e=$e(le.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=$e(le.DayPeriods,ge.Abbreviated,dt.Standalone,!0);break;case"bbbb":e=$e(le.DayPeriods,ge.Wide,dt.Standalone,!0);break;case"bbbbb":e=$e(le.DayPeriods,ge.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(le.DayPeriods,ge.Abbreviated,dt.Format,!0);break;case"BBBB":e=$e(le.DayPeriods,ge.Wide,dt.Format,!0);break;case"BBBBB":e=$e(le.DayPeriods,ge.Narrow,dt.Format,!0);break;case"h":e=_t(Q.Hours,1,-12);break;case"hh":e=_t(Q.Hours,2,-12);break;case"H":e=_t(Q.Hours,1);break;case"HH":e=_t(Q.Hours,2);break;case"m":e=_t(Q.Minutes,1);break;case"mm":e=_t(Q.Minutes,2);break;case"s":e=_t(Q.Seconds,1);break;case"ss":e=_t(Q.Seconds,2);break;case"S":e=_t(Q.FractionalSeconds,1);break;case"SS":e=_t(Q.FractionalSeconds,2);break;case"SSS":e=_t(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=mf(At.Short);break;case"ZZZZZ":e=mf(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=mf(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=mf(At.Long);break;default:return null}return Y_[n]=e,e}(c);l+=d?d(i,t,u):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function pf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function zi(n,e){const t=function(n){return Mn(n)[V.LocaleId]}(n);if(mc[t]=mc[t]||{},mc[t][e])return mc[t][e];let r="";switch(e){case"shortDate":r=cf(n,Je.Short);break;case"mediumDate":r=cf(n,Je.Medium);break;case"longDate":r=cf(n,Je.Long);break;case"fullDate":r=cf(n,Je.Full);break;case"shortTime":r=df(n,Je.Short);break;case"mediumTime":r=df(n,Je.Medium);break;case"longTime":r=df(n,Je.Long);break;case"fullTime":r=df(n,Je.Full);break;case"short":const i=zi(n,"shortTime"),s=zi(n,"shortDate");r=gf(hf(n,Je.Short),[i,s]);break;case"medium":const o=zi(n,"mediumTime"),a=zi(n,"mediumDate");r=gf(hf(n,Je.Medium),[o,a]);break;case"long":const u=zi(n,"longTime"),l=zi(n,"longDate");r=gf(hf(n,Je.Long),[u,l]);break;case"full":const c=zi(n,"fullTime"),d=zi(n,"fullDate");r=gf(hf(n,Je.Full),[c,d])}return r&&(mc[t][e]=r),r}function gf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Xr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function _t(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function(n,e){switch(n){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Q.Hours)0===a&&-12===t&&(a=12);else if(n===Q.FractionalSeconds)return function(n,e){return Xr(n,3).substr(0,e)}(a,e);const u=Nr(o,W.MinusSign);return Xr(a,e,u,r,i)}}function $e(n,e,t=dt.Format,r=!1){return function(i,s){return function(n,e,t,r,i,s){switch(t){case le.Months:return function(n,e,t){const r=Mn(n),s=Or([r[V.MonthsFormat],r[V.MonthsStandalone]],e);return Or(s,t)}(e,i,r)[n.getMonth()];case le.Days:return function(n,e,t){const r=Mn(n),s=Or([r[V.DaysFormat],r[V.DaysStandalone]],e);return Or(s,t)}(e,i,r)[n.getDay()];case le.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function(n){const e=Mn(n);return qN(e),(e[V.ExtraData][2]||[]).map(r=>"string"==typeof r?K_(r):[K_(r[0]),K_(r[1])])}(e),c=function(n,e,t){const r=Mn(n);qN(r);const s=Or([r[V.ExtraData][0],r[V.ExtraData][1]],e)||[];return Or(s,t)||[]}(e,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,m]=h,_=o>=f.hours&&a>=f.minutes,v=o<m.hours||o===m.hours&&a<m.minutes;if(f.hours<m.hours){if(_&&v)return!0}else if(_||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function(n,e,t){const r=Mn(n),s=Or([r[V.DayPeriodsFormat],r[V.DayPeriodsStandalone]],e);return Or(s,t)}(e,i,r)[o<12?0:1];case le.Eras:return function(n,e){return Or(Mn(n)[V.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function mf(n){return function(e,t,r){const i=-1*r,s=Nr(t,W.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case At.Short:return(i>=0?"+":"")+Xr(o,2,s)+Xr(Math.abs(i%60),2,s);case At.ShortGMT:return"GMT"+(i>=0?"+":"")+Xr(o,1,s);case At.Long:return"GMT"+(i>=0?"+":"")+Xr(o,2,s)+":"+Xr(Math.abs(i%60),2,s);case At.Extended:return 0===r?"Z":(i>=0?"+":"")+Xr(o,2,s)+":"+Xr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function GN(n){return pf(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Q_(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=GN(t),o=function(n){const e=pf(n,0,1).getDay();return pf(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Xr(i,n,Nr(r,W.MinusSign))}}function _f(n,e=!1){return function(t,r){return Xr(GN(t).getFullYear(),n,Nr(r,W.MinusSign),e)}}const Y_={};function zN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function WN(n){return n instanceof Date&&!isNaN(n.valueOf())}class wf{}let a6=(()=>{class n extends wf{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(k8(r||this.locale)(t)){case yt.Zero:return"zero";case yt.One:return"one";case yt.Two:return"two";case yt.Few:return"few";case yt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(L(Ts))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),su=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ec(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(T(gc),T(ru),T(gr),T($i))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class c6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new c6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),JN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{JN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Yr),T(qi),T(gc))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function JN(n,e){n.context.$implicit=e.item}let pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new d6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Yr),T(qi))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class d6{constructor(){this.$implicit=null,this.ngIf=null}}function XN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ve(e)}'.`)}const D6=new re("DATE_PIPE_DEFAULT_TIMEZONE");let rv=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var o;if(null==t||""===t||t!=t)return null;try{return ff(t,r,s||this.locale,null!==(o=null!=i?i:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${ve(n)}'`)}(n,a.message)}}}return n.\u0275fac=function(t){return new(t||n)(T(Ts,16),T(D6,24))},n.\u0275pipe=Bn({name:"date",type:n,pure:!0}),n})(),tO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:[{provide:wf,useClass:a6}]}),n})();let B6=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new j6(L(Pt),window)}),n})();class j6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rO(this.window.history)||rO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ov extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ov,lf||(lf=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_c=_c||document.querySelector("base"),_c?_c.getAttribute("href"):null);return null==t?null:function(n){bf=bf||document.createElement("a"),bf.setAttribute("href",n);const e=bf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let bf,_c=null;const iO=new re("TRANSITION_ID"),K6=[{provide:of,useFactory:function(n,e,t){return()=>{t.get(nu).donePromise.then(()=>{const r=_i(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[iO,Pt,ct],multi:!0}];class av{static init(){var n;n=new av,L_=n}addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?_i().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Q6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ef=new re("EventManagerPlugins");let Tf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(Ef),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class sO{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=_i().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let oO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),vc=(()=>{class n extends oO{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(aO),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(aO))}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function aO(n){_i().remove(n)}const uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lv=/%COMP%/g;function Cf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Cf(n,i,t):(i=i.replace(lv,n),t.push(i))}return t}function cO(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let If=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case jr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new tK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case jr.ShadowDom:return new nK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Cf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(Tf),L(vc),L(fc))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class cv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(uv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=uv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=uv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hr.DashCase|hr.Important)?e.style.setProperty(t,r,i&hr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,cO(r)):this.eventManager.addEventListener(e,t,cO(r))}}class tK extends cv{constructor(e,t,r,i){super(e),this.component=r;const s=Cf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(lv,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(lv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nK extends cv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Cf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rK=(()=>{class n extends sO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const hO=["alt","control","meta","shift"],sK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aK=(()=>{class n extends sO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(hO.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fO.hasOwnProperty(e)&&(e=fO[e]))}return sK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hO.forEach(s=>{s!=i&&oK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const hK=wN(l8,"browser",[{provide:pc,useValue:"browser"},{provide:dN,useValue:function(){ov.makeCurrent(),av.init()},multi:!0},{provide:Pt,useFactory:function(){return n=document,Am=n,document;var n},deps:[]}]),fK=[{provide:Hy,useValue:"root"},{provide:Ma,useFactory:function(){return new Ma},deps:[]},{provide:Ef,useClass:rK,multi:!0,deps:[Pt,Le,pc]},{provide:Ef,useClass:aK,multi:!0,deps:[Pt]},{provide:If,useClass:If,deps:[Tf,vc,fc]},{provide:uc,useExisting:If},{provide:oO,useExisting:vc},{provide:vc,useClass:vc,deps:[Pt]},{provide:F_,useClass:F_,deps:[Le]},{provide:Tf,useClass:Tf,deps:[Ef,Le]},{provide:class{},useClass:Q6,deps:[]}];let pO=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:fc,useValue:t.appId},{provide:iO,useExisting:fc},K6]}}}return n.\u0275fac=function(t){return new(t||n)(L(n,12))},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:fK,imports:[tO,m8]}),n})();"undefined"!=typeof window&&window;let yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:function(t){let r=null;return r=t?new(t||n):L(_O),r},providedIn:"root"}),n})(),_O=(()=>{class n extends yO{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fe.NONE:return r;case Fe.HTML:return di(r,"HTML")?dr(r):gS(this._doc,String(r)).toString();case Fe.STYLE:return di(r,"Style")?dr(r):r;case Fe.SCRIPT:if(di(r,"Script"))return dr(r);throw new Error("unsafe value used in a script context");case Fe.URL:return aS(r),di(r,"URL")?dr(r):Gl(String(r));case Fe.RESOURCE_URL:if(di(r,"ResourceURL"))return dr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new bH(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new EH(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new TH(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new CH(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new IH(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new _O(n.get(Pt))}(L(ct)),r},providedIn:"root"}),n})();const{isArray:CK}=Array,{getPrototypeOf:IK,prototype:DK,keys:AK}=Object;function vO(n){if(1===n.length){const e=n[0];if(CK(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&IK(n)===DK}(e)){const t=AK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:MK}=Array;function wO(n){return Ve(e=>function(n,e){return MK(e)?n(...e):n(e)}(n,e))}function bO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let EO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T($i),T(gr))},n.\u0275dir=J({type:n}),n})(),_o=(()=>{class n extends EO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[je]}),n})();const vi=new re("NgValueAccessor"),kK={provide:vi,useExisting:Ue(()=>Ds),multi:!0},PK=new re("CompositionEventMode");let Ds=(()=>{class n extends EO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=_i()?_i().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T($i),T(gr),T(PK,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&de("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ge([kK]),je]}),n})();function As(n){return null==n||0===n.length}function CO(n){return null!=n&&"number"==typeof n.length}const gn=new re("NgValidators"),Ss=new re("NgAsyncValidators"),FK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ht{static min(e){return function(n){return e=>{if(As(e.value)||As(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(As(e.value)||As(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return AO(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return MO(e)}static minLength(e){return xO(e)}static maxLength(e){return NO(e)}static pattern(e){return function(n){if(!n)return wc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(As(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return VO(e)}static composeAsync(e){return UO(e)}}function AO(n){return As(n.value)?{required:!0}:null}function MO(n){return As(n.value)||FK.test(n.value)?null:{email:!0}}function xO(n){return e=>As(e.value)||!CO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function NO(n){return e=>CO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function wc(n){return null}function kO(n){return null!=n}function RO(n){const e=nc(n)?kt(n):n;return n_(e),e}function PO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function FO(n,e){return e.map(t=>t(n))}function LO(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function VO(n){if(!n)return null;const e=n.filter(kO);return 0==e.length?null:function(t){return PO(FO(t,e))}}function hv(n){return null!=n?VO(LO(n)):null}function UO(n){if(!n)return null;const e=n.filter(kO);return 0==e.length?null:function(t){return function(...n){const e=nA(n),{args:t,keys:r}=vO(n),i=new He(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;ai(t[c]).subscribe(new Nt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?bO(r,a):a),s.complete())}))}});return e?i.pipe(wO(e)):i}(FO(t,e).map(RO)).pipe(Ve(PO))}}function fv(n){return null!=n?UO(LO(n)):null}function BO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jO(n){return n._rawValidators}function $O(n){return n._rawAsyncValidators}function pv(n){return n?Array.isArray(n)?n:[n]:[]}function Df(n,e){return Array.isArray(n)?n.includes(e):n===e}function HO(n,e){const t=pv(e);return pv(n).forEach(i=>{Df(t,i)||t.push(i)}),t}function qO(n,e){return pv(e).filter(t=>!Df(n,t))}class GO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ms extends GO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn extends GO{get formDirective(){return null}get path(){return null}}class zO{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let ou=(()=>{class n extends zO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ms,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Wh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[je]}),n})(),au=(()=>{class n extends zO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Nn,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Wh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[je]}),n})();function bc(n,e){yv(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&WO(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&WO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Mf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yv(n,e){const t=jO(n);null!==e.validator?n.setValidators(BO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$O(n);null!==e.asyncValidator?n.setAsyncValidators(BO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Nf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=jO(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=$O(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),t}function WO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Of(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ec="VALID",kf="INVALID",uu="PENDING",Tc="DISABLED";function wv(n){return(Ev(n)?n.validators:n)||null}function YO(n){return Array.isArray(n)?hv(n):n||null}function bv(n,e){return(Ev(e)?e.asyncValidators:n)||null}function JO(n){return Array.isArray(n)?fv(n):n||null}function Ev(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Tv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=YO(this._rawValidators),this._composedAsyncValidatorFn=JO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ec}get invalid(){return this.status===kf}get pending(){return this.status==uu}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=YO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=JO(e)}addValidators(e){this.setValidators(HO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qO(e,this._rawAsyncValidators))}hasValidator(e){return Df(this._rawValidators,e)}hasAsyncValidator(e){return Df(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===uu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uu,this._hasOwnPendingAsyncValidator=!0;const t=RO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof wi?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof Cv&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uu)?uu:this._anyControlsHaveStatus(kf)?kf:Ec}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ev(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lu extends Tv{constructor(e=null,t,r){super(wv(t),bv(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Of(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Of(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class wi extends Tv{constructor(e,t,r){super(wv(t),bv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof lu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Cv extends Tv{constructor(e,t,r){super(wv(t),bv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof lu?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let cu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({}),n})();const Dv=new re("NgModelWithFormControlWarning"),r5={provide:Nn,useExisting:Ue(()=>xs)};let xs=(()=>{class n extends Nn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Mf(t.control||null,t,!1),Of(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Mf(r||null,t),i instanceof lu&&(bc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){yv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Nf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yv(this.form,this),this._oldForm&&Nf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(T(gn,10),T(Ss,10))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&de("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([r5]),je,ar]}),n})();const o5={provide:Ms,useExisting:Ue(()=>vo)};let vo=(()=>{class n extends Ms{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new rt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ds?t=s:function(n){return Object.getPrototypeOf(n.constructor)===_o}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(T(Nn,13),T(gn,10),T(Ss,10),T(vi,10),T(Dv,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([o5]),je,ar]}),n})();function ck(n){return"number"==typeof n?n:parseInt(n,10)}let Rf=(()=>{class n{constructor(){this._validator=wc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):wc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[ar]}),n})();const g5={provide:gn,useExisting:Ue(()=>Ns),multi:!0};let Ns=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?AO(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&$n("required",r.required?"":null)},inputs:{required:"required"},features:[Ge([g5])]}),n})();const y5={provide:gn,useExisting:Ue(()=>Nv),multi:!0};let Nv=(()=>{class n{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?MO(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ge([y5])]}),n})();const _5={provide:gn,useExisting:Ue(()=>du),multi:!0};let du=(()=>{class n extends Rf{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>ck(t),this.createValidator=t=>xO(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&$n("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[Ge([_5]),je]}),n})();const v5={provide:gn,useExisting:Ue(()=>Pf),multi:!0};let Pf=(()=>{class n extends Rf{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>ck(t),this.createValidator=t=>NO(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=lr(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&$n("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ge([v5]),je]}),n})(),b5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({imports:[[rk]]}),n})(),mk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({imports:[b5]}),n})(),Ic=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let a,s=null,o=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new wi(i,{asyncValidators:o,updateOn:a,validators:s})}control(t,r,i){return new lu(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new Cv(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof lu||t instanceof wi||t instanceof Cv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:mk}),n})();class yk{}const Wi="*";function C5(n,e){return{type:7,name:n,definitions:e,options:{}}}function _k(n,e=null){return{type:4,styles:e,timings:n}}function vk(n,e=null){return{type:2,steps:n,options:e}}function Dc(n){return{type:6,styles:n,offset:null}}function Ov(n,e,t){return{type:0,name:n,styles:e,options:t}}function wk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bk(n){Promise.resolve(null).then(n)}class hu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ek{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?bk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Tk=["toast-component",""];function I5(n,e){if(1&n){const t=pr();p(0,"button",5),de("click",function(){return Wt(t),q().remove()}),p(1,"span",6),C(2,"\xd7"),g(),g()}}function D5(n,e){if(1&n&&(Gh(0),C(1),zh()),2&n){const t=q(2);E(1),Hn("[",t.duplicatesCount+1,"]")}}function A5(n,e){if(1&n&&(p(0,"div"),C(1),M(2,D5,2,1,"ng-container",4),g()),2&n){const t=q();ji(t.options.titleClass),$n("aria-label",t.title),E(1),Hn(" ",t.title," "),E(1),D("ngIf",t.duplicatesCount)}}function S5(n,e){if(1&n&&G(0,"div",7),2&n){const t=q();ji(t.options.messageClass),D("innerHTML",t.message,ry)}}function M5(n,e){if(1&n&&(p(0,"div",8),C(1),g()),2&n){const t=q();ji(t.options.messageClass),$n("aria-label",t.message),E(1),Hn(" ",t.message," ")}}function x5(n,e){if(1&n&&(p(0,"div"),G(1,"div",9),g()),2&n){const t=q();E(1),Qa("width",t.width+"%")}}function N5(n,e){if(1&n){const t=pr();p(0,"button",5),de("click",function(){return Wt(t),q().remove()}),p(1,"span",6),C(2,"\xd7"),g(),g()}}function O5(n,e){if(1&n&&(Gh(0),C(1),zh()),2&n){const t=q(2);E(1),Hn("[",t.duplicatesCount+1,"]")}}function k5(n,e){if(1&n&&(p(0,"div"),C(1),M(2,O5,2,1,"ng-container",4),g()),2&n){const t=q();ji(t.options.titleClass),$n("aria-label",t.title),E(1),Hn(" ",t.title," "),E(1),D("ngIf",t.duplicatesCount)}}function R5(n,e){if(1&n&&G(0,"div",7),2&n){const t=q();ji(t.options.messageClass),D("innerHTML",t.message,ry)}}function P5(n,e){if(1&n&&(p(0,"div",8),C(1),g()),2&n){const t=q();ji(t.options.messageClass),$n("aria-label",t.message),E(1),Hn(" ",t.message," ")}}function F5(n,e){if(1&n&&(p(0,"div"),G(1,"div",9),g()),2&n){const t=q();E(1),Qa("width",t.width+"%")}}class L5{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Ff{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new un,this._onAction=new un,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Ck={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ik=new re("ToastConfig");class U5{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new un,this._activate=new un,this._manualClose=new un,this._resetTimeout=new un,this._countDuplicate=new un}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class B5{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Ff?this._toastPackage:this._parentInjector.get(e,t,r)}}class j5 extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class $5{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let H5=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q5=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new j5(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new $5(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(L(H5),L(po),L(go),L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Os=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const u=o&&a.title===t;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Fe.HTML,r));const c=new U5(u),d=new Ff(this.index,s,l,i,t,c),h=new B5(d,this._injector),f=new L5(s.toastComponent,h),m=u.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=m.instance;const _={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:m};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}}return n.\u0275fac=function(t){return new(t||n)(L(Ik),L(q5),L(ct),L(yO),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G5=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(T(Os),T(Ff),T(Le))},n.\u0275cmp=at({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&de("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(o_("@flyInOut",r.state),ji(r.toastClasses),Qa("display",r.displayStyle))},attrs:Tk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(M(0,I5,3,0,"button",0),M(1,A5,3,5,"div",1),M(2,S5,1,3,"div",2),M(3,M5,2,4,"div",3),M(4,x5,2,2,"div",4)),2&t&&(D("ngIf",r.options.closeButton),E(1),D("ngIf",r.title),E(1),D("ngIf",r.message&&r.options.enableHtml),E(1),D("ngIf",r.message&&!r.options.enableHtml),E(1),D("ngIf",r.options.progressBar))},directives:[pn],encapsulation:2,data:{animation:[C5("flyInOut",[Ov("inactive",Dc({opacity:0})),Ov("active",Dc({opacity:1})),Ov("removed",Dc({opacity:0})),wk("inactive => active",_k("{{ easeTime }}ms {{ easing }}")),wk("active => removed",_k("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const z5=Object.assign(Object.assign({},Ck),{toastComponent:G5});let W5=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Ik,useValue:{default:z5,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({imports:[[tO]]}),n})(),K5=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(T(Os),T(Ff),T(go))},n.\u0275cmp=at({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&de("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(ji(r.toastClasses),Qa("display",r.displayStyle))},attrs:Tk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(M(0,N5,3,0,"button",0),M(1,k5,3,5,"div",1),M(2,R5,1,3,"div",2),M(3,P5,2,4,"div",3),M(4,F5,2,2,"div",4)),2&t&&(D("ngIf",r.options.closeButton),E(1),D("ngIf",r.title),E(1),D("ngIf",r.message&&r.options.enableHtml),E(1),D("ngIf",r.message&&!r.options.enableHtml),E(1),D("ngIf",r.options.progressBar))},directives:[pn],encapsulation:2}),n})();function ce(...n){return kt(n,Dl(n))}Object.assign(Object.assign({},Ck),{toastComponent:K5});class ei extends un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Dk(n,e,t){n?ki(t,n,e):e()}const Lf=oa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Rv(...n){return Il(1)(kt(n,Dl(n)))}function Ak(n){return new He(e=>{ai(n()).subscribe(e)})}function Sk(){return zt((n,e)=>{let t=null;n._refCount++;const r=new Nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class X5 extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const t=this.getSubject();e.add(this.source.subscribe(new Nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return Sk()(this)}}function wo(n,e){return zt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new Nt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;ai(n(u,c)).subscribe(i=new Nt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function e7(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(new Nt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mk(n,e){return zt(e7(n,e,arguments.length>=2,!0))}function fu(n,e){return zt((t,r)=>{let i=0;t.subscribe(new Nt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function ks(n){return zt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new Nt(t,void 0,void 0,o=>{s=ai(n(o,ks(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ac(n,e){return Oe(e)?Ot(n,e,1):Ot(n,1)}function Pv(n){return n<=0?()=>Ri:zt((e,t)=>{let r=[];e.subscribe(new Nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xk(n=t7){return zt((e,t)=>{let r=!1;e.subscribe(new Nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function t7(){return new Lf}function Nk(n){return zt((e,t)=>{let r=!1;e.subscribe(new Nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fu((i,s)=>n(i,s,r)):no,rh(1),t?Nk(e):xk(()=>new Lf))}function Gn(n,e,t){const r=Oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?zt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Nt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):no}class Ki{constructor(e,t){this.id=e,this.url=t}}class Qi extends Ki{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends Ki{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ok extends Ki{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class i7 extends Ki{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s7 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o7 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a7 extends Ki{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u7 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l7 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c7{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d7{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h7{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f7{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pk{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pe="primary";class p7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gu(n){return new p7(n)}const Fk="ngNavigationCancelingError";function Fv(n){const e=Error("NavigationCancelingError: "+n);return e[Fk]=!0,e}function m7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Lk(n[i],e[i]))return!1;return!0}function Lk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Vk(n){return Array.prototype.concat.apply([],n)}function Uk(n){return n.length>0?n[n.length-1]:null}function Kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ei(n){return n_(n)?n:nc(n)?kt(Promise.resolve(n)):ce(n)}const v7={exact:function $k(n,e,t){if(!Eo(n.segments,e.segments)||!Vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$k(n.children[r],e.children[r],t))return!1;return!0},subset:Hk},Bk={exact:function(n,e){return bi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lk(n[t],e[t]))},ignored:()=>!0};function jk(n,e,t){return v7[t.paths](n.root,e.root,t.matrixParams)&&Bk[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Hk(n,e,t){return qk(n,e,e.segments,t)}function qk(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Eo(i,t)||e.hasChildren()||!Vf(i,t,r))}if(n.segments.length===t.length){if(!Eo(n.segments,t)||!Vf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Hk(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Eo(n.segments,i)&&Vf(n.segments,i,r)&&n.children[pe])&&qk(n.children[pe],e,s,r)}}function Vf(n,e,t){return e.every((r,i)=>Bk[t](n[i].parameters,r.parameters))}class bo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return C7.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class Sc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return Qk(this)}}function Eo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Gk{}class zk{parse(e){const t=new k7(e);return new bo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mc(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bf(t)}=${Bf(i)}`).join("&"):`${Bf(t)}=${Bf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const C7=new zk;function Uf(n){return n.segments.map(e=>Qk(e)).join("/")}function Mc(n,e){if(!n.hasChildren())return Uf(n);if(e){const t=n.children[pe]?Mc(n.children[pe],!1):"",r=[];return Kt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${Mc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Kt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Kt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[Mc(n.children[pe],!1)]:[`${i}:${Mc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${Uf(n)}/${t[0]}`:`${Uf(n)}/(${t.join("//")})`}}function Wk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bf(n){return Wk(n).replace(/%3B/gi,";")}function Lv(n){return Wk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(n){return decodeURIComponent(n)}function Kk(n){return jf(n.replace(/\+/g,"%20"))}function Qk(n){return`${Lv(n.path)}${function(n){return Object.keys(n).map(e=>`;${Lv(e)}=${Lv(n[e])}`).join("")}(n.parameters)}`}const S7=/^[^\/()?;=#]+/;function $f(n){const e=n.match(S7);return e?e[0]:""}const M7=/^[^=?&#]+/,N7=/^[^&#]+/;class k7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ye(e,t)),r}parseSegment(){const e=$f(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Sc(jf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$f(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$f(this.remaining);i&&(r=i,this.capture(r))}e[jf(t)]=jf(r)}parseQueryParam(e){const t=function(n){const e=n.match(M7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(N7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Kk(t),s=Kk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$f(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Yk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Vv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uv(e,this._root).map(t=>t.value)}}function Vv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Vv(n,t);if(r)return r}return null}function Uv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Uv(n,t);if(r.length)return r.unshift(e),r}return[]}class Yi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jk extends Yk{constructor(e,t){super(e),this.snapshot=t,Bv(this,e)}toString(){return this.snapshot.toString()}}function Xk(n,e){const t=function(n,e){const o=new Hf([],{},{},"",{},pe,e,null,n.root,-1,{});return new eR("",new Yi(o,[]))}(n,e),r=new ei([new Sc("",{})]),i=new ei({}),s=new ei({}),o=new ei({}),a=new ei(""),u=new yu(r,i,o,a,s,pe,e,t.root);return u.snapshot=t.root,new Jk(new Yi(u,[]),t)}class yu{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ve(e=>gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ve(e=>gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hf{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eR extends Yk{constructor(e,t){super(t),this.url=e,Bv(this,t)}toString(){return tR(this._root)}}function Bv(n,e){e.value._routerState=n,e.children.forEach(t=>Bv(n,t))}function tR(n){const e=n.children.length>0?` { ${n.children.map(tR).join(", ")} } `:"";return`${n.value}${e}`}function jv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $v(n,e){const t=bi(n.params,e.params)&&function(n,e){return Eo(n,e)&&n.every((t,r)=>bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$v(n.parent,e.parent))}function xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xc(n,r,i);return xc(n,r)})}(n,e,t);return new Yi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xc(n,a)),o}}const r=function(n){return new yu(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>xc(n,s));return new Yi(r,i)}}function qf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nc(n){return"object"==typeof n&&null!=n&&n.outlets}function Hv(n,e,t,r,i){let s={};return r&&Kt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new bo(t.root===n?e:nR(t.root,n,e),s,i)}function nR(n,e,t){const r={};return Kt(n.children,(i,s)=>{r[s]=i===e?t:nR(i,e,t)}),new ye(n.segments,r)}class rR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Nc);if(i&&i!==Uk(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function iR(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Gf(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Nc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!oR(u,l,o))return s;r+=2}else{if(!oR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ye(n.segments.slice(r.pathIndex),n.children),Gf(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?Gv(n,e,t):r.match?Gf(n,0,i):Gv(n,e,t)}function Gf(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function(n){return Nc(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=iR(n.children[o],e,s))}),Kt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function Gv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Nc(s)){const u=G7(s.outlets);return new ye(r,u)}if(0===i&&qf(t[0])){r.push(new Sc(n.segments[e].path,sR(t[0]))),i++;continue}const o=Nc(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&qf(a)?(r.push(new Sc(o,sR(a))),i+=2):(r.push(new Sc(o,{})),i++)}return new ye(r,{})}function G7(n){const e={};return Kt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gv(new ye([],{}),0,t))}),e}function sR(n){const e={};return Kt(n,(t,r)=>e[r]=`${t}`),e}function oR(n,e,t){return n==t.path&&bi(e,t.parameters)}class W7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new f7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new d7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(jv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class zv{constructor(e,t){this.routes=e,this.module=t}}function Ps(n){return"function"==typeof n}function To(n){return n instanceof bo}const Oc=Symbol("INITIAL_VALUE");function kc(){return wo(n=>function(...n){const e=Dl(n),t=nA(n),{args:r,keys:i}=vO(n);if(0===r.length)return kt([],e);const s=new He(function(n,e,t=no){return r=>{Dk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Dk(e,()=>{const l=kt(n[u],e);let c=!1;l.subscribe(new Nt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>bO(i,o):no));return t?s.pipe(wO(t)):s}(n.map(e=>e.pipe(rh(1),function(...n){const e=Dl(n);return zt((t,r)=>{(e?Rv(n,t,e):Rv(n,t)).subscribe(r)})}(Oc)))).pipe(Mk((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Oc?i:(s===Oc&&(r=!0),r||!1!==s&&o!==t.length-1&&!To(s)?i:s),e)},Oc),fu(e=>e!==Oc),Ve(e=>To(e)?e:!0===e),rh(1)))}class e9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new e9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.name=s||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new t9(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(Rc),T(Yr),T(po),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(RA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Ct(),n)}("name"),T(U_))},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class t9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yu?this.route:e===Rc?this.childContexts:this.parent.get(e,t)}}let aR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=at({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&G(0,"router-outlet")},directives:[Wv],encapsulation:2}),n})();function uR(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];n9(r,r9(e,r))}}function n9(n,e){n.children&&uR(n.children,e)}function r9(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Kv(n){const e=n.children&&n.children.map(Kv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=aR),t}function kr(n){return n.outlet||pe}function lR(n,e){const t=n.filter(r=>kr(r)===e);return t.push(...n.filter(r=>kr(r)!==e)),t}const cR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},cR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||m7)(t,n,e);if(!s)return Object.assign({},cR);const o={};Kt(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Wf(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Kf(n,e,r)&&kr(r)!==pe)}(n,t,r)){const o=new ye(e,function(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&kr(s)!==pe){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[kr(s)]=o}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Kf(n,e,r))}(n,t,r)){const o=new ye(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Kf(n,t,a)&&!i[kr(a)]){const u=new ye([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[kr(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Kf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function dR(n,e,t,r){return!!(kr(n)===r||r!==pe&&Kf(e,t,n))&&("**"===n.path||zf(e,n,t).matched)}function hR(n,e,t){return 0===e.length&&!n.children[t]}class Pc{constructor(e){this.segmentGroup=e||null}}class fR{constructor(e){this.urlTree=e}}function Qf(n){return new He(e=>e.error(new Pc(n)))}function pR(n){return new He(e=>e.error(new fR(n)))}function u9(n){return new He(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class d9{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Hi)}apply(){const e=Wf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pe).pipe(Ve(s=>this.createUrlTree(Qv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ks(s=>{if(s instanceof fR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Pc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pe).pipe(Ve(i=>this.createUrlTree(Qv(i),e.queryParams,e.fragment))).pipe(ks(i=>{throw i instanceof Pc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ye([],{[pe]:e}):e;return new bo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ve(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return kt(i).pipe(Ac(s=>{const o=r.children[s],a=lR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ve(u=>({segment:u,outlet:s})))}),Mk((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fu((i,s)=>n(i,s,r)):no,Pv(1),t?Nk(e):xk(()=>new Lf))}())}expandSegment(e,t,r,i,s,o){return kt(r).pipe(Ac(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ks(l=>{if(l instanceof Pc)return ce(null);throw l}))),pu(a=>!!a),ks((a,u)=>{if(a instanceof Lf||"EmptyError"===a.name){if(hR(t,i,s))return ce(new ye([],{}));throw new Pc(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return dR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Qf(t):Qf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pR(s):this.lineralizeSegments(r,s).pipe(Ot(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:l,positionalParamSegments:c}=zf(t,i,s);if(!a)return Qf(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?pR(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ce(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ve(h=>(r._loadedConfig=h,new ye(i,{})))):ce(new ye(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=zf(t,r,i);if(!o)return Qf(t);const l=i.slice(u);return this.getChildConfig(e,r,i).pipe(Ot(d=>{const h=d.module,f=d.routes,{segmentGroup:m,slicedSegments:_}=Wf(t,a,l,f),v=new ye(m.segments,m.children);if(0===_.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(Ve(P=>new ye(a,P)));if(0===f.length&&0===_.length)return ce(new ye(a,{}));const b=kr(r)===s;return this.expandSegment(h,v,f,_,b?pe:s,!0).pipe(Ve(N=>new ye(a.concat(N.segments),N.children)))}))}getChildConfig(e,t,r){return t.children?ce(new zv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ce(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Ot(i=>{return i?this.configLoader.load(e.injector,t).pipe(Ve(s=>(t._loadedConfig=s,s))):(n=t,new He(e=>e.error(Fv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):ce(new zv([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ce(i.map(o=>{const a=e.get(o);let u;if((n=a)&&Ps(n.canLoad))u=a.canLoad(t,r);else{if(!Ps(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}var n;return Ei(u)})).pipe(kc(),Gn(o=>{if(!To(o))return;const a=Fv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ve(o=>!0===o)):ce(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[pe])return u9(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new bo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Kt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Qv(n){const e={};for(const r of Object.keys(n.children)){const s=Qv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}class gR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yf{constructor(e,t){this.component=e,this.route=t}}function p9(n,e,t){const r=n._root;return Fc(r,e?e._root:null,t,[r.value])}function Jf(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Fc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mu(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(n.url,e.url)||!bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$v(n,e)||!bi(n.queryParams,e.queryParams);default:return!$v(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Fc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yf(a.outlet.component,o))}else o&&Lc(e,a,i),i.canActivateChecks.push(new gR(r)),Fc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Kt(s,(o,a)=>Lc(o,t.getContext(a),i)),i}function Lc(n,e,t){const r=mu(n),i=n.value;Kt(r,(s,o)=>{Lc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Yf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class A9{}function mR(n){return new He(e=>e.error(n))}class M9{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Wf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pe);if(null===t)return null;const r=new Hf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yi(r,t),s=new eR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=Zk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=lR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=yR(r);return i.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return hR(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!dR(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Uk(r).parameters:{};s=new Hf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wR(e),kr(e),e.component,e,_R(t),vR(t)+r.length,bR(e))}else{const f=zf(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Hf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wR(e),kr(e),e.component,e,_R(t),vR(t)+o.length,bR(e))}const u=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:l,slicedSegments:c}=Wf(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var n;if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new Yi(s,f)]}if(0===u.length&&0===c.length)return[new Yi(s,[])];const d=kr(e)===i,h=this.processSegment(u,l,c,d?pe:i);return null===h?null:[new Yi(s,h)]}}function O9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yR(n){const e=[],t=new Set;for(const r of n){if(!O9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=yR(r.children);e.push(new Yi(r.value,i))}return e.filter(r=>!t.has(r))}function _R(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vR(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function wR(n){return n.data||{}}function bR(n){return n.resolve||{}}function Yv(n){return wo(e=>{const t=n(e);return t?kt(t).pipe(Ve(()=>e)):ce(e)})}class B9 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Jv=new re("ROUTES");class ER{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new zv(Vk(o.injector.get(Jv,void 0,se.Self|se.Optional)).map(Kv),o)}),ks(s=>{throw t._loader$=void 0,s}));return t._loader$=new X5(i,()=>new un).pipe(Sk()),t._loader$}loadModuleFactory(e){return Ei(e()).pipe(Ot(t=>t instanceof Ox?ce(t):kt(this.compiler.compileModuleAsync(t))))}}class $9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function H9(n){throw n}function q9(n,e,t){return e.parse("/")}function TR(n,e){return ce(null)}const G9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un,this.errorHandler=H9,this.malformedUriErrorHandler=q9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TR,afterPreactivation:TR},this.urlHandlingStrategy=new $9,this.routeReuseStrategy=new B9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Hi),this.console=o.get(fN);const d=o.get(Le);this.isNgZoneEnabled=d instanceof Le&&Le.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new bo(new ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ER(o,a,h=>this.triggerEvent(new kk(h)),h=>this.triggerEvent(new Rk(h))),this.routerState=Xk(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fu(i=>0!==i.id),Ve(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),wo(i=>{let s=!1,o=!1;return ce(i).pipe(Gn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wo(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Xf(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(wo(d=>{const h=this.transitions.getValue();return r.next(new Qi(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ri:Promise.resolve(d)}),function(n,e,t,r){return wo(i=>function(n,e,t,r,i){return new d9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ve(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Gn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return Ot(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new M9(n,e,t,r,i,s).recognize();return null===o?mR(new A9):ce(o)}catch(o){return mR(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ve(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new s7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:m,restoredState:_,extras:v}=a,b=new Qi(h,this.serializeUrl(f),m,_);r.next(b);const w=Xk(f,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ri}),Yv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Gn(a=>{const u=new o7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ve(a=>Object.assign(Object.assign({},a),{guards:p9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ce(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return kt(n).pipe(Ot(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ce(s.map(a=>{const u=Jf(a,e,i);let l;if(function(n){return n&&Ps(n.canDeactivate)}(u))l=Ei(u.canDeactivate(n,e,t,r));else{if(!Ps(u))throw new Error("Invalid CanDeactivate guard");l=Ei(u(n,e,t,r))}return l.pipe(pu())})).pipe(kc()):ce(!0)}(i.component,i.route,t,e,r)),pu(i=>!0!==i,!0))}(o,r,i,n).pipe(Ot(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return kt(e).pipe(Ac(i=>Rv(function(n,e){return null!==n&&e&&e(new c7(n)),ce(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new h7(n)),ce(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ak(()=>ce(o.guards.map(u=>{const l=Jf(u,o.node,t);let c;if(function(n){return n&&Ps(n.canActivateChild)}(l))c=Ei(l.canActivateChild(r,n));else{if(!Ps(l))throw new Error("Invalid CanActivateChild guard");c=Ei(l(r,n))}return c.pipe(pu())})).pipe(kc())));return ce(s).pipe(kc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(s=>Ak(()=>{const o=Jf(s,e,t);let a;if(function(n){return n&&Ps(n.canActivate)}(o))a=Ei(o.canActivate(e,n));else{if(!Ps(o))throw new Error("Invalid CanActivate guard");a=Ei(o(e,n))}return a.pipe(pu())}));return ce(i).pipe(kc())}(n,i.route,t))),pu(i=>!0!==i,!0))}(r,s,n,e):ce(a)),Ve(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Gn(a=>{if(To(a.guardsResult)){const l=Fv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new a7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),fu(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Yv(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(Gn(u=>{const l=new u7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),wo(u=>{let l=!1;return ce(u).pipe(function(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let s=0;return kt(i).pipe(Ac(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return ce({});const s={};return kt(i).pipe(Ot(o=>function(n,e,t,r){const i=Jf(n,e,r);return Ei(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Gn(a=>{s[o]=a}))),Pv(1),Ot(()=>Object.keys(s).length===i.length?ce(s):Ri))}(n._resolve,n,e,r).pipe(Ve(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Zk(n,t).resolve),null)))}(o.route,r,n,e)),Gn(()=>s++),Pv(1),Ot(o=>s===i.length?ce(t):Ri))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Gn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Gn(u=>{const l=new l7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),Yv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ve(a=>{const u=function(n,e,t){const r=xc(n,e._root,t?t._root:void 0);return new Jk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Gn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ve(r=>(new W7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Gn({next(){s=!0},complete(){s=!0}}),function(n){return zt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ks(a=>{if(o=!0,function(n){return n&&n[Fk]}(a)){const u=To(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Ok(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xf(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new i7(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Ri}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){uR(t),this.config=t.map(Kv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return Hv(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new rR(t,e,r)}(t);if(s.toRoot())return Hv(e.root,new ye([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new qv(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new qv(s,s===e.root,0)}const r=qf(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qv(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Gf(o.segmentGroup,o.index,s.commands):iR(o.segmentGroup,o.index,s.commands);return Hv(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=To(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},G9):!1===r?Object.assign({},z9):r,To(t))return jk(this.currentUrlTree,t,i);const s=this.parseUrl(t);return jk(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Rs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,l;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=Xf(r)&&c&&!Xf(c.source),h=c.rawUrl.toString()===t.toString(),f=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let _,v,b;o?(_=o.resolve,v=o.reject,b=o.promise):b=new Promise((P,K)=>{_=P,v=K});const w=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),N=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):N=0,this.setTransition({id:w,targetPageId:N,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Ok(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){e_()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Xf(n){return"imperative"!==n}let _u=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new un,this.subscription=t.events.subscribe(s=>{s instanceof Rs&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T(yu),T(iu))},n.\u0275dir=J({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&de("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&$n("target",r.target)("href",r.href,iy)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ar]}),n})();function vu(n){return""===n||!!n}class CR{}class IR{preload(e,t){return ce(null)}}let DR=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new ER(i,r,u=>t.triggerEvent(new kk(u)),u=>t.triggerEvent(new Rk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(fu(t=>t instanceof Rs),Ac(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Hi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return kt(i).pipe(Il(),Ve(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ce(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Ot(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(L(Me),L(af),L(ct),L(CR))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Zv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pk&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Pk(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){e_()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Co=new re("ROUTER_CONFIGURATION"),AR=new re("ROUTER_FORROOT_GUARD"),J9=[z_,{provide:Gk,useClass:zk},{provide:Me,useFactory:function(n,e,t,r,i,s,o={},a,u){const l=new Me(null,n,e,t,r,i,Vk(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[Gk,Rc,z_,ct,af,Jv,Co,[class{},new lt],[class{},new lt]]},Rc,{provide:yu,useFactory:function(n){return n.routerState.root},deps:[Me]},DR,IR,class{preload(e,t){return t().pipe(ks(()=>ce(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function X9(){return new vN("Router",Me)}let SR=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[J9,MR(t),{provide:AR,useFactory:tQ,deps:[[Me,new lt,new Da]]},{provide:Co,useValue:r||{}},{provide:iu,useFactory:eQ,deps:[yo,[new Hl(G_),new lt],Co]},{provide:Zv,useFactory:Z9,deps:[Me,B6,Co]},{provide:CR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:IR},{provide:vN,multi:!0,useFactory:X9},[ew,{provide:of,multi:!0,useFactory:sQ,deps:[ew]},{provide:xR,useFactory:oQ,deps:[ew]},{provide:hN,multi:!0,useExisting:xR}]]}}static forChild(t){return{ngModule:n,providers:[MR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(L(AR,8),L(Me,8))},n.\u0275mod=In({type:n}),n.\u0275inj=ln({}),n})();function Z9(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Zv(n,e,t)}function eQ(n,e,t={}){return t.useHash?new C8(n,e):new jN(n,e)}function tQ(n){return"guarded"}function MR(n){return[{provide:K$,multi:!0,useValue:n},{provide:Jv,multi:!0,useValue:n}]}let ew=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un}appInitializer(){return this.injector.get(b8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Me),o=this.injector.get(Co);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Co),i=this.injector.get(DR),s=this.injector.get(Zv),o=this.injector.get(Me),a=this.injector.get(go);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(L(ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function sQ(n){return n.appInitializer.bind(n)}function oQ(n){return n.bootstrapListener.bind(n)}const xR=new re("Router Initializer");function uQ(n,e){1&n&&(p(0,"div"),C(1,"Date is required"),g())}function lQ(n,e){if(1&n&&(p(0,"div",16),M(1,uQ,2,0,"div",14),g()),2&n){const t=q();E(1),D("ngIf",t.f.orderDateSelector.errors.required)}}function cQ(n,e){1&n&&(p(0,"div"),C(1,"Please select a valid date."),g())}const dQ=function(n){return{"is-invalid":n}};let hQ=(()=>{class n{constructor(t,r){this.formBuilder=t,this.router=r,this.orderDetailsForm=wi,this.submitted=!1,this.maxDate=new Date,this.dateError=!1}get f(){return this.orderDetailsForm.controls}onSubmit(){this.submitted=!0,this.orderDetailsForm.invalid||(new Date(this.orderDetailsForm.value.orderDateSelector)>new Date?this.dateError=!0:this.submitted&&(this.dateError=!1,this.router.navigate(["view-date-orders"],{state:{orderDate:ff(this.orderDetailsForm.value.orderDateSelector,"yyyy/MM/dd","en")}})))}ngOnInit(){this.orderDetailsForm=this.formBuilder.group({orderDateSelector:["",[ht.required]]})}goToVerifyUsersCom(){this.router.navigate(["view-users"])}goToUsersCom(){this.router.navigate(["view-all-users"])}goToTodaysOrdersCom(){this.router.navigate(["view-orders"])}goToUpdateMenu(){this.router.navigate(["update-menu"])}}return n.\u0275fac=function(t){return new(t||n)(T(Ic),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-admin-home"]],decls:32,vars:6,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-2","display-6","text-center"],[1,"p-3","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"],[1,"p-2","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","orderDateSelector","type","date","formControlName","orderDateSelector","placeholder","Select a date","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Welcome Admin"),g(),G(8,"hr"),g(),p(9,"div",7),p(10,"button",8),de("click",function(){return r.goToUpdateMenu()}),C(11,"Update Menu "),g(),g(),p(12,"div",7),p(13,"button",8),de("click",function(){return r.goToVerifyUsersCom()}),C(14,"Verify New Users "),g(),g(),p(15,"div",7),p(16,"button",8),de("click",function(){return r.goToUsersCom()}),C(17,"View Verified Users "),g(),g(),p(18,"div",7),p(19,"button",8),de("click",function(){return r.goToTodaysOrdersCom()}),C(20,"View Today's Orders "),g(),g(),G(21,"hr"),p(22,"div",9),p(23,"form",10),de("ngSubmit",function(){return r.onSubmit()}),p(24,"div",11),p(25,"div",11),G(26,"input",12),M(27,lQ,2,1,"div",13),M(28,cQ,2,0,"div",14),g(),g(),p(29,"div",9),p(30,"button",15),C(31,"View Orders "),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(23),D("formGroup",r.orderDetailsForm),E(3),D("ngClass",mr(4,dQ,r.submitted&&r.f.orderDateSelector.errors)),E(1),D("ngIf",r.submitted&&r.f.orderDateSelector.errors),E(1),D("ngIf",r.dateError))},directives:[cu,au,xs,Ds,ou,vo,Ns,su,pn],styles:[""]}),n})();function NR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){NR(s,r,i,o,a,"next",u)}function a(u){NR(s,r,i,o,a,"throw",u)}o(void 0)})}}const nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function PR(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Zf(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function FR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function LR(){const n=Ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wu(){return"object"==typeof indexedDB}function ep(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function sw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(TQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ji(i,`${this.serviceName}: ${o} (${i}).`,r)}}const TQ=/\{\$([^}]+)}/g;function np(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(UR(s)&&UR(o)){if(!np(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function UR(n){return null!==n&&"object"==typeof n}function rp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Uc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class DQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=ow),void 0===i.error&&(i.error=ow),void 0===i.complete&&(i.complete=ow);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ow(){}function uw(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Qt(n){return n&&n._delegate?n._delegate:n}class On{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Io="[DEFAULT]";class kQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new iw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Io})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Io?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class FQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const lw=[];var be=(()=>{return(n=be||(be={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",be;var n})();const BR={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},LQ=be.INFO,VQ={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},UQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=VQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class bu{constructor(e){this.name=e,this._logLevel=LQ,this._logHandler=UQ,this._userLogHandler=null,lw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}class BQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const cw="@firebase/app",dw=new bu("@firebase/app"),hw="[DEFAULT]",fY={[cw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Do=new Map,ip=new Map;function pY(n,e){try{n.container.addComponent(e)}catch(t){dw.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zn(n){const e=n.name;if(ip.has(e))return dw.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,n);for(const t of Do.values())pY(t,n);return!0}function Eu(n,e){return n.container.getProvider(e)}const Bc=new Ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bc.create("app-deleted",{appName:this._name})}}const Tu="9.6.1";function $R(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:hw,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw Bc.create("bad-app-name",{appName:String(r)});const i=Do.get(r);if(i){if(np(n,i.options)&&np(t,i.config))return i;throw Bc.create("duplicate-app",{appName:r})}const s=new FQ(r);for(const a of ip.values())s.addComponent(a);const o=new mY(n,t,s);return Do.set(r,o),o}function fw(n=hw){const e=Do.get(n);if(!e)throw Bc.create("no-app",{appName:n});return e}function HR(){return Array.from(Do.values())}function it(n,e,t){var r;let i=null!==(r=fY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dw.warn(a.join(" "))}zn(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function GR(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}zn(new On("platform-logger",e=>new BQ(e),"PRIVATE")),it(cw,"0.7.11",""),it(cw,"0.7.11","esm2017"),it("fire-js","");const wY=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QR=new Ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YR=new bu("@firebase/auth");function op(n,...e){YR.logLevel<=be.ERROR&&YR.error(`Auth (9.6.1): ${n}`,...e)}function Wn(n,...e){throw mw(n,...e)}function Ci(n,...e){return mw(n,...e)}function JR(n,e,t){const r=Object.assign(Object.assign({},wY()),{[e]:t});return new Ti("auth","Firebase",r).create(e,{appName:n.name})}function mw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QR.create(n,...e)}function k(n,e,...t){if(!n)throw mw(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw op(e),new Error(e)}function Fs(n,e){n||Ii(e)}const XR=new Map;function Xi(n){Fs(n instanceof Function,"Expected a class definition");let e=XR.get(n);return e?(Fs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XR.set(n,e),e)}function jc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function ZR(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fs(t>e,"Short delay should be less than long delay!"),this.isMobile=PR()||FR()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===ZR()||"https:"===ZR()||Zf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _w(n,e){Fs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class eP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},DY=new $c(3e4,6e4);function St(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Lt(n,e,t,r){return vw.apply(this,arguments)}function vw(){return vw=y(function*(n,e,t,r,i={}){return tP(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=rp(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),eP.fetch()(nP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),vw.apply(this,arguments)}function tP(n,e,t){return ww.apply(this,arguments)}function ww(){return ww=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},IY),e);try{const i=new AY(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ap(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ap(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ap(n,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JR(n,c,l);Wn(n,c)}}catch(i){if(i instanceof Ji)throw i;Wn(n,"network-request-failed")}}),ww.apply(this,arguments)}function Zi(n,e,t,r){return bw.apply(this,arguments)}function bw(){return bw=y(function*(n,e,t,r,i={}){const s=yield Lt(n,e,t,r,i);return"mfaPendingCredential"in s&&Wn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),bw.apply(this,arguments)}function nP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?_w(n.config,i):`${n.config.apiScheme}://${i}`}class AY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"timeout")),DY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ap(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ci(n,e,r);return i.customData._tokenResponse=t,i}function Ew(){return Ew=y(function*(n,e){return Lt(n,"POST","/v1/accounts:delete",e)}),Ew.apply(this,arguments)}function xY(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=y(function*(n,e){return Lt(n,"POST","/v1/accounts:lookup",e)}),Cw.apply(this,arguments)}function Hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Iw(){return Iw=y(function*(n,e=!1){const t=Qt(n),r=yield t.getIdToken(e),i=up(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hc(Dw(i.auth_time)),issuedAtTime:Hc(Dw(i.iat)),expirationTime:Hc(Dw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),Iw.apply(this,arguments)}function Dw(n){return 1e3*Number(n)}function up(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return op("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return nw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i),null}}function es(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ji&&kY(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),Aw.apply(this,arguments)}function kY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class RY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class rP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qc(n){return Sw.apply(this,arguments)}function Sw(){return Sw=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield es(n,xY(t,{idToken:r}));k(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?LY(s.providerUserInfo):[],a=FY(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),Sw.apply(this,arguments)}function Mw(){return Mw=y(function*(n){const e=Qt(n);yield qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),Mw.apply(this,arguments)}function FY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LY(n){return n.map(e=>{var{providerId:t}=e,r=GR(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xw(){return xw=y(function*(n,e){const t=yield tP(n,{},y(function*(){const r=rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=nP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),xw.apply(this,arguments)}class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(void 0!==e.idToken,"internal-error"),k(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=up(n);return k(e,"internal-error"),k(void 0!==e.exp,"internal-error"),k(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return xw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Gc;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function Ls(n,e){k("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Ao{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=GR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new RY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new rP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield es(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return Iw.apply(this,arguments)}(this,e)}reload(){return function(n){return Mw.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield qc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield es(e,function(n,e){return Ew.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(l=t.createdAt)&&void 0!==l?l:void 0,w=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:N,emailVerified:P,isAnonymous:K,providerData:Se,stsTokenManager:Ne}=t;k(N&&Ne,e,"internal-error");const Vn=Gc.fromJSON(this.name,Ne);k("string"==typeof N,e,"internal-error"),Ls(d,e.name),Ls(h,e.name),k("boolean"==typeof P,e,"internal-error"),k("boolean"==typeof K,e,"internal-error"),Ls(f,e.name),Ls(m,e.name),Ls(_,e.name),Ls(v,e.name),Ls(b,e.name),Ls(w,e.name);const an=new Ao({uid:N,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:K,photoURL:m,phoneNumber:f,tenantId:_,stsTokenManager:Vn,createdAt:b,lastLoginAt:w});return Se&&Array.isArray(Se)&&(an.providerData=Se.map(Un=>Object.assign({},Un))),v&&(an._redirectEventId=v),an}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new Gc;i.updateFromServerResponse(t);const s=new Ao({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qc(s),s})()}}const iP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function lp(n,e,t){return`firebase:${n}:${e}:${t}`}class Iu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=lp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ao._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new Iu(Xi(iP),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Xi(iP);const o=lp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Ao._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new Iu(s,e,r)):new Iu(s,e,r)})()}}function sP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cP(e))return"Blackberry";if(dP(e))return"Webos";if(Nw(e))return"Safari";if((e.includes("chrome/")||aP(e))&&!e.includes("edge/"))return"Chrome";if(lP(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function oP(n=Ft()){return/firefox\//i.test(n)}function Nw(n=Ft()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aP(n=Ft()){return/crios\//i.test(n)}function uP(n=Ft()){return/iemobile/i.test(n)}function lP(n=Ft()){return/android/i.test(n)}function cP(n=Ft()){return/blackberry/i.test(n)}function dP(n=Ft()){return/webos/i.test(n)}function cp(n=Ft()){return/iphone|ipad|ipod/i.test(n)}function hP(n=Ft()){return cp(n)||lP(n)||dP(n)||cP(n)||/windows phone/i.test(n)||uP(n)}function fP(n,e=[]){let t;switch(n){case"Browser":t=sP(Ft());break;case"Worker":t=`${sP(Ft())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class $Y{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pP(this),this.idTokenSubscription=new pP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Iu.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield qc(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?Qt(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return y(function*(){if(!t._deleted)return e&&k(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(y(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Xi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&Xi(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield Iu.create(t,[Xi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function Kn(n){return Qt(n)}class pP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new DQ(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class yP{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}function kw(){return kw=y(function*(n,e){return Lt(n,"POST","/v1/accounts:update",e)}),kw.apply(this,arguments)}function Pw(){return Pw=y(function*(n,e){return Zi(n,"POST","/v1/accounts:signInWithPassword",St(n,e))}),Pw.apply(this,arguments)}function jw(){return jw=y(function*(n,e){return Zi(n,"POST","/v1/accounts:signInWithEmailLink",St(n,e))}),jw.apply(this,arguments)}function $w(){return $w=y(function*(n,e){return Zi(n,"POST","/v1/accounts:signInWithEmailLink",St(n,e))}),$w.apply(this,arguments)}class zc extends yP{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return y(function*(){switch(t.signInMethod){case"password":return function(n,e){return Pw.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(n,e){return jw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Wn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return y(function*(){switch(r.signInMethod){case"password":return function(n,e){return kw.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(n,e){return $w.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Wn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ts(n,e){return Hw.apply(this,arguments)}function Hw(){return Hw=y(function*(n,e){return Zi(n,"POST","/v1/accounts:signInWithIdp",St(n,e))}),Hw.apply(this,arguments)}class Qc{constructor(e){var t,r,i,s,o,a;const u=Vc(Uc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);k(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(n){const e=Vc(Uc(n)).link,t=e?Vc(Uc(e)).deep_link_id:null,r=Vc(Uc(n)).deep_link_id;return(r?Vc(Uc(r)).link:null)||r||t||e||n}(e);try{return new Qc(t)}catch(r){return null}}}let wP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return zc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Qc.parseLink(r);return k(i,"argument-error"),zc._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class aJ extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function bP(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=y(function*(n,e){return Zi(n,"POST","/v1/accounts:signUp",St(n,e))}),Qw.apply(this,arguments)}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(function*(){const s=yield Ao._fromIdTokenResponse(e,r,i),o=EP(r);return new Rr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=EP(r);return new Rr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function EP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class fp extends Ji{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fp(e,t,r,i)}}function TP(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?fp._fromErrorAndOperation(n,s,e,r):s})}function Xw(n,e){return Zw.apply(this,arguments)}function Zw(){return Zw=y(function*(n,e,t=!1){const r=yield es(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Rr._forOperation(n,"link",r)}),Zw.apply(this,arguments)}function tb(){return tb=y(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield es(n,TP(r,i,e,n),t);k(s.idToken,r,"internal-error");const o=up(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(n.uid===a,r,"user-mismatch"),Rr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Wn(r,"user-mismatch"),s}}),tb.apply(this,arguments)}function DP(n,e){return nb.apply(this,arguments)}function nb(){return nb=y(function*(n,e,t=!1){const r="signIn",i=yield TP(n,r,e),s=yield Rr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),nb.apply(this,arguments)}function ib(){return ib=y(function*(n,e){return DP(Kn(n),e)}),ib.apply(this,arguments)}function mb(){return mb=y(function*(n,e,t){const r=Kn(n),i=yield bP(r,{returnSecureToken:!0,email:e,password:t}),s=yield Rr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),mb.apply(this,arguments)}function AP(n,e,t){return function(n,e){return ib.apply(this,arguments)}(Qt(n),wP.credential(e,t))}function mJ(n,e){return Tb.apply(this,arguments)}function Tb(){return Tb=y(function*(n,e){return Lt(n,"POST","/v1/accounts:update",e)}),Tb.apply(this,arguments)}function Cb(){return Cb=y(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Qt(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield es(r,mJ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),Cb.apply(this,arguments)}new WeakMap;const mp="__sak";class MP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MJ=(()=>{class n extends MP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=Ft();return Nw(n)||cp(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=hP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);LR()&&10===document.documentMode&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,10):s()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),xP=(()=>{class n extends MP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let NJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return y(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Nb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class OJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=Nb("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Mt(){return window}function Ob(){return void 0!==Mt().WorkerGlobalScope&&"function"==typeof Mt().importScripts}function kb(){return(kb=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const NP="firebaseLocalStorageDb",yp="firebaseLocalStorage",OP="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _p(n,e){return n.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function Rb(){const n=indexedDB.open(NP,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yp,{keyPath:OP})}catch(i){t(i)}}),n.addEventListener("success",y(function*(){const r=n.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),yield function(){const n=indexedDB.deleteDatabase(NP);return new Jc(n).toPromise()}(),e(yield Rb()))}))})}function kP(n,e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=y(function*(n,e,t){const r=_p(n,!0).put({[OP]:e,value:t});return new Jc(r).toPromise()}),Pb.apply(this,arguments)}function Fb(){return Fb=y(function*(n,e){const t=_p(n,!1).get(e),r=yield new Jc(t).toPromise();return void 0===r?null:r.value}),Fb.apply(this,arguments)}function RP(n,e){const t=_p(n,!0).delete(e);return new Jc(t).toPromise()}const $J=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield Rb()),t.db})()}_withRetries(t){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return Ob()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=NJ._getInstance(Ob()?self:null),t.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var r,i;if(t.activeServiceWorker=yield function(){return kb.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new OJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield Rb();return yield kP(t,mp,"1"),yield RP(t,mp),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return y(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>kP(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return y(function*(){const i=yield r._withRetries(s=>function(n,e){return Fb.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>RP(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const r=yield t._withRetries(o=>{const a=_p(o,!1).getAll();return new Jc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function FP(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Mo(n,e){return e?Xi(e):(k(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}FP("rcb"),new $c(3e4,6e4);class zb extends yP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ts(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ts(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sX(n){return DP(n.auth,new zb(n),n.bypassAuthState)}function oX(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),function(n,e){return tb.apply(this,arguments)}(t,new zb(n),n.bypassAuthState)}function aX(n){return Wb.apply(this,arguments)}function Wb(){return Wb=y(function*(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),Xw(t,new zb(n),n.bypassAuthState)}),Wb.apply(this,arguments)}new $c(2e3,1e4);const wp=new Map;class cX extends class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sX;case"linkViaPopup":case"linkViaRedirect":return aX;case"reauthViaPopup":case"reauthViaRedirect":return oX;default:Wn(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let r=wp.get(t.auth._key());if(!r){try{const s=(yield function(n,e){return Xb.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}wp.set(t.auth._key(),r)}return t.bypassAuthState||wp.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function Xb(){return Xb=y(function*(n,e){const t=UP(e),r=VP(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),Xb.apply(this,arguments)}function VP(n){return Xi(n._redirectPersistence)}function UP(n){return lp("pendingRedirect",n.config.apiKey,n.name)}function BP(n,e){return sE.apply(this,arguments)}function sE(){return sE=y(function*(n,e,t=!1){const r=Kn(n),i=Mo(r,e),o=yield new cX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),sE.apply(this,arguments)}class mX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HP(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!HP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($P(e))}saveEventToCache(e){this.cachedEventUids.add($P(e)),this.lastProcessedEventTime=Date.now()}}function $P(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HP({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function _X(n){return aE.apply(this,arguments)}function aE(){return aE=y(function*(n,e={}){return Lt(n,"GET","/v1/projects",e)}),aE.apply(this,arguments)}const vX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wX=/^https?/;function uE(){return uE=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield _X(n);for(const t of e)try{if(EX(t))return}catch(r){}Wn(n,"unauthorized-domain")}),uE.apply(this,arguments)}function EX(n){const e=jc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!wX.test(t))return!1;if(vX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const TX=new $c(3e4,6e4);function qP(){const n=Mt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let bp=null;function IX(n){return bp=bp||function(n){return new Promise((e,t)=>{var r,i,s;function o(){qP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qP(),t(Ci(n,"network-request-failed"))},timeout:TX.get()})}if(null===(i=null===(r=Mt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Mt().gapi)||void 0===s?void 0:s.load)){const a=FP("iframefcb");return Mt()[a]=()=>{gapi.load?o():t(Ci(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ci("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw bp=null,e})}(n),bp}const DX=new $c(5e3,15e3),MX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NX(n){const e=n.config;k(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_w(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Tu},i=xX.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${rp(r).slice(1)}`}function lE(){return lE=y(function*(n){const e=yield IX(n),t=Mt().gapi;return k(t,n,"internal-error"),e.open({where:document.body,url:NX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MX,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ci(n,"network-request-failed"),u=Mt().setTimeout(()=>{o(a)},DX.get());function l(){Mt().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),lE.apply(this,arguments)}const kX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class GP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function zP(n,e,t,r,i,s){k(n.config.authDomain,n,"auth-domain-config-required"),k(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Tu,eventId:i};if(e instanceof Vs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof aJ){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:n}){return n.emulator?_w(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${rp(a).slice(1)}`}const cE="webStorageSupport",qX=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xP,this._completeRedirectFn=BP}_openPopup(e,t,r,i){var s=this;return y(function*(){var o;Fs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=zP(e,t,r,jc(),i);return function(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},kX),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ft().toLowerCase();t&&(a=aP(l)?"_blank":t),oP(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(function(n=Ft()){var e;return cp(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new GP(null);const d=window.open(e||"",a,c);k(d,n,"popup-blocked");try{d.focus()}catch(h){}return new GP(d)}(e,a,Nb())})()}_openRedirect(e,t,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function(n){Mt().location.href=n}(zP(e,t,r,jc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return y(function*(){const r=yield function(n){return lE.apply(this,arguments)}(e),i=new mX(e);return r.register("authEvent",s=>(k(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cE,{type:cE},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[cE];void 0!==o&&t(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return uE.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hP()||Nw()||cp()}};var KP="@firebase/auth";class GX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Du(n=fw()){const e=Eu(n,"auth");return e.isInitialized()?e.getImmediate():function(n,e){const t=Eu(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(np(t.getOptions(),null!=e?e:{}))return i;Wn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:qX,persistence:[$J,MJ,xP]})}!function(n){zn(new On("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{k(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),k(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fP(n)},u=new $Y(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zn(new On("auth-internal",e=>{const t=Kn(e.getProvider("auth").getImmediate());return new GX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(KP,"0.19.4",void 0),it(KP,"0.19.4","esm2017")}("Browser"),it("firebase","9.6.1","app");var B,YX="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ns={},dE=dE||{},ee=YX||self;function Ep(){}function hE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fE="closure_uid_"+(1e9*Math.random()>>>0),XX=0;function ZX(n,e,t){return n.call.apply(n.bind,arguments)}function eZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yt(n,e,t){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZX:eZ).apply(null,arguments)}function Tp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Us(){this.s=this.s,this.o=this.o}var nZ={};Us.prototype.s=!1,Us.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,fE)&&n[fE]||(n[fE]=++XX)}(this);delete nZ[n]}},Us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},JP=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function XP(n){return Array.prototype.concat.apply([],arguments)}function pE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Cp(n){return/^[\s\xa0]*$/.test(n)}var Rn,ZP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kn(n,e){return-1!=n.indexOf(e)}function gE(n,e){return n<e?-1:n>e?1:0}e:{var eF=ee.navigator;if(eF){var tF=eF.userAgent;if(tF){Rn=tF;break e}}Rn=""}function mE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nF(n){const e={};for(const t in n)e[t]=n[t];return e}var rF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<rF.length;s++)t=rF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yE(n){return yE[" "](n),n}yE[" "]=Ep;var Ip,sZ=kn(Rn,"Opera"),Au=kn(Rn,"Trident")||kn(Rn,"MSIE"),sF=kn(Rn,"Edge"),_E=sF||Au,oF=kn(Rn,"Gecko")&&!(kn(Rn.toLowerCase(),"webkit")&&!kn(Rn,"Edge"))&&!(kn(Rn,"Trident")||kn(Rn,"MSIE"))&&!kn(Rn,"Edge"),oZ=kn(Rn.toLowerCase(),"webkit")&&!kn(Rn,"Edge");function aF(){var n=ee.document;return n?n.documentMode:void 0}e:{var vE="",wE=function(){var n=Rn;return oF?/rv:([^\);]+)(\)|;)/.exec(n):sF?/Edge\/([\d\.]+)/.exec(n):Au?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oZ?/WebKit\/(\S+)/.exec(n):sZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(wE&&(vE=wE?wE[1]:""),Au){var bE=aF();if(null!=bE&&bE>parseFloat(vE)){Ip=String(bE);break e}}Ip=vE}var aZ={};function uZ(){return e=aZ,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=ZP(String(Ip)).split("."),t=ZP("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=gE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||gE(0==i[2].length,0==s[2].length)||gE(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var lZ=ee.document&&Au&&(aF()||parseInt(Ip,10))||void 0,cZ=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ee.addEventListener("test",Ep,e),ee.removeEventListener("test",Ep,e)}catch(t){}return n}();function mn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zc(n,e){if(mn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oF){e:{try{yE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zc.Z.h.call(this)}}mn.prototype.h=function(){this.defaultPrevented=!0},Jt(Zc,mn);var dZ={2:"touch",3:"pen",4:"mouse"};Zc.prototype.h=function(){Zc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ed="closure_listenable_"+(1e6*Math.random()|0),hZ=0;function fZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++hZ,this.ca=this.fa=!1}function Dp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ap(n){this.src=n,this.g={},this.h=0}function TE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=YP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Dp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function CE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Ap.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=CE(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new fZ(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var IE="closure_lm_"+(1e6*Math.random()|0),DE={};function lF(n,e,t,r,i){if(r&&r.once)return dF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lF(n,e[s],t,r,i);return null}return t=xE(t),n&&n[ed]?n.N(e,t,Xc(r)?!!r.capture:!!r,i):cF(n,e,t,!1,r,i)}function cF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Xc(i)?!!i.capture:!!i,a=SE(n);if(a||(n[IE]=a=new Ap(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){var e=gZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dF(n,e[s],t,r,i);return null}return t=xE(t),n&&n[ed]?n.O(e,t,Xc(r)?!!r.capture:!!r,i):cF(n,e,t,!0,r,i)}function hF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hF(n,e[s],t,r,i);else r=Xc(r)?!!r.capture:!!r,t=xE(t),n&&n[ed]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=CE(s=n.g[e],t,r,i))&&(Dp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=SE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=CE(e,t,r,i)),(t=-1<n?e[n]:null)&&AE(t))}function AE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ed])TE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=SE(e))?(TE(t,n),0==t.h&&(t.src=null,e[IE]=null)):Dp(n)}}}function fF(n){return n in DE?DE[n]:DE[n]="on"+n}function gZ(n,e){if(n.ca)n=!0;else{e=new Zc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&AE(n),n=t.call(r,e)}return n}function SE(n){return(n=n[IE])instanceof Ap?n:null}var ME="__closure_events_fn_"+(1e9*Math.random()>>>0);function xE(n){return"function"==typeof n?n:(n[ME]||(n[ME]=function(e){return n.handleEvent(e)}),n[ME])}function Vt(){Us.call(this),this.i=new Ap(this),this.P=this,this.I=null}function Xt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mn(e,n);else if(e instanceof mn)e.target=e.target||n;else{var i=e;iF(e=new mn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Sp(o,r,!0,e)&&i}if(i=Sp(o=e.g=n,r,!0,e)&&i,i=Sp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Sp(o=e.g=t[s],r,!1,e)&&i}function Sp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&TE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Jt(Vt,Us),Vt.prototype[ed]=!0,Vt.prototype.removeEventListener=function(n,e,t,r){hF(this,n,e,t,r)},Vt.prototype.M=function(){if(Vt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Dp(t[r]);delete n.g[e],n.h--}}this.I=null},Vt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NE=ee.JSON.stringify;function mZ(){var n=gF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kE,pF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _Z,n=>n.reset());class _Z{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vZ(n){ee.setTimeout(()=>{throw n},0)}function OE(n,e){kE||function(){var n=ee.Promise.resolve(void 0);kE=function(){n.then(bZ)}}(),RE||(kE(),RE=!0),gF.add(n,e)}var RE=!1,gF=new class{constructor(){this.h=this.g=null}add(e,t){const r=pF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function bZ(){for(var n;n=mZ();){try{n.h.call(n.g)}catch(t){vZ(t)}var e=pF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}RE=!1}function Mp(n,e){Vt.call(this),this.h=n||1,this.g=e||ee,this.j=Yt(this.kb,this),this.l=Date.now()}function PE(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function FE(n,e,t){if("function"==typeof n)t&&(n=Yt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yt(n.handleEvent,n)}return 2147483647<Number(e)?-1:ee.setTimeout(n,e||0)}function mF(n){n.g=FE(()=>{n.g=null,n.i&&(n.i=!1,mF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jt(Mp,Vt),(B=Mp.prototype).da=!1,B.S=null,B.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(PE(this),this.start()))}},B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){Mp.Z.M.call(this),PE(this),delete this.g};class EZ extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mF(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function td(n){Us.call(this),this.h=n,this.g={}}Jt(td,Us);var yF=[];function _F(n,e,t,r){Array.isArray(t)||(t&&(yF[0]=t.toString()),t=yF);for(var i=0;i<t.length;i++){var s=lF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function vF(n){mE(n.g,function(e,t){this.g.hasOwnProperty(t)&&AE(e)},n),n.g={}}function xp(){this.g=!0}function Su(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return NE(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}td.prototype.M=function(){td.Z.M.call(this),vF(this)},td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xp.prototype.Aa=function(){this.g=!1},xp.prototype.info=function(){};var xo={},wF=null;function Np(){return wF=wF||new Vt}function bF(n){mn.call(this,xo.Ma,n)}function nd(n){const e=Np();Xt(e,new bF(e,n))}function EF(n,e){mn.call(this,xo.STAT_EVENT,n),this.stat=e}function Pn(n){const e=Np();Xt(e,new EF(e,n))}function TF(n,e){mn.call(this,xo.Na,n),this.size=e}function rd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){n()},e)}xo.Ma="serverreachability",Jt(bF,mn),xo.STAT_EVENT="statevent",Jt(EF,mn),xo.Na="timingevent",Jt(TF,mn);var Op={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function LE(){}function DF(){}LE.prototype.h=null;var BE,id={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function VE(){mn.call(this,"d")}function UE(){mn.call(this,"c")}function kp(){}function sd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new td(this),this.P=AZ,this.W=new Mp(n=_E?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new AF}function AF(){this.i=null,this.g="",this.h=!1}Jt(VE,mn),Jt(UE,mn),Jt(kp,LE),kp.prototype.g=function(){return new XMLHttpRequest},kp.prototype.i=function(){return{}},BE=new kp;var AZ=45e3,jE={},Rp={};function $E(n,e,t){n.K=1,n.v=Up(rs(e)),n.s=t,n.U=!0,SF(n,null)}function SF(n,e){n.F=Date.now(),od(n),n.A=rs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),LF(t.h,"t",r),n.C=0,t=n.l.H,n.h=new AF,n.g=oL(n.l,t?e:null,!n.s),0<n.O&&(n.L=new EZ(Yt(n.Ia,n,n.g),n.O)),_F(n.V,n.g,"readystatechange",n.gb),e=n.H?nF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),nd(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function MF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function xF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=SZ(n,t),i==Rp){4==e&&(n.o=4,Pn(14),r=!1),Su(n.j,n.m,null,"[Incomplete Response]");break}if(i==jE){n.o=4,Pn(15),Su(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Su(n.j,n.m,i,null),HE(n,i)}MF(n)&&i!=Rp&&i!=jE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),eT(e),e.L=!0,Pn(11))):(Su(n.j,n.m,t,"[Invalid Chunked Response]"),No(n),ad(n))}function SZ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rp:(t=Number(e.substring(t,r)),isNaN(t)?jE:(r+=1)+t>e.length?Rp:(e=e.substr(r,t),n.C=r+t,e))}function od(n){n.Y=Date.now()+n.P,NF(n,n.P)}function NF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rd(Yt(n.eb,n),e)}function Pp(n){n.B&&(ee.clearTimeout(n.B),n.B=null)}function ad(n){0==n.l.G||n.I||nL(n.l,n)}function No(n){Pp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,PE(n.W),vF(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function HE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||zE(t.i,n)))if(t.I=n.N,!n.J&&zE(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=rd(Yt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Gp(t),Hp(t)}ZE(t),Pn(18)}if(1>=BF(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else Ro(t,11)}else if((n.J||t.g==n)&&Gp(t),!Cp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;!s.g&&(kn(m,"spdy")||kn(m,"quic")||kn(m,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(WE(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Ke(r.F,r.D,_))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=sL(r,r.H?r.la:null,r.W),o.J){jF(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Pp(a),od(a)),r.g=o}else eL(r);0<t.l.length&&qp(t)}else"stop"!=l[0]&&"close"!=l[0]||Ro(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ro(t,7):JE(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}nd(4)}catch(l){}}function qE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hE(n)||"string"==typeof n)JP(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(hE(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(hE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Mu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Mu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function GE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Oo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Oo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Oo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(B=sd.prototype).setTimeout=function(n){this.P=n},B.gb=function(n){n=n.target;const e=this.L;e&&3==is(n)?e.l():this.Ia(n)},B.Ia=function(n){try{if(n==this.g)e:{const c=is(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||_E||this.g&&(this.h.h||this.g.ga()||QF(this.g)))){this.I||4!=c||7==e||nd(8==e||0>=d?3:2),Pp(this);var t=this.g.ba();this.N=t;t:if(MF(this)){var r=QF(this.g);n="";var i=r.length,s=4==is(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){No(this),ad(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cp(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Pn(12),No(this),ad(this);break e}Su(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HE(this,t)}this.U?(xF(this,c,o),_E&&this.i&&3==c&&(_F(this.V,this.W,"tick",this.fb),this.W.start())):(Su(this.j,this.m,o,null),HE(this,o)),4==c&&No(this),this.i&&!this.I&&(4==c?nL(this.l,this):(this.i=!1,od(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),No(this),ad(this)}}}catch(c){}},B.fb=function(){if(this.g){var n=is(this.g),e=this.g.ga();this.C<e.length&&(Pp(this),xF(this,n,e),this.i&&4!=n&&od(this))}},B.cancel=function(){this.I=!0,No(this)},B.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nd(3),Pn(17)),No(this),this.o=2,ad(this)):NF(this,this.Y-n)},(B=Mu.prototype).R=function(){GE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},B.T=function(){return GE(this),this.g.concat()},B.get=function(n,e){return Oo(this.h,n)?this.h[n]:e},B.set=function(n,e){Oo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},B.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var OF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ko(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ko){this.g=void 0!==e?e:n.g,Fp(this,n.j),this.s=n.s,Lp(this,n.i),Vp(this,n.m),this.l=n.l,e=n.h;var t=new cd;t.i=e.i,e.g&&(t.g=new Mu(e.g),t.h=e.h),kF(this,t),this.o=n.o}else n&&(t=String(n).match(OF))?(this.g=!!e,Fp(this,t[1]||"",!0),this.s=ud(t[2]||""),Lp(this,t[3]||"",!0),Vp(this,t[4]),this.l=ud(t[5]||"",!0),kF(this,t[6]||"",!0),this.o=ud(t[7]||"")):(this.g=!!e,this.h=new cd(null,this.g))}function rs(n){return new ko(n)}function Fp(n,e,t){n.j=t?ud(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lp(n,e,t){n.i=t?ud(e,!0):e}function Vp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kF(n,e,t){e instanceof cd?(n.h=e,function(n,e){e&&!n.j&&(Bs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(PF(this,r),LF(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ld(e,FZ)),n.h=new cd(e,n.g))}function Ke(n,e,t){n.h.set(e,t)}function Up(n){return Ke(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ud(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ld(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ko.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ld(e,RF,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ld(e,RF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ld(t,"/"==t.charAt(0)?PZ:RZ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ld(t,LZ)),n.join("")};var RF=/[#\/\?@]/g,RZ=/[#\?:]/g,PZ=/[#\?]/g,FZ=/[#\?@]/g,LZ=/#/g;function cd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bs(n){n.g||(n.g=new Mu,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PF(n,e){Bs(n),e=xu(n,e),Oo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Oo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&GE(n)))}function FF(n,e){return Bs(n),e=xu(n,e),Oo(n.g.h,e)}function LF(n,e,t){PF(n,e),0<t.length&&(n.i=null,n.g.set(xu(n,e),pE(t)),n.h+=t.length)}function xu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VF(n){this.l=n||BZ,n=ee.PerformanceNavigationTiming?0<(n=ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=cd.prototype).add=function(n,e){Bs(this),this.i=null,n=xu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){Bs(this),this.g.forEach(function(t,r){JP(t,function(i){n.call(e,i,r,this)},this)},this)},B.T=function(){Bs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},B.R=function(n){Bs(this);var e=[];if("string"==typeof n)FF(this,n)&&(e=XP(e,this.g.get(xu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=XP(e,n[t])}return e},B.set=function(n,e){return Bs(this),this.i=null,FF(this,n=xu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var BZ=10;function UF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BF(n){return n.h?1:n.g?n.g.size:0}function zE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function WE(n,e){n.g?n.g.add(e):n.h=e}function jF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $F(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pE(n.i)}function KE(){}function jZ(){this.g=new KE}function $Z(n,e,t){const r=t||"";try{qE(n,function(i,s){let o=i;Xc(i)&&(o=NE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function dd(n){this.l=n.$b||null,this.j=n.ib||!1}function jp(n,e){Vt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VF.prototype.cancel=function(){if(this.i=$F(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KE.prototype.stringify=function(n){return ee.JSON.stringify(n,void 0)},KE.prototype.parse=function(n){return ee.JSON.parse(n,void 0)},Jt(dd,LE),dd.prototype.g=function(){return new jp(this.l,this.j)},dd.prototype.i=function(n){return function(){return n}}({}),Jt(jp,Vt);var QE=0;function HF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fd(n)}function fd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=jp.prototype).open=function(n,e){if(this.readyState!=QE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fd(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hd(this)),this.readyState=QE},B.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fd(this)),this.g&&(this.readyState=3,fd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ee.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},B.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hd(this):fd(this),3==this.readyState&&HF(this)}},B.Ua=function(n){this.g&&(this.response=this.responseText=n,hd(this))},B.Ta=function(n){this.g&&(this.response=n,hd(this))},B.ha=function(){this.g&&hd(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qZ=ee.JSON.parse;function vt(n){Vt.call(this),this.headers=new Mu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qF,this.K=this.L=!1}Jt(vt,Vt);var qF="",GZ=/^https?$/i,zZ=["POST","PUT"];function KZ(n){return"content-type"==n.toLowerCase()}function GF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zF(n),$p(n)}function zF(n){n.D||(n.D=!0,Xt(n,"complete"),Xt(n,"error"))}function WF(n){if(n.h&&void 0!==dE&&(!n.C[1]||4!=is(n)||2!=n.ba()))if(n.v&&4==is(n))FE(n.Fa,0,n);else if(Xt(n,"readystatechange"),4==is(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(OF)[1]||null;if(!i&&ee.self&&ee.self.location){var s=ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!GZ.test(i?i.toLowerCase():"")}t=r}if(t)Xt(n,"complete"),Xt(n,"success");else{n.m=6;try{var o=2<is(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",zF(n)}}finally{$p(n)}}}function $p(n,e){if(n.g){KF(n);const t=n.g,r=n.C[0]?Ep:null;n.g=null,n.C=null,e||Xt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function KF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ee.clearTimeout(n.A),n.A=null)}function is(n){return n.g?n.g.readyState:0}function QF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function YE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return mE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ke(n,e,t))}function pd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YF(n){this.za=0,this.l=[],this.h=new xp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pd("baseRetryDelayMs",5e3,n),this.$a=pd("retryDelaySeedMs",1e4,n),this.Ya=pd("forwardChannelMaxRetries",2,n),this.ra=pd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VF(n&&n.concurrentRequestLimit),this.Ca=new jZ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function JE(n){if(JF(n),3==n.G){var e=n.V++,t=rs(n.F);Ke(t,"SID",n.J),Ke(t,"RID",e),Ke(t,"TYPE","terminate"),gd(n,t),(e=new sd(n,n.h,e,void 0)).K=2,e.v=Up(rs(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon&&(t=ee.navigator.sendBeacon(e.v.toString(),"")),!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=oL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),od(e)}iL(n)}function Hp(n){n.g&&(eT(n),n.g.cancel(),n.g=null)}function JF(n){Hp(n),n.u&&(ee.clearTimeout(n.u),n.u=null),Gp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ee.clearTimeout(n.m),n.m=null)}function XE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&qp(n)}function qp(n){UF(n.i)||n.m||(n.m=!0,OE(n.Ha,n),n.C=0)}function XF(n,e){var t;t=e?e.m:n.V++;const r=rs(n.F);Ke(r,"SID",n.J),Ke(r,"RID",t),Ke(r,"AID",n.U),gd(n,r),n.o&&n.s&&YE(r,n.o,n.s),t=new sd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ZF(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),WE(n.i,t),$E(t,r,e)}function gd(n,e){n.j&&qE({},function(t,r){Ke(e,r,t)})}function ZF(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yt(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{$Z(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function eL(n){n.g||n.u||(n.Y=1,OE(n.Ga,n),n.A=0)}function ZE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rd(Yt(n.Ga,n),rL(n,n.A)),n.A++,0))}function eT(n){null!=n.B&&(ee.clearTimeout(n.B),n.B=null)}function tL(n){n.g=new sd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=rs(n.oa);Ke(e,"RID","rpc"),Ke(e,"SID",n.J),Ke(e,"CI",n.N?"0":"1"),Ke(e,"AID",n.U),gd(n,e),Ke(e,"TYPE","xmlhttp"),n.o&&n.s&&YE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Up(rs(e)),t.s=null,t.U=!0,SF(t,n)}function Gp(n){null!=n.v&&(ee.clearTimeout(n.v),n.v=null)}function nL(n,e){var t=null;if(n.g==e){Gp(n),eT(n),n.g=null;var r=2}else{if(!zE(n.i,e))return;t=e.D,jF(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xt(r=Np(),new TF(r,t,e,i)),qp(n)}else eL(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(BF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rd(Yt(n.Ha,n,e),rL(n,n.C)),n.C++,0)))}(n,e)||2==r&&ZE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ro(n,5);break;case 4:Ro(n,10);break;case 3:Ro(n,6);break;default:Ro(n,2)}}function rL(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ro(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yt(n.jb,n);t||(t=new ko("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Fp(t,"https"),Up(t)),function(n,e){const t=new xp;if(ee.Image){const r=new Image;r.onload=Tp(Bp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Tp(Bp,t,r,"TestLoadImage: error",!1,e),r.onabort=Tp(Bp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tp(Bp,t,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Pn(2);n.G=0,n.j&&n.j.va(e),iL(n),JF(n)}function iL(n){n.G=0,n.I=-1,n.j&&((0!=$F(n.i).length||0!=n.l.length)&&(n.i.i.length=0,pE(n.l),n.l.length=0),n.j.ua())}function sL(n,e,t){let r=function(n){return n instanceof ko?rs(n):new ko(n,void 0)}(t);if(""!=r.i)e&&Lp(r,e+"."+r.i),Vp(r,r.m);else{const i=ee.location;r=function(n,e,t,r){var i=new ko(null,void 0);return n&&Fp(i,n),e&&Lp(i,e),t&&Vp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&mE(n.aa,function(i,s){Ke(r,s,i)}),t=n.sa,(e=n.D)&&t&&Ke(r,e,t),Ke(r,"VER",n.ma),gd(n,r),r}function oL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vt(t&&n.Ba&&!n.qa?new dd({ib:!0}):n.qa)).L=n.H,e}function aL(){}function zp(){if(Au&&!(10<=Number(lZ)))throw Error("Environmental error: no available transport.")}function yr(n,e){Vt.call(this),this.g=new YF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Cp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nu(this)}function uL(n){VE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lL(){UE.call(this),this.status=1}function Nu(n){this.g=n}(B=vt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():BE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:BE),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void GF(this,s)}n=t||"";const i=new Mu(this.headers);r&&qE(r,function(s,o){i.set(o,s)}),r=function(n){e:{var e=KZ;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=ee.FormData&&n instanceof ee.FormData,!(0<=YP(zZ,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KF(this),0<this.B&&((this.K=function(n){return Au&&uZ()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=FE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){GF(this,s)}},B.pa=function(){void 0!==dE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xt(this,"complete"),Xt(this,"abort"),$p(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$p(this,!0)),vt.Z.M.call(this)},B.Fa=function(){this.s||(this.F||this.v||this.l?WF(this):this.cb())},B.cb=function(){WF(this)},B.ba=function(){try{return 2<is(this)?this.g.status:-1}catch(n){return-1}},B.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},B.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qZ(e)}},B.Da=function(){return this.m},B.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=YF.prototype).ma=8,B.G=1,B.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},B.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new sd(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=nF(s),iF(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZF(this,i,e),Ke(t=rs(this.F),"RID",n),Ke(t,"CVER",22),this.D&&Ke(t,"X-HTTP-Session-Id",this.D),gd(this,t),this.o&&s&&YE(t,this.o,s),WE(this.i,i),this.Ra&&Ke(t,"TYPE","init"),this.ja?(Ke(t,"$req",e),Ke(t,"SID","null"),i.$=!0,$E(i,t,null)):$E(i,t,e),this.G=2}}else 3==this.G&&(n?XF(this,n):0==this.l.length||UF(this.i)||XF(this))},B.Ga=function(){if(this.u=null,tL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rd(Yt(this.bb,this),n)}},B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pn(10),Hp(this),tL(this))},B.ab=function(){null!=this.v&&(this.v=null,Hp(this),ZE(this),Pn(19))},B.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pn(2)):(this.h.info("Failed to ping google.com"),Pn(1))},(B=aL.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Oa=function(){},zp.prototype.g=function(n,e){return new yr(n,e)},Jt(yr,Vt),yr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),OE(Yt(n.hb,n,e))),Pn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sL(n,null,n.W),qp(n)},yr.prototype.close=function(){JE(this.g)},yr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,XE(this.g,e)}else this.v?((e={}).__data__=NE(n),XE(this.g,e)):XE(this.g,n)},yr.prototype.M=function(){this.g.j=null,delete this.j,JE(this.g),delete this.g,yr.Z.M.call(this)},Jt(uL,VE),Jt(lL,UE),Jt(Nu,aL),Nu.prototype.xa=function(){Xt(this.g,"a")},Nu.prototype.wa=function(n){Xt(this.g,new uL(n))},Nu.prototype.va=function(n){Xt(this.g,new lL(n))},Nu.prototype.ua=function(){Xt(this.g,"b")},zp.prototype.createWebChannel=zp.prototype.g,yr.prototype.send=yr.prototype.u,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,Op.NO_ERROR=0,Op.TIMEOUT=8,Op.HTTP_ERROR=6,CF.COMPLETE="complete",DF.EventType=id,id.OPEN="a",id.CLOSE="b",id.ERROR="c",id.MESSAGE="d",Vt.prototype.listen=Vt.prototype.N,vt.prototype.listenOnce=vt.prototype.O,vt.prototype.getLastError=vt.prototype.La,vt.prototype.getLastErrorCode=vt.prototype.Da,vt.prototype.getStatus=vt.prototype.ba,vt.prototype.getResponseJson=vt.prototype.Qa,vt.prototype.getResponseText=vt.prototype.ga,vt.prototype.send=vt.prototype.ea;var JZ=ns.createWebChannelTransport=function(){return new zp},XZ=ns.getStatEventTarget=function(){return Np()},tT=ns.ErrorCode=Op,ZZ=ns.EventType=CF,eee=ns.Event=xo,cL=ns.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tee=ns.FetchXmlHttpFactory=dd,Wp=ns.WebChannel=DF,nee=ns.XhrIo=vt;const dL="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Ou="9.6.1";const js=new bu("@firebase/firestore");function nT(){return js.logLevel}function O(n,...e){if(js.logLevel<=be.DEBUG){const t=e.map(rT);js.debug(`Firestore (${Ou}): ${n}`,...t)}}function wt(n,...e){if(js.logLevel<=be.ERROR){const t=e.map(rT);js.error(`Firestore (${Ou}): ${n}`,...t)}}function Kp(n,...e){if(js.logLevel<=be.WARN){const t=e.map(rT);js.warn(`Firestore (${Ou}): ${n}`,...t)}}function rT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function H(n="Unexpected state"){const e=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: `+n;throw wt(e),new Error(e)}function Y(n,e){n||H()}function R(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ree{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class see{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new hL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new Zt(e)}}class oee{constructor(e,t,r){this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class aee{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new oee(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uee{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),t(s.token);var s})};const r=i=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),new fL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class _r{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lee(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_r.I=-1;class pL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(n,e){return n<e?-1:n>e?1:0}function ku(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class en{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new en(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new en(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class md{constructor(e,t,r){void 0===t?t=0:t>e.length&&H(),void 0===r?r=e.length-t:r>e.length-t&&H(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===md.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof md?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class De extends md{construct(e,t,r){return new De(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new De(t)}static emptyPath(){return new De([])}}const cee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends md{construct(e,t,r){return new yn(e,t,r)}static isValidIdentifier(e){return cee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class Ru{constructor(e){this.fields=e,e.sort(yn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Bt(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const dee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(n){if(Y(!!n),"string"==typeof n){let e=0;const t=dee.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Pu(n){return"string"==typeof n?Bt.fromBase64String(n):Bt.fromUint8Array(n)}function iT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _L(n){const e=n.mapValue.fields.__previous_value__;return iT(e)?_L(e):e}function yd(n){const e=$s(n.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}function Fo(n){return null==n}function Qp(n){return 0===n&&1/n==-1/0}class ${constructor(e){this.path=e}static fromPath(e){return new $(De.fromString(e))}static fromName(e){return new $(De.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===De.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new De(e.slice()))}}function Lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iT(n)?4:10:H()}function Di(n,e){const t=Lo(n);if(t!==Lo(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=$s(r.timestampValue),o=$s(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Pu(n.bytesValue).isEqual(Pu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?Qp(s)===Qp(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return ku(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(mL(s)!==mL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Di(s[a],o[a])))return!1;return!0}(n,e);default:return H()}var i}function _d(n,e){return void 0!==(n.values||[]).find(t=>Di(t,e))}function Fu(n,e){const t=Lo(n),r=Lo(e);if(t!==r)return _e(t,r);switch(t){case 0:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return wL(n.timestampValue,e.timestampValue);case 4:return wL(yd(n),yd(e));case 5:return _e(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Pu(i),a=Pu(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=_e(o[u],a[u]);if(0!==l)return l}return _e(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(bt(i.latitude),bt(s.latitude));return 0!==o?o:_e(bt(i.longitude),bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Fu(o[u],a[u]);if(l)return l}return _e(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=_e(a[c],l[c]);if(0!==d)return d;const h=Fu(o[a[c]],u[l[c]]);if(0!==h)return h}return _e(a.length,l.length)}(n.mapValue,e.mapValue);default:throw H()}}function wL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _e(n,e);const t=$s(n),r=$s(e),i=_e(t.seconds,r.seconds);return 0!==i?i:_e(t.nanos,r.nanos)}function sT(n){return oT(n)}function oT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=$s(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Pu(n.bytesValue).toBase64():"referenceValue"in n?$.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=oT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${oT(r.fields[a])}`;return s+"}"}(n.mapValue):H();var e}function Yp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aT(n){return!!n&&"integerValue"in n}function uT(n){return!!n&&"arrayValue"in n}function bL(n){return!!n&&"nullValue"in n}function EL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jp(n){return!!n&&"mapValue"in n}function vd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(t)}setAll(e){let t=yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=vd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Po(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(vd(this.value))}}function TL(n){const e=[];return Po(n.fields,(t,r)=>{const i=new yn([t]);if(Jp(r)){const s=TL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ru(e)}class Qe{constructor(e,t,r,i,s){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Qe(e,0,oe.min(),_n.empty(),0)}static newFoundDocument(e,t,r){return new Qe(e,1,t,r,0)}static newNoDocument(e,t){return new Qe(e,2,t,_n.empty(),0)}static newUnknownDocument(e,t){return new Qe(e,3,t,_n.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Qe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function CL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hee(n,e,t,r,i,s,o)}function wd(n){const e=R(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+sT(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Fo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=eg(e.startAt)),e.endAt&&(t+="|ub:",t+=eg(e.endAt)),e.R=t}return e.R}function Xp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Eee(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Di(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AL(n.startAt,e.startAt)&&AL(n.endAt,e.endAt)}function Zp(n){return $.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Fn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new gee(e,t,r):"array-contains"===t?new _ee(e,r):"in"===t?new vee(e,r):"not-in"===t?new wee(e,r):"array-contains-any"===t?new bee(e,r):new Fn(e,t,r)}static P(e,t,r){return"in"===t?new mee(e,r):new yee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Fu(t,this.value)):null!==t&&Lo(this.value)===Lo(t)&&this.v(Fu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gee extends Fn{constructor(e,t,r){super(e,t,r),this.key=$.fromName(r.referenceValue)}matches(e){const t=$.comparator(e.key,this.key);return this.v(t)}}class mee extends Fn{constructor(e,t){super(e,"in",t),this.keys=IL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yee extends Fn{constructor(e,t){super(e,"not-in",t),this.keys=IL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$.fromName(r.referenceValue))}class _ee extends Fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uT(t)&&_d(t.arrayValue,this.value)}}class vee extends Fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_d(this.value.arrayValue,t)}}class wee extends Fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_d(this.value.arrayValue,t)}}class bee extends Fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}class bd{constructor(e,t){this.position=e,this.before=t}}function eg(n){return`${n.before?"b":"a"}:${n.position.map(e=>sT(e)).join(",")}`}class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function DL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?$.comparator($.fromName(o.referenceValue),t.key):Fu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function AL(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}class ss{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Vu(n){return new ss(n)}function tg(n){return!Fo(n.limit)&&"F"===n.limitType}function ng(n){return!Fo(n.limit)&&"L"===n.limitType}function lT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function cT(n){for(const e of n.filters)if(e.V())return e.field;return null}function dT(n){return null!==n.collectionGroup}function Uu(n){const e=R(n);if(null===e.S){e.S=[];const t=cT(e),r=lT(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Lu(t)),e.S.push(new Lu(yn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Lu(yn.keyField(),s))}}}return e.S}function Pr(n){const e=R(n);if(!e.D)if("F"===e.limitType)e.D=CL(e.path,e.collectionGroup,Uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Uu(e))t.push(new Lu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new bd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new bd(e.startAt.position,!e.startAt.before):null;e.D=CL(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function ML(n,e,t){return new ss(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ed(n,e){return Xp(Pr(n),Pr(e))&&n.limitType===e.limitType}function xL(n){return`${wd(Pr(n))}|lt:${n.limitType}`}function hT(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${sT(r.value)}`;var r}).join(", ")}]`),Fo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+eg(n.startAt)),n.endAt&&(e+=", endAt: "+eg(n.endAt)),`Target(${e})`}(Pr(n))}; limitType=${n.limitType})`}function Td(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!DL(t.startAt,Uu(t),r)||t.endAt&&DL(t.endAt,Uu(t),r)));var t,r}function NL(n){return(e,t)=>{let r=!1;for(const i of Uu(n)){const s=Tee(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Tee(n,e,t){const r=n.field.isKeyField()?$.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Fu(a,u):H()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}function OL(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qp(e)?"-0":e}}function kL(n){return{integerValue:""+n}}function RL(n,e){return function(n){return"number"==typeof n&&Number.isInteger(n)&&!Qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?kL(e):OL(n,e)}class rg{constructor(){this._=void 0}}function Cee(n,e,t){return n instanceof Bu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Vo?FL(n,e):n instanceof Uo?LL(n,e):function(r,i){const s=PL(r,i),o=VL(s)+VL(r.N);return aT(s)&&aT(r.N)?kL(o):OL(r.k,o)}(n,e)}function Iee(n,e,t){return n instanceof Vo?FL(n,e):n instanceof Uo?LL(n,e):t}function PL(n,e){return n instanceof ju?aT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Bu extends rg{}class Vo extends rg{constructor(e){super(),this.elements=e}}function FL(n,e){const t=UL(e);for(const r of n.elements)t.some(i=>Di(i,r))||t.push(r);return{arrayValue:{values:t}}}class Uo extends rg{constructor(e){super(),this.elements=e}}function LL(n,e){let t=UL(e);for(const r of n.elements)t=t.filter(i=>!Di(i,r));return{arrayValue:{values:t}}}class ju extends rg{constructor(e,t){super(),this.k=e,this.N=t}}function VL(n){return bt(n.integerValue||n.doubleValue)}function UL(n){return uT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.field=e,this.transform=t}}class Aee{constructor(e,t){this.version=e,this.transformResults=t}}class Et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sg{}function See(n,e,t){n instanceof Id?function(r,i,s){const o=r.value.clone(),a=HL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Hs?function(r,i,s){if(!ig(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=HL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll($L(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fT(n,e,t){var i;n instanceof Id?function(r,i,s){if(!ig(r.precondition,i))return;const o=r.value.clone(),a=qL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(jL(i),o).setHasLocalMutations()}(n,e,t):n instanceof Hs?function(r,i,s){if(!ig(r.precondition,i))return;const o=qL(r.fieldTransforms,s,i),a=i.data;a.setAll($L(r)),a.setAll(o),i.convertToFoundDocument(jL(i),a).setHasLocalMutations()}(n,e,t):ig(n.precondition,i=e)&&i.convertToNoDocument(oe.min())}function Mee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=PL(r.transform,i||null);null!=s&&(null==t&&(t=_n.empty()),t.set(r.field,s))}return t||null}function BL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ku(t,r,(i,s)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vo&&r instanceof Vo||t instanceof Uo&&r instanceof Uo?ku(t.elements,r.elements,Di):t instanceof ju&&r instanceof ju?Di(t.N,r.N):t instanceof Bu&&r instanceof Bu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function jL(n){return n.isFoundDocument()?n.version:oe.min()}class Id extends sg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Hs extends sg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function $L(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function HL(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Iee(o,a,t[i]))}return r}function qL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Cee(s,o,e))}return r}class Dd extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class pT extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class xee{constructor(e){this.count=e}}var Tt,Ee;function GL(n){switch(n){default:return H();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function zL(n){if(void 0===n)return wt("GRPC error has no .code"),I.UNKNOWN;switch(n){case Tt.OK:return I.OK;case Tt.CANCELLED:return I.CANCELLED;case Tt.UNKNOWN:return I.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return I.INTERNAL;case Tt.UNAVAILABLE:return I.UNAVAILABLE;case Tt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Tt.NOT_FOUND:return I.NOT_FOUND;case Tt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Tt.ABORTED:return I.ABORTED;case Tt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Tt.DATA_LOSS:return I.DATA_LOSS;default:return H()}}(Ee=Tt||(Tt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";class xt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new og(this.root,e,this.comparator,!1)}getReverseIterator(){return new og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new og(this.root,e,this.comparator,!0)}}class og{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:tn.RED,this.left=null!=i?i:tn.EMPTY,this.right=null!=s?s:tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new tn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1,tn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(n,e,t,r,i){return this}insert(n,e,t){return new tn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WL(this.data.getIterator())}getIteratorFrom(e){return new WL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class WL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Nee=new xt($.comparator);function Fr(){return Nee}const Oee=new xt($.comparator);function gT(){return Oee}const kee=new xt($.comparator);const Ree=new st($.comparator);function xe(...n){let e=Ree;for(const t of n)e=e.add(t);return e}const Pee=new st(_e);function ag(){return Pee}class Ad{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ad(oe.min(),r,ag(),Fr(),xe())}}class Sd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Sd(Bt.EMPTY_BYTE_STRING,t,xe(),xe(),xe())}}class ug{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.F=i}}class QL{constructor(e,t){this.targetId=e,this.O=t}}class YL{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JL{constructor(){this.M=0,this.L=ZL(),this.B=Bt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=xe(),t=xe(),r=xe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Sd(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=ZL()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Fee{constructor(e){this.et=e,this.nt=new Map,this.st=Fr(),this.it=XL(),this.rt=new st(_e)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:H()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.O.count,i=this.wt(t);if(i){const s=i.target;if(Zp(s))if(0===r){const o=new $(s.path);this.ct(t,o,Qe.newNoDocument(o,oe.min()))}else Y(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Zp(a.target)){const u=new $(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Qe.newNoDocument(u,e))}s.j&&(t.set(o,s.G()),s.H())}});let r=xe();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Ad(e,t,this.rt,this.st,r);return this.st=Fr(),this.it=XL(),this.rt=new st(_e),i}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new JL,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new st(_e),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new JL),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function XL(){return new xt($.comparator)}function ZL(){return new xt($.comparator)}const Lee={asc:"ASCENDING",desc:"DESCENDING"},Vee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Uee{constructor(e,t){this.databaseId=e,this.C=t}}function Md(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eV(n,e){return n.C?e.toBase64():e.toUint8Array()}function Bee(n,e){return Md(n,e.toTimestamp())}function jt(n){return Y(!!n),oe.fromTimestamp(function(e){const t=$s(e);return new en(t.seconds,t.nanos)}(n))}function mT(n,e){return(t=n,new De(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tV(n){const e=De.fromString(n);return Y(fV(e)),e}function xd(n,e){return mT(n.databaseId,e.path)}function Ai(n,e){const t=tV(e);if(t.get(1)!==n.databaseId.projectId)throw new x(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(rV(t))}function yT(n,e){return mT(n.databaseId,e)}function Nd(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rV(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iV(n,e,t){return{name:xd(n,e),fields:t.value.mapValue.fields}}function aV(n,e){return{documents:[yT(n,e.path)]}}function uV(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(l=>function(c){if("=="===c.op){if(EL(c.value))return{unaryFilter:{field:$u(c.field),op:"IS_NAN"}};if(bL(c.value))return{unaryFilter:{field:$u(c.field),op:"IS_NULL"}}}else if("!="===c.op){if(EL(c.value))return{unaryFilter:{field:$u(c.field),op:"IS_NOT_NAN"}};if(bL(c.value))return{unaryFilter:{field:$u(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(c.field),op:zee(c.op),value:c.value}}}(l));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:$u((l=u).field),direction:Gee(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(u=e.limit,n.C||Fo(u)?u:{value:u});var u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=dV(e.startAt)),e.endAt&&(t.structuredQuery.endAt=dV(e.endAt)),t}function lV(n){let e=function(n){const e=tV(n);return 4===e.length?De.emptyPath():rV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=cV(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new Lu(Hu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Fo(d)?null:d}(t.limit));let u=null;t.startAt&&(u=hV(t.startAt));let l=null;return t.endAt&&(l=hV(t.endAt)),function(n,e,t,r,i,s,o,a){return new ss(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function cV(n){return n?void 0!==n.unaryFilter?[Kee(n)]:void 0!==n.fieldFilter?[Wee(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>cV(e)).reduce((e,t)=>e.concat(t)):H():[]}function dV(n){return{before:n.before,values:n.position}}function hV(n){return new bd(n.values||[],!!n.before)}function Gee(n){return Lee[n]}function zee(n){return Vee[n]}function $u(n){return{fieldPath:n.canonicalString()}}function Hu(n){return yn.fromServerFormat(n.fieldPath)}function Wee(n){return Fn.create(Hu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}function Kee(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Hu(n.unaryFilter.field);return Fn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hu(n.unaryFilter.field);return Fn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hu(n.unaryFilter.field);return Fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hu(n.unaryFilter.field);return Fn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return H()}}function Qee(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ti(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pV(e)),e=Yee(n.get(t),e);return pV(e)}function Yee(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function pV(n){return n+"\x01\x01"}class vr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}vr.store="owner",vr.key="owner";class qs{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}qs.store="mutationQueues",qs.keyPath="userId";class ze{constructor(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];class vn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ti(t)]}static key(e,t,r){return[e,ti(t),r]}}vn.store="documentMutations",vn.PLACEHOLDER=new vn;class ot{constructor(e,t,r,i,s,o){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}ot.store="remoteDocuments",ot.readTimeIndex="readTimeIndex",ot.readTimeIndexPath="readTime",ot.collectionReadTimeIndex="collectionReadTimeIndex",ot.collectionReadTimeIndexPath=["parentPath","readTime"];class Si{constructor(e){this.byteSize=e}}Si.store="remoteDocumentGlobal",Si.key="remoteDocumentGlobalKey";class Qn{constructor(e,t,r,i,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Qn.store="targets",Qn.keyPath="targetId",Qn.queryTargetsIndexName="queryTargetsIndex",Qn.queryTargetsKeyPath=["canonicalId","targetId"];class nn{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}nn.store="targetDocuments",nn.keyPath=["targetId","path"],nn.documentTargetsIndex="documentTargetsIndex",nn.documentTargetsKeyPath=["path","targetId"];class wr{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}wr.key="targetGlobalKey",wr.store="targetGlobal";class Bo{constructor(e,t){this.collectionId=e,this.parent=t}}Bo.store="collectionParents",Bo.keyPath=["collectionId","parent"];class as{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}as.store="clientMetadata",as.keyPath="clientId";class qu{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}qu.store="bundles",qu.keyPath="bundleId";class Gu{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Gu.store="namedQueries",Gu.keyPath="name";const gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof A?t:A.resolve(t)}catch(t){return A.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):A.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):A.reject(t)}static resolve(e){return new A((t,r)=>{t(e)})}static reject(e){return new A((t,r)=>{r(e)})}static waitFor(e){return new A((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=A.resolve(!1);for(const r of e)t=t.next(i=>i?A.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function jo(n){return"IndexedDbTransactionError"===n.name}class vT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&See(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(oe.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,(t,r)=>BL(t,r))&&ku(this.baseMutations,e.baseMutations,(t,r)=>BL(t,r))}}class wT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=kee;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wT(e,t,r,i)}}class Gs{constructor(e,t,r,i,s=oe.min(),o=oe.min(),a=Bt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _V{constructor(e){this.Gt=e}}function TT(n){const e=lV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ML(e,e.limit,"L"):e}class ste{constructor(){this.zt=new CT}addToCollectionParentIndex(e,t){return this.zt.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.zt.getEntries(t))}}class CT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st(De.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(De.comparator)).toArray()}}class Jn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(41943040,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class Ho{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ho(0)}static re(){return new Ho(-1)}}function qo(n){return DT.apply(this,arguments)}function DT(){return DT=y(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==gV)throw n;O("LocalStore","Unexpectedly lost primary lease")}),DT.apply(this,arguments)}class Ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){Po(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yL(this.inner)}}class kV{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return $.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):dT(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new $(t)).next(r=>{let i=gT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let s=gT();return this.Jt.getCollectionParents(e,i).next(o=>A.forEach(o,a=>{const u=(l=t,c=a.child(i),new ss(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.Cn(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}Cn(e,t,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,t,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const l of u.mutations){const c=l.key;let d=i.get(c);null==d&&(d=Qe.newInvalidDocument(c),i=i.insert(c,d)),fT(l,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{Td(t,a)||(i=i.remove(o))}),i))}Nn(e,t,r){let i=xe();for(const o of t)for(const a of o.mutations)a instanceof Hs&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class xT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=xe(),i=xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xT(e,t.fromCache,r,i)}}class RV{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(oe.min())?this.Mn(e,t):this.On.vn(e,i).next(s=>{const o=this.Ln(t,s);return(tg(t)||ng(t))&&this.Bn(t.limitType,o,i,r)?this.Mn(e,t):(nT()<=be.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hT(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,t){let r=new st(NL(e));return t.forEach((i,s)=>{Td(e,s)&&(r=r.add(s))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,t){return nT()<=be.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",hT(t)),this.On.getDocumentsMatchingQuery(e,t,oe.min())}}class yte{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new xt(_e),this.Kn=new Ju(s=>wd(s),Xp),this.jn=oe.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new kV(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function FV(n,e){return NT.apply(this,arguments)}function NT(){return NT=y(function*(n,e){const t=R(n);let r=t.An,i=t.Wn;const s=yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.An.getAllMutationBatches(o).next(u=>(a=u,r=t.persistence.getMutationQueue(e),i=new kV(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const l=[],c=[];let d=xe();for(const h of a){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:l,addedBatchIds:c}))})});return t.An=r,t.Wn=i,t.Un.Fn(t.Wn),s}),NT.apply(this,arguments)}function _te(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=A.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(m=>{const _=u.docVersions.get(f);Y(null!==_),m.version.compareTo(_)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&l.addEntry(m,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function LV(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function vte(n,e){const t=R(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(t.He.removeMatchingKeys(s,l.removedDocuments,c).next(()=>t.He.addMatchingKeys(s,l.addedDocuments,c)));const h=l.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(c,f),m=d,v=l,Y((_=f).resumeToken.approximateByteSize()>0),(0===m.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.He.updateTargetData(s,f))}var m,_,v});let u=Fr();if(e.documentUpdates.forEach((l,c)=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function(n,e,t,r,i){let s=xe();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let a=Fr();return t.forEach((u,l)=>{const c=o.get(u),d=(null==i?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l,d),a=a.insert(u,l)):O("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(l=>{u=l})),!r.isEqual(oe.min())){const l=t.He.getLastRemoteSnapshotVersion(s).next(c=>t.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>t.Wn.Vn(s,u)).next(()=>u)}).then(s=>(t.qn=i,s))}function wte(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Xu(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):t.He.allocateTargetId(r).next(o=>(i=new Gs(e,o,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Zu(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=y(function*(n,e,t){const r=R(n),i=r.qn.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!jo(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),OT.apply(this,arguments)}function gg(n,e,t){const r=R(n);let i=oe.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=R(a),d=c.Kn.get(l);return void 0!==d?A.resolve(c.qn.get(d)):c.He.getTargetData(u,l)}(r,o,Pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,t?i:oe.min(),t?s:xe())).next(a=>({documents:a,zn:s})))}class Cte{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return A.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:jt(r.createTime)}),A.resolve()}getNamedQuery(e,t){return A.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:TT(r.bundledQuery),readTime:jt(r.readTime)}),A.resolve();var r}}class FT{constructor(){this.ts=new st($t.es),this.ns=new st($t.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new $t(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new $t(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new $(new De([])),r=new $t(t,e),i=new $t(t,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new $(new De([])),r=new $t(t,e),i=new $t(t,e+1);let s=xe();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new $t(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return $.comparator(e.key,t.key)||_e(e.fs,t.fs)}static ss(e,t){return _e(e.fs,t.fs)||$.comparator(e.key,t.key)}}class Ite{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new st($t.es)}checkEmpty(e){return A.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const s=this.ds;this.ds++;const o=new vT(s,t,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new $t(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,t){return A.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),s=i<0?0:i;return A.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return A.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(_e);return t.forEach(i=>{const s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),A.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;$.isDocumentKey(s)||(s=s.child(""));const o=new $t(new $(s),0);let a=new st(_e);return this.ws.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.fs)),!0)},o),A.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return A.forEach(t.mutations,i=>{const s=new $t(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new $t(t,0),i=this.ws.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return A.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Dte{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new xt($.comparator),this.size=0}addEntry(e,t,r){const i=t.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return A.resolve(r?r.document.clone():Qe.newInvalidDocument(t))}getEntries(e,t){let r=Fr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Qe.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=Fr();const s=new $(t.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:l}}=o.getNext();if(!t.path.isPrefixOf(a.path))break;l.compareTo(r)<=0||Td(t,u)&&(i=i.insert(u.key,u.clone()))}return A.resolve(i)}Es(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ate(this)}getSize(e){return A.resolve(this.size)}}class Ate extends class{constructor(){this.changes=new Ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:oe.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Qe.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?A.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Ste{constructor(e){this.persistence=e,this.Is=new Ju(t=>wd(t),Xp),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.As=0,this.Rs=new FT,this.targetCount=0,this.Ps=Ho.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),A.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.ce(t),A.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),A.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),A.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this.Rs.containsKey(t))}}class Mte{constructor(e,t){this.bs={},this.Be=new _r(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Ste(this),this.Jt=new ste,this.Je=new Dte(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new _V(t),this.Ye=new Cte(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Ite(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){O("MemoryPersistence","Starting transaction:",e);const i=new xte(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,t){return A.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class xte extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class LT{constructor(e){this.persistence=e,this.Cs=new FT,this.Ns=null}static ks(e){return new LT(e)}get xs(){if(this.Ns)return this.Ns;throw H()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),A.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.xs,r=>{const i=$.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return A.or([()=>A.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class BT{constructor(){this.activeTargetIds=ag()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HV{constructor(){this.pi=new BT,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new BT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Nte{Ei(e){}shutdown(){}}class qV{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ote={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class kte{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Rte extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,s){const o=this.Ui(e,t);O("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(O("RestConnection","Received: ",u),u),u=>{throw Kp("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,t,r,i,s){return this.Bi(e,t,r,i,s)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,t){return`${this.Mi}/v1/${t}:${Ote[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((s,o)=>{const a=new nee;a.listenOnce(ZZ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case tT.NO_ERROR:const l=a.getResponseJson();O("Connection","XHR received:",JSON.stringify(l)),s(l);break;case tT.TIMEOUT:O("Connection",'RPC "'+e+'" timed out'),o(new x(I.DEADLINE_EXCEEDED,"Request time out"));break;case tT.HTTP_ERROR:const c=a.getStatus();if(O("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const m=f.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(d.status);o(new x(h,d.message))}else o(new x(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new x(I.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{O("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}Qi(e,t,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=JZ(),o=XZ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new tee({})),this.qi(a.initMessageHeaders,t,r),PR()||FR()||Ft().indexOf("Electron/")>=0||LR()||Ft().indexOf("MSAppHost/")>=0||Zf()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");O("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new kte({Vi:m=>{d?O("Connection","Not sending because WebChannel is closed:",m):(c||(O("Connection","Opening WebChannel transport."),l.open(),c=!0),O("Connection","WebChannel sending:",m),l.send(m))},Si:()=>l.close()}),f=(m,_,v)=>{m.listen(_,b=>{try{v(b)}catch(w){setTimeout(()=>{throw w},0)}})};return f(l,Wp.EventType.OPEN,()=>{d||O("Connection","WebChannel transport opened.")}),f(l,Wp.EventType.CLOSE,()=>{d||(d=!0,O("Connection","WebChannel transport closed"),h.Fi())}),f(l,Wp.EventType.ERROR,m=>{d||(d=!0,Kp("Connection","WebChannel transport errored:",m),h.Fi(new x(I.UNAVAILABLE,"The operation could not be completed")))}),f(l,Wp.EventType.MESSAGE,m=>{var _;if(!d){const v=m.data[0];Y(!!v);const b=v,w=b.error||(null===(_=b[0])||void 0===_?void 0:_.error);if(w){O("Connection","WebChannel received error:",w);const N=w.status;let P=function(Se){const Ne=Tt[Se];if(void 0!==Ne)return zL(Ne)}(N),K=w.message;void 0===P&&(P=I.INTERNAL,K="Unknown error status: "+N+" with message "+w.message),d=!0,h.Fi(new x(P,K)),l.close()}else O("Connection","WebChannel received:",v),h.Oi(v)}}),f(o,eee.STAT_EVENT,m=>{m.stat===cL.PROXY?O("Connection","Detected buffering proxy"):m.stat===cL.NOPROXY&&O("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function _g(){return"undefined"!=typeof document?document:null}function Fd(n){return new Uee(n,!0)}class $T{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class zV{constructor(e,t,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new $T(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return y(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return y(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return y(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(wt(t.toString()),wt("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new x(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(y(function*(){e.state=0,e.start()}))}Ar(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pte extends zV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.k=s}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:H(),i=e.targetChange.targetIds||[],s=function(u,l){return u.C?(Y(void 0===l||"string"==typeof l),Bt.fromBase64String(l||"")):(Y(void 0===l||l instanceof Uint8Array),Bt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?I.UNKNOWN:zL(u.code);return new x(l,u.message||"")}(o);t=new YL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ai(n,r.document.name),s=jt(r.document.updateTime),o=new _n({mapValue:{fields:r.document.fields}}),a=Qe.newFoundDocument(i,s,o);t=new ug(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ai(n,r.document),s=r.readTime?jt(r.readTime):oe.min(),o=Qe.newNoDocument(i,s);t=new ug([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ai(n,r.document);t=new ug([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,s=new xee(r.count||0);t=new QL(r.targetId,s)}}var u;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return oe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?jt(s.readTime):oe.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=Nd(this.k),t.addTarget=function(i,s){let o;const a=s.target;return o=Zp(a)?{documents:aV(i,a)}:{query:uV(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=eV(i,s.resumeToken):s.snapshotVersion.compareTo(oe.min())>0&&(o.readTime=Md(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Nd(this.k),t.removeTarget=e,this.gr(t)}}class Fte extends zV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,i){let s=jt(r.updateTime?r.updateTime:i);return s.isEqual(oe.min())&&(s=jt(i)),new Aee(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jt(e.commitTime);return this.listener.Cr(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Nd(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function(n,e){let t;if(e instanceof Id)t={update:iV(n,e.key,e.value)};else if(e instanceof Dd)t={delete:xd(n,e.key)};else if(e instanceof Hs)t={update:iV(n,e.key,e.data),updateMask:Qee(e.fieldMask)};else{if(!(e instanceof pT))return H();t={verify:xd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ju)return{fieldPath:s.field.canonicalString(),increment:o.N};throw H()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Bee(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),t;var i}(this.k,r))};this.gr(t)}}class Lte extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new x(I.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(I.UNKNOWN,i.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(I.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class Vte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(wt(t),this.Lr=!1):O("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Ute{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(y(function*(){var u;Qs(o)&&(O("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=R(l);c.Gr.add(4),yield el(c),c.Jr.set("Unknown"),c.Gr.delete(4),yield Ld(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.Jr=new Vte(r,i)}}function Ld(n){return HT.apply(this,arguments)}function HT(){return HT=y(function*(n){if(Qs(n))for(const e of n.zr)yield e(!0)}),HT.apply(this,arguments)}function el(n){return qT.apply(this,arguments)}function qT(){return qT=y(function*(n){for(const e of n.zr)yield e(!1)}),qT.apply(this,arguments)}function vg(n,e){const t=R(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),WT(t)?zT(t):nl(t).lr()&&GT(t,e))}function Vd(n,e){const t=R(n),r=nl(t);t.Wr.delete(e),r.lr()&&WV(t,e),0===t.Wr.size&&(r.lr()?r._r():Qs(t)&&t.Jr.set("Unknown"))}function GT(n,e){n.Yr.X(e.targetId),nl(n).br(e)}function WV(n,e){n.Yr.X(e),nl(n).vr(e)}function zT(n){n.Yr=new Fee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),nl(n).start(),n.Jr.Br()}function WT(n){return Qs(n)&&!nl(n).hr()&&n.Wr.size>0}function Qs(n){return 0===R(n).Gr.size}function KV(n){n.Yr=void 0}function Bte(n){return KT.apply(this,arguments)}function KT(){return KT=y(function*(n){n.Wr.forEach((e,t)=>{GT(n,e)})}),KT.apply(this,arguments)}function jte(n,e){return QT.apply(this,arguments)}function QT(){return QT=y(function*(n,e){KV(n),WT(n)?(n.Jr.Kr(e),zT(n)):n.Jr.set("Unknown")}),QT.apply(this,arguments)}function $te(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=y(function*(n,e,t){if(n.Jr.set("Online"),e instanceof YL&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wg(n,r)}else if(e instanceof ug?n.Yr.ot(e):e instanceof QL?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(oe.min()))try{const r=yield LV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Wr.get(u);l&&i.Wr.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(Bt.EMPTY_BYTE_STRING,u.snapshotVersion)),WV(i,a);const l=new Gs(u.target,a,1,u.sequenceNumber);GT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){O("RemoteStore","Failed to raise snapshot:",r),yield wg(n,r)}var r}),YT.apply(this,arguments)}function wg(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=y(function*(n,e,t){if(!jo(e))throw e;n.Gr.add(1),yield el(n),n.Jr.set("Offline"),t||(t=()=>LV(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){O("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Ld(n)}))}),JT.apply(this,arguments)}function QV(n,e){return e().catch(t=>wg(n,t,e))}function tl(n){return XT.apply(this,arguments)}function XT(){return XT=y(function*(n){const e=R(n),t=Ys(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Hte(e);)try{const i=yield wte(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,qte(e,i)}catch(i){yield wg(e,i)}YV(e)&&JV(e)}),XT.apply(this,arguments)}function Hte(n){return Qs(n)&&n.Qr.length<10}function qte(n,e){n.Qr.push(e);const t=Ys(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function YV(n){return Qs(n)&&!Ys(n).hr()&&n.Qr.length>0}function JV(n){Ys(n).start()}function Gte(n){return ZT.apply(this,arguments)}function ZT(){return ZT=y(function*(n){Ys(n).kr()}),ZT.apply(this,arguments)}function zte(n){return eC.apply(this,arguments)}function eC(){return eC=y(function*(n){const e=Ys(n);for(const t of n.Qr)e.Dr(t.mutations)}),eC.apply(this,arguments)}function Wte(n,e,t){return tC.apply(this,arguments)}function tC(){return tC=y(function*(n,e,t){const r=n.Qr.shift(),i=wT.from(r,e,t);yield QV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield tl(n)}),tC.apply(this,arguments)}function Kte(n,e){return nC.apply(this,arguments)}function nC(){return nC=y(function*(n,e){var t;e&&Ys(n).Sr&&(yield(t=y(function*(r,i){if(GL(s=i.code)&&s!==I.ABORTED){const o=r.Qr.shift();Ys(r).wr(),yield QV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield tl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),YV(n)&&JV(n)}),nC.apply(this,arguments)}function iC(){return iC=y(function*(n,e){const t=R(n);e?(t.Gr.delete(2),yield Ld(t)):e||(t.Gr.add(2),yield el(t),t.Jr.set("Unknown"))}),iC.apply(this,arguments)}function nl(n){return n.Xr||(n.Xr=function(e,t,r){const i=R(e);return i.Fr(),new Pte(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Bte.bind(null,n),Ni:jte.bind(null,n),Pr:$te.bind(null,n)}),n.zr.push(function(){var e=y(function*(t){t?(n.Xr.wr(),WT(n)?zT(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),KV(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Ys(n){return n.Zr||(n.Zr=function(e,t,r){const i=R(e);return i.Fr(),new Fte(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Gte.bind(null,n),Ni:Kte.bind(null,n),Nr:zte.bind(null,n),Cr:Wte.bind(null,n)}),n.zr.push(function(){var e=y(function*(t){t?(n.Zr.wr(),yield tl(n)):(yield n.Zr.stop(),n.Qr.length>0&&(O("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class sC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new sC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rl(n,e){if(wt("AsyncQueue",`${e}: ${n}`),jo(n))return new x(I.UNAVAILABLE,`${e}: ${n}`);throw n}class il{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$.comparator(t.key,r.key):(t,r)=>$.comparator(t.key,r.key),this.keyedMap=gT(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new il(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XV{constructor(){this.eo=new xt($.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):H():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class sl{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new sl(e,t,il.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Qte{constructor(){this.so=void 0,this.listeners=[]}}class Yte{constructor(){this.queries=new Ju(e=>xL(e),Ed),this.onlineState="Unknown",this.io=new Set}}function aC(){return aC=y(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Qte),i)try{s.so=yield t.onListen(r)}catch(o){const a=rl(o,`Initialization of query '${hT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ro(t.onlineState),s.so&&e.oo(s.so)&&cC(t)}),aC.apply(this,arguments)}function lC(){return lC=y(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),lC.apply(this,arguments)}function Jte(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&cC(t)}function Xte(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function cC(n){n.io.forEach(e=>{e.next()})}class dC{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class r2{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=xe(),this.mutatedKeys=xe(),this.Ao=NL(e),this.Ro=new il(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new XV,i=t?t.Ro:this.Ro;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=tg(this.query)&&i.size===this.query.limit?i.last():null,l=ng(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Td(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?m!==_&&(r.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.Ao(f,u)>0||l&&this.Ao(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||l)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),tg(this.query)||ng(this.query))for(;o.size>this.query.limit;){const c=tg(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((l,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return f(d)-f(h)}(l.type,c.type)||this.Ao(l.doc,c.doc)),this.So(r);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new sl(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new XV,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=xe(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new n2(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new t2(r))}),t}ko(e){this.To=e.zn,this.Io=xe();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return sl.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class tne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nne{constructor(e){this.key=e,this.$o=!1}}class rne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Ju(a=>xL(a),Ed),this.Mo=new Map,this.Lo=new Set,this.Bo=new xt($.comparator),this.Uo=new Map,this.qo=new FT,this.Ko={},this.jo=new Map,this.Qo=Ho.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function ine(n,e){return hC.apply(this,arguments)}function hC(){return hC=y(function*(n,e){const t=PC(n);let r,i;const s=t.Oo.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Xu(t.localStore,Pr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield fC(t,e,r,"current"===a),t.isPrimaryClient&&vg(t.remoteStore,o)}return i}),hC.apply(this,arguments)}function fC(n,e,t,r){return pC.apply(this,arguments)}function pC(){return pC=y(function*(n,e,t,r){n.Go=(c,d,h)=>{return(f=y(function*(m,_,v,b){let w=_.view.bo(v);w.Bn&&(w=yield gg(m.localStore,_.query,!1).then(({documents:K})=>_.view.bo(K,w)));const N=b&&b.targetChanges.get(_.targetId),P=_.view.applyChanges(w,m.isPrimaryClient,N);return CC(m,_.targetId,P.Co),P.snapshot}),function(m,_,v,b){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield gg(n.localStore,e,!0),s=new r2(e,i.zn),o=s.bo(i.documents),a=Sd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);CC(n,t,u.Co);const l=new tne(e,t,s);return n.Oo.set(e,l),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),u.snapshot}),pC.apply(this,arguments)}function sne(n,e){return gC.apply(this,arguments)}function gC(){return gC=y(function*(n,e){const t=R(n),r=t.Oo.get(e),i=t.Mo.get(r.targetId);if(i.length>1)return t.Mo.set(r.targetId,i.filter(s=>!Ed(s,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vd(t.remoteStore,r.targetId),ol(t,r.targetId)}).catch(qo))):(ol(t,r.targetId),yield Zu(t.localStore,r.targetId,!0))}),gC.apply(this,arguments)}function mC(){return mC=y(function*(n,e,t){const r=FC(n);try{const i=yield function(s,o){const a=R(s),u=en.now(),l=o.reduce((d,h)=>d.add(h.key),xe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,l).next(h=>{c=h;const f=[];for(const m of o){const _=Mee(m,c.get(m.key));null!=_&&f.push(new Hs(m.key,_,TL(_.value.mapValue),Et.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new xt(_e)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,t),yield us(r,i.changes),yield tl(r.remoteStore)}catch(i){const s=rl(i,"Failed to persist write");t.reject(s)}}),mC.apply(this,arguments)}function i2(n,e){return yC.apply(this,arguments)}function yC(){return yC=y(function*(n,e){const t=R(n);try{const r=yield vte(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Uo.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?Y(o.$o):i.removedDocuments.size>0&&(Y(o.$o),o.$o=!1))}),yield us(t,r,e)}catch(r){yield qo(r)}}),yC.apply(this,arguments)}function s2(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.ro(o)&&(u=!0)}),u&&cC(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ane(n,e,t){return _C.apply(this,arguments)}function _C(){return _C=y(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new xt($.comparator);o=o.insert(s,Qe.newNoDocument(s,oe.min()));const a=xe().add(s),u=new Ad(oe.min(),new Map,new st(_e),o,a);yield i2(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),IC(r)}else yield Zu(r.localStore,e,!1).then(()=>ol(r,e,t)).catch(qo)}),_C.apply(this,arguments)}function une(n,e){return vC.apply(this,arguments)}function vC(){return vC=y(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield _te(t.localStore,e);TC(t,r,null),EC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield us(t,i)}catch(i){yield qo(i)}}),vC.apply(this,arguments)}function lne(n,e,t){return wC.apply(this,arguments)}function wC(){return wC=y(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.An.lookupMutationBatch(u,o).next(c=>(Y(null!==c),l=c.keys(),a.An.removeMutationBatch(u,c))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,l))})}(r.localStore,e);TC(r,e,t),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield us(r,i)}catch(i){yield qo(i)}}),wC.apply(this,arguments)}function EC(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function TC(n,e,t){const r=R(n);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function ol(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||o2(n,r)})}function o2(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Vd(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),IC(n))}function CC(n,e,t){for(const r of t)r instanceof t2?(n.qo.addReference(r.key,e),dne(n,r)):r instanceof n2?(O("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||o2(n,r.key)):H()}function dne(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(O("SyncEngine","New document in limbo: "+t),n.Lo.add(r),IC(n))}function IC(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new $(De.fromString(e)),r=n.Qo.next();n.Uo.set(r,new nne(t)),n.Bo=n.Bo.insert(t,r),vg(n.remoteStore,new Gs(Pr(Vu(t.path)),r,2,_r.I))}}function us(n,e,t){return DC.apply(this,arguments)}function DC(){return DC=y(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=xT.$n(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=y(function*(u,l){const c=R(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(l,h=>A.forEach(h.kn,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.xn,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!jo(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.qn=c.qn.insert(h,_)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),DC.apply(this,arguments)}function hne(n,e){return AC.apply(this,arguments)}function AC(){return AC=y(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=yield FV(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(o=>{o.forEach(a=>{a.reject(new x(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield us(t,r.Gn)}var i}),AC.apply(this,arguments)}function fne(n,e){const t=R(n),r=t.Uo.get(e);if(r&&r.$o)return xe().add(r.key);{let i=xe();const s=t.Mo.get(e);if(!s)return i;for(const o of s){const a=t.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function PC(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=i2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ane.bind(null,e),e.Fo.Pr=Jte.bind(null,e.eventManager),e.Fo.zo=Xte.bind(null,e.eventManager),e}function FC(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=une.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lne.bind(null,e),e}class Ene{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.k=Fd(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return function(n,e,t,r){return new yte(n,e,t,r)}(this.persistence,new RV,e.initialUser,this.k)}Yo(e){return new Mte(LT.ks,this.k)}Jo(e){return new HV}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LC{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>s2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hne.bind(null,r.syncEngine),yield function(n,e){return iC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yte}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),r=new Rte(e.databaseInfo);return new Lte(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>s2(this.syncEngine,a,0),o=qV.bt()?new qV:new Nte,new Ute(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new rne(r,i,s,o,a,u);return l&&(c.Wo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const r=R(t);O("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield el(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Sne{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=pL.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){O("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=rl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function c2(n,e){return VC.apply(this,arguments)}function VC(){return VC=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield FV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),VC.apply(this,arguments)}function d2(n,e){return UC.apply(this,arguments)}function UC(){return UC=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield BC(n);O("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=R(o);u.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const l=Qs(u);u.Gr.add(3),yield el(u),l&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield Ld(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),n.onlineComponents=e}),UC.apply(this,arguments)}function BC(n){return jC.apply(this,arguments)}function jC(){return jC=y(function*(n){return n.offlineComponents||(O("FirestoreClient","Using default OfflineComponentProvider"),yield c2(n,new Ene)),n.offlineComponents}),jC.apply(this,arguments)}function Eg(n){return $C.apply(this,arguments)}function $C(){return $C=y(function*(n){return n.onlineComponents||(O("FirestoreClient","Using default OnlineComponentProvider"),yield d2(n,new LC)),n.onlineComponents}),$C.apply(this,arguments)}function GC(){return GC=y(function*(n){const e=yield Eg(n),t=e.eventManager;return t.onListen=ine.bind(null,e.syncEngine),t.onUnlisten=sne.bind(null,e.syncEngine),t}),GC.apply(this,arguments)}function g2(n,e,t={}){const r=new Ut;return n.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,u){const l=new bg({next:d=>{s.enqueueAndForget(()=>function(n,e){return lC.apply(this,arguments)}(i,c)),d.fromCache&&"server"===a.source?u.reject(new x(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new dC(o,l,{includeMetadataChanges:!0,wo:!0});return function(n,e){return aC.apply(this,arguments)}(i,c)}(yield function(n){return GC.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}class Lne{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ud{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ud&&e.projectId===this.projectId&&e.database===this.database}}const m2=new Map;function zC(n,e,t){if(!t)throw new x(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y2(n){if(!$.isDocumentKey(n))throw new x(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _2(n){if($.isDocumentKey(n))throw new x(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":H()}function Te(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tg(n);throw new x(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class w2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(n,e,t,r){if(!0===e&&!0===r)throw new x(I.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,e instanceof Ud?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new x(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(i.options.projectId)}(e))}get app(){if(!this._app)throw new x(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ree;switch(t.type){case"gapi":const r=t.client;return Y(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new aee(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new x(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m2.get(e);t&&(O("ComponentProvider","Removing Datastore"),m2.delete(e),t.terminate())}(this),Promise.resolve()}}class ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class wn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wn(this.firestore,e,this._query)}}class Mi extends wn{constructor(e,t,r){super(e,t,Vu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new $(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function rn(n,e,...t){if(n=Qt(n),zC("collection","path",e),n instanceof Bd){const r=De.fromString(e,...t);return _2(r),new Mi(n,null,r)}{if(!(n instanceof ft||n instanceof Mi))throw new x(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return _2(r),new Mi(n.firestore,null,r)}}function jd(n,e,...t){if(n=Qt(n),1===arguments.length&&(e=pL.A()),zC("doc","path",e),n instanceof Bd){const r=De.fromString(e,...t);return y2(r),new ft(n,null,new $(r))}{if(!(n instanceof ft||n instanceof Mi))throw new x(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(e,...t));return y2(r),new ft(n.firestore,n instanceof Mi?n.converter:null,new $(r))}}class Bne{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new $T(this,"async_queue_retry"),this.Ra=()=>{const t=_g();t&&O("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=_g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=_g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new Ut;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return y(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!jo(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,wt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=sC.createAndSchedule(this,e,t,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&H()}verifyOperationInProgress(){}Sa(){var e=this;return y(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}class Xe extends Bd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Bne,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||E2(this),this._firestoreClient.terminate()}}function b2(n=fw()){return Eu(n,"firestore").getImmediate()}function Ht(n){return n._firestoreClient||E2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function E2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Lne(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Sne(n._authCredentials,n._appCheckCredentials,n._queue,r)}class ul{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(Bt.fromBase64String(e))}catch(t){throw new x(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Go(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cg{constructor(e){this._methodName=e}}class KC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}const $ne=/^__.*__$/;class Hne{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Id(e,this.data,t,this.fieldTransforms)}}class I2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class Ig{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Dg(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(D2(this.xa)&&$ne.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class qne{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Fd(e)}ja(e,t,r,i=!1){return new Ig({xa:e,methodName:t,Ka:r,path:yn.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ll(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new qne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QC(n,e,t,r,i,s={}){const o=n.ja(s.merge||s.mergeFields?2:0,e,t,i);JC("Data must be an object, but it was:",o,r);const a=N2(r,o);let u,l;if(s.merge)u=new Ru(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=XC(e,d,t);if(!o.contains(h))throw new x(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k2(c,h)||c.push(h)}u=new Ru(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Hne(new _n(a),u,l)}class $d extends Cg{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}class YC extends Cg{_toFieldTransform(e){return new Cd(e.path,new Bu)}isEqual(e){return e instanceof YC}}function zo(n,e){if(O2(n=Qt(n)))return JC("Unsupported field value:",e,n),N2(n,e);if(n instanceof Cg)return function(t,r){if(!D2(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=zo(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Qt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RL(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=en.fromDate(t);return{timestampValue:Md(r.k,i)}}if(t instanceof en){const i=new en(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Md(r.k,i)}}if(t instanceof KC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Go)return{bytesValue:eV(r.k,t._byteString)};if(t instanceof ft){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${Tg(t)}`)}(n,e)}function N2(n,e){const t={};return yL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(n,(r,i)=>{const s=zo(i,e.Fa(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function O2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof en||n instanceof KC||n instanceof Go||n instanceof ft||n instanceof Cg)}function JC(n,e,t){if(!O2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Tg(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function XC(n,e,t){if((e=Qt(e))instanceof ul)return e._internalPath;if("string"==typeof e)return ZC(n,e);throw Dg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const Kne=new RegExp("[~\\*/\\[\\]]");function ZC(n,e,t){if(e.search(Kne)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ul(...e.split("."))._internalPath}catch(r){throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new x(I.INVALID_ARGUMENT,a+n+u)}function k2(n,e){return n.some(t=>t.isEqual(e))}class eI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qne extends eI{data(){return super.data()}}function Ag(n,e){return"string"==typeof e?ZC(n,e):e instanceof ul?e._internalPath:e._delegate._internalPath}class Wo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends eI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sg extends cl{data(e={}){return super.data(e)}}class dl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sg(this._firestore,this._userDataWriter,r.key,r,new Wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Wo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Wo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:Yne(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class tI{}function Xn(n,...e){for(const t of e)n=t._apply(n);return n}class Jne extends tI{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=ll(e.firestore),r=function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new x(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on FieldPath.documentId().`);if("in"===l||"not-in"===l){B2(c,l);const f=[];for(const m of c)f.push(U2(a,i,m));d={arrayValue:{values:f}}}else d=U2(a,i,c)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||B2(c,l),d=function(n,e,t,r=!1){return zo(t,n.ja(r?4:3,e))}(o,"where",c,"in"===l||"not-in"===l);const h=Fn.create(u,l,d);return function(f,m){if(m.V()){const v=cT(f);if(null!==v&&!v.isEqual(m.field))throw new x(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${m.field.toString()}'`);const b=lT(f);null!==b&&j2(0,m.field,b)}const _=function(v,b){for(const w of v.filters)if(b.indexOf(w.op)>=0)return w.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(null!==_)throw new x(I.INVALID_ARGUMENT,_===m.op?`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`:`Invalid query. You cannot use '${m.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new wn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new ss(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function bn(n,e,t){const r=e,i=Ag("where",n);return new Jne(i,r,t)}class Xne extends tI{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new x(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new x(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Lu(i,s);return function(a,u){if(null===lT(a)){const l=cT(a);null!==l&&j2(0,l,u.field)}}(r,o),o}(e._query,this.Ga,this.Ja);return new wn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ss(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class P2 extends tI{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new wn(e.firestore,e.converter,ML(e._query,this.Ya,this.Xa))}}function U2(n,e,t){if("string"==typeof(t=Qt(t))){if(""===t)throw new x(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&-1!==t.indexOf("/"))throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(De.fromString(t));if(!$.isDocumentKey(r))throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yp(n,new $(r))}if(t instanceof ft)return Yp(n,t._key);throw new x(I.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(t)}.`)}function B2(n,e){if(!Array.isArray(n)||0===n.length)throw new x(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new x(I.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function j2(n,e,t){if(!t.isEqual(e))throw new x(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ko extends class{convertValue(e,t="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw H()}}convertObject(e,t){const r={};return Po(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new KC(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_L(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=$s(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=De.fromString(e);Y(fV(r));const i=new Ud(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(t)||wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function Zn(n){n=Te(n,wn);const e=Te(n.firestore,Xe),t=Ht(e),r=new Ko(e);return function(n){if(ng(n)&&0===n.explicitOrderBy.length)throw new x(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),g2(t,n._query).then(i=>new dl(e,r,n,i))}function rI(n,e,t,...r){n=Te(n,ft);const i=Te(n.firestore,Xe),s=ll(i);let o;return o="string"==typeof(e=Qt(e))||e instanceof ul?function(n,e,t,r,i,s){const o=n.ja(1,e,t),a=[XC(e,r,t)],u=[i];if(s.length%2!=0)throw new x(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(XC(e,s[h])),u.push(s[h+1]);const l=[],c=_n.empty();for(let h=a.length-1;h>=0;--h)if(!k2(l,a[h])){const f=a[h];let m=u[h];m=Qt(m);const _=o.La(f);if(m instanceof $d)l.push(f);else{const v=zo(m,_);null!=v&&(l.push(f),c.set(f,v))}}const d=new Ru(l);return new I2(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function(n,e,t,r){const i=n.ja(1,e,t);JC("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();Po(r,(u,l)=>{const c=ZC(e,u,t);l=Qt(l);const d=i.La(c);if(l instanceof $d)s.push(c);else{const h=zo(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Ru(s);return new I2(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Hd(i,[o.toMutation(n._key,Et.exists(!0))])}function iI(n,e){const t=Te(n.firestore,Xe),r=jd(n),i=function(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Hd(t,[QC(ll(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}function Hd(n,e){return function(t,r){const i=new Ut;return t.asyncQueue.enqueueAndForget(y(function*(){return function(n,e,t){return mC.apply(this,arguments)}(yield function(n){return Eg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ht(n),e)}!function(n,e=!0){Ou="9.6.1",zn(new On("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Xe(i,new see(t.getProvider("auth-internal")),new uee(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),it(dL,"3.4.1",n),it(dL,"3.4.1","esm2017")}(),$R({apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",projectId:"dosapointfirebase"});const ore=Du(),pt=b2();let er=(()=>{class n{constructor(t){this.router=t,this.menuFromDb=[],this.oldMenuForUpdation=[],this.allUsers=[],this.newUsers=[],this.ordersData=[],this.myOrdersData=[]}writeToUsersCollection(t){return y(function*(){yield iI(rn(pt,"users"),t)})()}writeToOrdersCollection(t){return y(function*(){const r={orderNumber:t.orderNumber,customerName:t.customerName,mobile:t.mobile,email:t.email,orderItems:t.orderedItems,totalAmount:t.totalAmount,orderDate:t.orderDate,orderStatus:t.orderStatus,exactDateAndTimeOfOrder:new YC("serverTimestamp")};yield iI(rn(pt,"orders"),r)})()}verifyCredentials(t){return y(function*(){const r=Xn(rn(pt,"users"),bn("email","==",t.email),bn("activated","==",!0));return(yield Zn(r)).size>0?1:0})()}verifyAdminCredentials(t){return y(function*(){const r=Xn(rn(pt,"users"),bn("email","==",t.email),bn("activated","==",!0),bn("role","in",["admin","developer"]));return(yield Zn(r)).size>0?1:0})()}checkAlreadyRegisteredMobile(t){return y(function*(){const r=Xn(rn(pt,"users"),bn("mobile","==",t.mobile));return(yield Zn(r)).size>0?1:0})()}getUserByEmail(t){var r=this;return y(function*(){const i=Xn(rn(pt,"users"),bn("email","==",t));return(yield Zn(i)).forEach(o=>{r.userInfo=o.data()}),r.userInfo})()}getMenu(){var t=this;return y(function*(){if(t.menuFromDb.length<=0){const r=Xn(rn(pt,"menu"));(yield Zn(r)).forEach(s=>{t.menuFromDb.push(s.data())})}return t.menuFromDb})()}clearMenuBeforeUpdation(){return y(function*(){const t=Xn(rn(pt,"menu"));(yield Zn(t)).forEach(function(){var i=y(function*(s){yield function(n){return Hd(Te(n.firestore,Xe),[new Dd(n._key,Et.none())])}(jd(pt,"menu",s.id))});return function(s){return i.apply(this,arguments)}}())})()}getAllUsers(){var t=this;return y(function*(){const r=Xn(rn(pt,"users"),bn("activated","==",!0));return(yield Zn(r)).forEach(s=>{t.allUsers.push(s.data())}),t.allUsers})()}getNewUsers(){var t=this;return y(function*(){const r=Xn(rn(pt,"users"),bn("activated","==",!1));return(yield Zn(r)).forEach(s=>{t.newUsers.push(s.data())}),t.newUsers})()}verifyUser(t){return y(function*(){const r=Xn(rn(pt,"users"),bn("mobile","==",t));return(yield Zn(r)).forEach(function(){var s=y(function*(o){const a=jd(pt,"users",o.id);yield rI(a,{activated:!0})});return function(o){return s.apply(this,arguments)}}()),!0})()}deactivateUser(t){return y(function*(){const r=Xn(rn(pt,"users"),bn("mobile","==",t));return(yield Zn(r)).forEach(function(){var s=y(function*(o){const a=jd(pt,"users",o.id);yield rI(a,{activated:!1})});return function(o){return s.apply(this,arguments)}}()),!0})()}getOrders(t){var r=this;return y(function*(){try{const i=Xn(rn(pt,"orders"),bn("orderDate","==",t));(yield Zn(i)).forEach(o=>{r.ordersData.push(o.data())})}catch(i){console.error(i)}return r.ordersData})()}getMyOrders(t){var r=this;return y(function*(){try{const i=Xn(rn(pt,"orders"),bn("email","==",t),bn("orderStatus","==","Done"));(yield Zn(i)).forEach(o=>{r.myOrdersData.push(o.data())})}catch(i){console.error(i)}return r.myOrdersData})()}cancelOrder(t,r){return y(function*(){const i=Xn(rn(pt,"orders"),bn("email","==",t),bn("orderNumber","==",r));return(yield Zn(i)).forEach(function(){var o=y(function*(a){const u=jd(pt,"orders",a.id);yield rI(u,{orderStatus:"Cancelled"})});return function(a){return o.apply(this,arguments)}}()),!0})()}getNewOrderId(){var t=this;return y(function*(){const r=Xn(rn(pt,"orders"),function(n,e="asc"){const t=e,r=Ag("orderBy","exactDateAndTimeOfOrder");return new Xne(r,t)}(0,"desc"),(function(n,e){if(e<=0)throw new x(I.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",1),new P2("limit",1,"F")));return(yield Zn(r)).forEach(s=>{t.newOrderId=s.data().orderNumber}),t.newOrderId})()}get isLoggedIn(){return null===localStorage.getItem("user")}get getLoggedInUser(){return localStorage.getItem("user")}get getLoggedInUserCredentials(){return localStorage.getItem("userCredentials")}SignOut(){ore.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("userInfo"),localStorage.removeItem("userCredentials"),this.menuFromDb.length=0,this.router.navigate(["customer-login"])})}updateMenuCollection(t){var r=this;return y(function*(){yield r.clearMenuBeforeUpdation(),t.forEach(function(){var i=y(function*(s){yield iI(rn(pt,"menu"),s)});return function(s){return i.apply(this,arguments)}}())})()}clearMenu(){this.menuFromDb.length=0}}return n.\u0275fac=function(t){return new(t||n)(L(Me))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function are(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function ure(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function lre(n,e){if(1&n&&(p(0,"div",19),M(1,are,2,0,"div",13),M(2,ure,2,0,"div",13),g()),2&n){const t=q();E(1),D("ngIf",t.f.email.errors.required),E(1),D("ngIf",t.f.email.errors.pattern)}}function cre(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function dre(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function hre(n,e){if(1&n&&(p(0,"div",19),M(1,cre,2,0,"div",13),M(2,dre,2,0,"div",13),g()),2&n){const t=q();E(1),D("ngIf",t.f.password.errors.required),E(1),D("ngIf",t.f.password.errors.minlength)}}function fre(n,e){1&n&&(p(0,"div"),C(1,"Invalid Password! Please retry."),g())}function pre(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered."),g())}function gre(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered as Admin."),g())}function mre(n,e){1&n&&G(0,"span",20)}const $2=function(n){return{"is-invalid":n}},yre=Du();let _re=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.userService=i,this.adminLoginForm=wi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.notRegisteredError=!1,this.notAdminError=!1}get f(){return this.adminLoginForm.controls}onSubmit(){this.submitted=!0,this.credentialsError=!1,this.notRegisteredError=!1,!this.adminLoginForm.invalid&&this.submitted&&(this.loading=!0,AP(yre,this.adminLoginForm.value.email,this.adminLoginForm.value.password).then(t=>{this.userService.verifyAdminCredentials(this.adminLoginForm.value).then(r=>{0==r?(this.notAdminError=!0,this.loading=!1):(this.loading=!1,localStorage.setItem("user",JSON.stringify(t.user)),console.log("signed in, redirecting->"),this.router.navigate(["admin-home"]))})}).catch(t=>{const r=t.code,i=t.message;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1),console.log("Error:",i,r),console.log("error code:",r)}))}ngOnInit(){this.adminLoginForm=this.formBuilder.group({email:["",[ht.required,ht.email,ht.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ht.required]]})}}return n.\u0275fac=function(t){return new(t||n)(T(Ic),T(Me),T(er))},n.\u0275cmp=at({type:n,selectors:[["app-admin-login"]],decls:26,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Admin Login"),g(),p(9,"form",8),de("ngSubmit",function(){return r.onSubmit()}),p(10,"div",9),G(11,"input",10),M(12,lre,3,2,"div",11),g(),p(13,"div",9),G(14,"input",12),M(15,hre,3,2,"div",11),g(),M(16,fre,2,0,"div",13),M(17,pre,2,0,"div",13),M(18,gre,2,0,"div",13),p(19,"button",14),C(20,"Login "),M(21,mre,1,0,"span",15),g(),p(22,"div",16),p(23,"div",17),p(24,"a",18),C(25,"Customer Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(9),D("formGroup",r.adminLoginForm),E(2),D("ngClass",mr(9,$2,r.submitted&&r.f.email.errors)),E(1),D("ngIf",r.submitted&&r.f.email.errors),E(2),D("ngClass",mr(11,$2,r.submitted&&r.f.password.errors)),E(1),D("ngIf",r.submitted&&r.f.password.errors),E(1),D("ngIf",r.credentialsError),E(1),D("ngIf",r.notRegisteredError),E(1),D("ngIf",r.notAdminError),E(3),D("ngIf",r.loading))},directives:[cu,au,xs,Ds,ou,vo,Ns,su,pn,du,_u],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function vre(n,e){1&n&&G(0,"span",16)}function wre(n,e){if(1&n){const t=pr();p(0,"button",21),de("click",function(){Wt(t);const i=q().index;return q(2).deleteExistingItem(i)}),C(1,"Delete This"),g()}}function bre(n,e){if(1&n){const t=pr();p(0,"tr"),p(1,"td",19),de("keyup",function(i){const o=Wt(t).index;return q(2).changeItemName(o,"itemName",i)})("blur",function(i){const o=Wt(t).index;return q(2).updateItemName(o,"itemName",i)}),C(2),g(),p(3,"td",19),de("keyup",function(i){const o=Wt(t).index;return q(2).changePrice(o,"price",i)})("blur",function(i){const o=Wt(t).index;return q(2).updatePrice(o,"price",i)}),C(4),g(),p(5,"td"),M(6,wre,2,0,"button",20),g(),g()}if(2&n){const t=e.$implicit,r=q(2);E(2),Ye(t.itemName),E(2),Hn("",t.price," "),E(2),D("ngIf",r.menuFromDb.length>0)}}function Ere(n,e){if(1&n&&(p(0,"table",17),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Item"),g(),p(5,"th"),C(6,"Price"),g(),g(),g(),p(7,"tbody"),M(8,bre,7,3,"tr",18),g(),g()),2&n){const t=q();E(8),D("ngForOf",t.menuFromDb)}}function Tre(n,e){if(1&n){const t=pr();p(0,"button",22),de("click",function(){return Wt(t),q().addItem()}),C(1,"Add New"),g()}}function Cre(n,e){if(1&n){const t=pr();p(0,"button",23),de("click",function(){return Wt(t),q().updateMenu()}),C(1,"Update "),g()}}let Ire=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.toastr=i,this.menuFromDb=Array(),this.editField="",this.editPrice=0}ngOnInit(){var t=this;return y(function*(){t.menuFromDb.length=0,yield t.getMenu()})()}getMenu(){var t=this;return y(function*(){yield t.userService.getMenu().then(r=>{t.menuFromDb=r})})()}updateItemName(t,r,i){this.menuFromDb[t][r]=i.target.textContent}changeItemName(t,r,i){this.editField=i.target.textContent}updatePrice(t,r,i){this.menuFromDb[t][r]=+i.target.textContent}changePrice(t,r,i){this.editPrice=+i.target.textContent}updateMenu(){var t=this;return y(function*(){yield t.userService.updateMenuCollection(t.menuFromDb).then(r=>{}),t.toastr.success("Menu Updated"),t.router.navigate(["admin-home"])})()}addItem(){this.menuFromDb.push({itemName:"",price:0,quantity:0,amount:0})}deleteExistingItem(t){this.menuFromDb.splice(t,1)}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T(er),T(Os))},n.\u0275cmp=at({type:n,selectors:[["app-update-menu"]],decls:19,vars:4,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"updateMenuFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],[1,"bd-highlight"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],[1,"p-5","d-flex","justify-content-center"],["class","btn btn-primary btn-block text-uppercase rounded-pill shadow-sm",3,"click",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["contenteditable","true",3,"keyup","blur"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Update Menu"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on values to edit)"),g(),g(),G(11,"hr",9),p(12,"div"),M(13,vre,1,0,"span",10),M(14,Ere,9,1,"table",11),p(15,"div",12),M(16,Tre,2,0,"button",13),g(),p(17,"div",14),M(18,Cre,2,0,"button",15),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(13),D("ngIf",r.menuFromDb.length<=0),E(1),D("ngIf",r.menuFromDb.length>0),E(2),D("ngIf",r.menuFromDb.length>0),E(2),D("ngIf",r.menuFromDb.length>0))},directives:[pn,Cs],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.updateMenuFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function Dre(n,e){1&n&&G(0,"span",14)}function Are(n,e){if(1&n){const t=pr();p(0,"button",18),de("click",function(){Wt(t);const i=q().index;return q(2).deactivateUser(i)}),C(1,"Deny"),g()}}function Sre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,Are,2,0,"button",17),g(),g()),2&n){const t=e.$implicit,r=q(2);E(2),Ye(t.fullName),E(2),Ye(t.mobile),E(2),Ye(t.email),E(2),D("ngIf",r.allUsers.length>0)}}function Mre(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Email"),g(),G(9,"th"),g(),g(),p(10,"tbody"),M(11,Sre,9,4,"tr",16),g(),g()),2&n){const t=q();E(11),D("ngForOf",t.allUsers)}}let xre=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.allUsers=Array(),this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Rs&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Qi&&"popstate"===s.navigationTrigger&&(this.allUsers.length=0)})}ngOnInit(){var t=this;return y(function*(){t.allUsers.length=0,yield t.getAllUsers(),t.loading=!1})()}getAllUsers(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getAllUsers().then(r=>{t.allUsers=r})})()}deactivateUser(t){var r=this;return y(function*(){yield r.userService.deactivateUser(r.allUsers[t].mobile).then(i=>{}),r.toastr.success("User Deactivated"),r.allUsers.length=0,r.reLoad()})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Os),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-view-all-users"]],decls:16,vars:2,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewUsersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"All Users"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on Deny to Deactivate User)"),g(),g(),G(11,"hr",9),p(12,"div",10),M(13,Dre,1,0,"span",11),M(14,Mre,12,1,"table",12),g(),G(15,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(E(13),D("ngIf",r.loading),E(1),D("ngIf",r.allUsers.length>0))},directives:[pn,Cs],styles:[".viewUsersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function Nre(n,e){1&n&&G(0,"span",14)}function Ore(n,e){1&n&&(p(0,"div"),C(1,"No orders found for the given date."),g())}function kre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),C(8),g(),g()),2&n){const t=e.$implicit;E(2),Ye(t.customerName),E(2),Ye(t.mobile),E(2),Ye(t.totalAmount),E(2),Ye(t.orderStatus)}}function Rre(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Amount"),g(),p(9,"th"),C(10,"Status"),g(),g(),g(),p(11,"tbody"),M(12,kre,9,4,"tr",16),g(),g()),2&n){const t=q();E(12),D("ngForOf",t.ordersData)}}let Pre=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.ordersData=Array(),this.loading=!1,this.orderDate=history.state.orderDate,this.noOrdersError=!1,r.events.forEach(i=>{i instanceof Qi&&"popstate"===i.navigationTrigger&&(this.ordersData.length=0)}),localStorage.setItem("orderDate",this.orderDate)}getOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getOrders(localStorage.getItem("orderDate")).then(r=>{t.ordersData=r}).catch(r=>{console.error(r)})})()}ngOnInit(){var t=this;return y(function*(){t.ordersData.length=0,yield t.getOrders(),t.loading=!1,0==t.ordersData.length&&(t.noOrdersError=!0)})()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-view-date-orders"]],decls:15,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewDateOrdersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Orders"),g(),G(8,"div",7),G(9,"hr",8),p(10,"div",9),M(11,Nre,1,0,"span",10),M(12,Ore,2,0,"div",11),M(13,Rre,13,1,"table",12),g(),G(14,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(E(11),D("ngIf",r.loading),E(1),D("ngIf",r.noOrdersError),E(1),D("ngIf",r.ordersData.length>0))},directives:[pn,Cs],styles:[".viewDateOrdersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function Fre(n,e){1&n&&G(0,"span",13)}function Lre(n,e){1&n&&(p(0,"div"),C(1,"No orders found for today."),g())}function Vre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),C(8),g(),g()),2&n){const t=e.$implicit;E(2),Ye(t.customerName),E(2),Ye(t.mobile),E(2),Ye(t.totalAmount),E(2),Ye(t.orderStatus)}}function Ure(n,e){if(1&n&&(p(0,"table",14),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Amount"),g(),p(9,"th"),C(10,"Status"),g(),g(),g(),p(11,"tbody"),M(12,Vre,9,4,"tr",15),g(),g()),2&n){const t=q();E(12),D("ngForOf",t.ordersData)}}let Bre=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.ordersData=Array(),this.loading=!1,this.noOrdersError=!1,r.events.forEach(i=>{i instanceof Qi&&"popstate"===i.navigationTrigger&&(this.ordersData.length=0)})}getOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getOrders(ff(new Date,"yyyy/MM/dd","en")).then(r=>{t.ordersData=r}).catch(r=>{console.error(r)})})()}ngOnInit(){var t=this;return y(function*(){t.ordersData.length=0,yield t.getOrders(),0==t.ordersData.length&&(t.noOrdersError=!0),t.loading=!1})()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-view-orders"]],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewOrdersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Today's Orders"),g(),G(8,"div",7),G(9,"hr",8),p(10,"div",9),M(11,Fre,1,0,"span",10),M(12,Lre,2,0,"div",11),M(13,Ure,13,1,"table",12),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(11),D("ngIf",r.loading),E(1),D("ngIf",r.noOrdersError),E(1),D("ngIf",r.ordersData.length>0))},directives:[pn,Cs],styles:[".viewOrdersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function jre(n,e){1&n&&G(0,"span",14)}function $re(n,e){if(1&n){const t=pr();p(0,"button",18),de("click",function(){Wt(t);const i=q().index;return q(2).verifyUser(i)}),C(1,"Verify"),g()}}function Hre(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,$re,2,0,"button",17),g(),g()),2&n){const t=e.$implicit,r=q(2);E(2),Ye(t.fullName),E(2),Ye(t.mobile),E(2),Ye(t.email),E(2),D("ngIf",r.newUsers.length>0)}}function qre(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Name"),g(),p(5,"th"),C(6,"Mobile"),g(),p(7,"th"),C(8,"Email"),g(),G(9,"th"),g(),g(),p(10,"tbody"),M(11,Hre,9,4,"tr",16),g(),g()),2&n){const t=q();E(11),D("ngForOf",t.newUsers)}}let Gre=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.newUsers=Array(),this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Rs&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Qi&&"popstate"===s.navigationTrigger&&(this.newUsers.length=0)})}ngOnInit(){var t=this;return y(function*(){t.newUsers.length=0,yield t.getNewUsers(),t.loading=!1})()}getNewUsers(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getNewUsers().then(r=>{t.newUsers=r})})()}verifyUser(t){var r=this;return y(function*(){yield r.userService.verifyUser(r.newUsers[t].mobile).then(i=>{}),r.toastr.success("User Verified"),r.newUsers.length=0,r.reLoad()})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Os),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-view-users"]],decls:16,vars:2,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"viewUsersFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"note"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-info btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-info","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"Verify New Users"),g(),p(8,"div",7),p(9,"span",8),C(10,"(Please click on verify to allow Login)"),g(),g(),G(11,"hr",9),p(12,"div",10),M(13,jre,1,0,"span",11),M(14,qre,12,1,"table",12),g(),G(15,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(E(13),D("ngIf",r.loading),E(1),D("ngIf",r.newUsers.length>0))},directives:[pn,Cs],styles:[".viewUsersFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})();function H2(n,e){return t=>{const i=t.controls[e];i.errors&&!i.errors.confirmedValidator||i.setErrors(t.controls[n].value!==i.value?{confirmedValidator:!0}:null)}}function zre(n,e){1&n&&(p(0,"div"),C(1,"Name is required"),g())}function Wre(n,e){1&n&&(p(0,"div"),C(1,"Maximum length can be 50 characters only."),g())}function Kre(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid name."),g())}function Qre(n,e){if(1&n&&(p(0,"div",23),M(1,zre,2,0,"div",20),M(2,Wre,2,0,"div",20),M(3,Kre,2,0,"div",20),g()),2&n){const t=q();E(1),D("ngIf",t.f.fullName.errors.required),E(1),D("ngIf",t.f.fullName.errors.maxlength),E(1),D("ngIf",t.f.fullName.errors.pattern)}}function Yre(n,e){1&n&&(p(0,"div"),C(1,"Mobile Number is required"),g())}function Jre(n,e){1&n&&(p(0,"div"),C(1,"Please Enter 10 Digits Mobile Number "),g())}function Xre(n,e){if(1&n&&(p(0,"div",23),M(1,Yre,2,0,"div",20),M(2,Jre,2,0,"div",20),g()),2&n){const t=q();E(1),D("ngIf",t.f.mobile.errors.required),E(1),D("ngIf",t.f.mobile.errors.pattern)}}function Zre(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function eie(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function tie(n,e){if(1&n&&(p(0,"div",23),M(1,Zre,2,0,"div",20),M(2,eie,2,0,"div",20),g()),2&n){const t=q();E(1),D("ngIf",t.f.email.errors.required),E(1),D("ngIf",t.f.email.errors.pattern)}}function nie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function rie(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function iie(n,e){if(1&n&&(p(0,"div",23),M(1,nie,2,0,"div",20),M(2,rie,2,0,"div",20),g()),2&n){const t=q();E(1),D("ngIf",t.f.password.errors.required),E(1),D("ngIf",t.f.password.errors.minlength)}}function sie(n,e){1&n&&(p(0,"div"),C(1,"Confirm Password is required"),g())}function oie(n,e){1&n&&(p(0,"div"),C(1,"Password and Confirm Password must be same."),g())}function aie(n,e){if(1&n&&(p(0,"div",23),M(1,sie,2,0,"div",20),M(2,oie,2,0,"div",20),g()),2&n){const t=q();E(1),D("ngIf",t.f.confirmPassword.errors.required),E(1),D("ngIf",t.f.confirmPassword.errors.confirmedValidator)}}function uie(n,e){1&n&&G(0,"span",24)}function lie(n,e){1&n&&(p(0,"div"),C(1,"Mobile Number is already registered. Please Login."),g())}function cie(n,e){1&n&&(p(0,"div"),C(1,"Email is already registered. Please Login."),g())}const qd=function(n){return{"is-invalid":n}},die=Du();let hie=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.router=r,this.userService=i,this.toastr=s,this.registrationForm=wi,this.submitted=!1,this.loading=!1,this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1}get f(){return this.registrationForm.controls}onSubmit(){this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1,this.submitted=!0,!this.registrationForm.invalid&&this.submitted&&(this.loading=!0,this.userService.checkAlreadyRegisteredMobile(this.registrationForm.value).then(t=>{1==t?(this.alreadyRegisteredMobile=!0,this.loading=!1,console.log("already registered mobile")):(this.loading=!0,function(n,e,t){return mb.apply(this,arguments)}(die,this.registrationForm.value.email,this.registrationForm.value.password).then(r=>{this.registerUserForValidation(this.registrationForm),function(n,e){Cb.apply(this,arguments)}(r.user,{displayName:this.registrationForm.value.fullName}),console.log("user created"),this.loading=!1,this.toastr.success("Registration Success. Your Account will be activated after verification."),this.router.navigate(["customer-login"])}).catch(r=>{const i=r.code,s=r.message;"auth/email-already-in-use"==i&&(this.alreadyRegisteredEmail=!0,this.loading=!1),console.log("error:",s,i)}))}))}ngOnInit(){this.registrationForm=this.formBuilder.group({fullName:["",[ht.required,ht.maxLength(50),ht.pattern("^[a-zA-Z ]*$")]],mobile:["",[ht.required,ht.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],email:["",[ht.required,ht.email,ht.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ht.required]],confirmPassword:["",[ht.required]],role:[""],activated:[""],timeStamp:[""]},{validator:H2("password","confirmPassword")})}registerUserForValidation(t){t.controls.role.setValue("user"),t.controls.password.setValue("********"),t.controls.confirmPassword.setValue("********"),t.controls.activated.setValue(!1),t.controls.timeStamp.setValue(new Date),this.userService.writeToUsersCollection(t.value)}}return n.\u0275fac=function(t){return new(t||n)(T(Ic),T(Me),T(er),T(Os))},n.\u0275cmp=at({type:n,selectors:[["app-customer-registration"]],decls:38,vars:24,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"registrationFrame","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-2","bd-highlight","note"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","fullName","type","text","formControlName","fullName","placeholder","Full Name","required","","autofocus","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputMobile","type","text","maxlength","10","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","formControlName","mobile","placeholder","Mobile Number","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4",3,"ngClass"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"New Registration"),g(),p(9,"div",8),p(10,"div",9),C(11,"(Below details will be verified by admin)"),g(),g(),p(12,"form",10),de("ngSubmit",function(){return r.onSubmit()}),p(13,"div",11),p(14,"div",11),G(15,"input",12),M(16,Qre,4,3,"div",13),g(),p(17,"div",11),G(18,"input",14),M(19,Xre,3,2,"div",13),g(),g(),p(20,"div",11),G(21,"input",15),M(22,tie,3,2,"div",13),g(),p(23,"div",11),G(24,"input",16),M(25,iie,3,2,"div",13),g(),p(26,"div",11),G(27,"input",17),M(28,aie,3,2,"div",13),g(),p(29,"button",18),C(30,"Submit "),M(31,uie,1,0,"span",19),g(),M(32,lie,2,0,"div",20),M(33,cie,2,0,"div",20),p(34,"div",8),p(35,"div",21),p(36,"a",22),C(37,"Back To Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(12),D("formGroup",r.registrationForm),E(3),D("ngClass",mr(14,qd,r.submitted&&r.f.fullName.errors)),E(1),D("ngIf",r.submitted&&r.f.fullName.errors),E(2),D("ngClass",mr(16,qd,r.submitted&&r.f.mobile.errors)),E(1),D("ngIf",r.submitted&&r.f.mobile.errors),E(2),D("ngClass",mr(18,qd,r.submitted&&r.f.email.errors)),E(1),D("ngIf",r.submitted&&r.f.email.errors),E(2),D("ngClass",mr(20,qd,r.submitted&&r.f.password.errors)),E(1),D("ngIf",r.submitted&&r.f.password.errors),E(2),D("ngClass",mr(22,qd,r.submitted&&r.f.confirmPassword.errors)),E(1),D("ngIf",r.submitted&&r.f.confirmPassword.errors),E(3),D("ngIf",r.loading),E(1),D("ngIf",r.alreadyRegisteredMobile),E(1),D("ngIf",r.alreadyRegisteredEmail))},directives:[cu,au,xs,Ds,ou,vo,Ns,su,pn,Pf,du,_u],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.registrationFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function fie(n,e){1&n&&(p(0,"div"),C(1,"Email is required"),g())}function pie(n,e){1&n&&(p(0,"div"),C(1,"Please enter a valid email"),g())}function gie(n,e){if(1&n&&(p(0,"div",21),M(1,fie,2,0,"div",15),M(2,pie,2,0,"div",15),g()),2&n){const t=q();E(1),D("ngIf",t.f.email.errors.required),E(1),D("ngIf",t.f.email.errors.pattern)}}function mie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function yie(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function _ie(n,e){if(1&n&&(p(0,"div",21),M(1,mie,2,0,"div",15),M(2,yie,2,0,"div",15),g()),2&n){const t=q();E(1),D("ngIf",t.f.password.errors.required),E(1),D("ngIf",t.f.password.errors.minlength)}}function vie(n,e){1&n&&G(0,"span",22)}function wie(n,e){1&n&&(p(0,"div"),C(1,"Invalid Password! Please retry."),g())}function bie(n,e){1&n&&(p(0,"div"),C(1,"Your account is not activated yet."),g())}function Eie(n,e){1&n&&(p(0,"div"),C(1,"Email is not registered. Please register first."),g())}const q2=function(n){return{"is-invalid":n}},Tie=Du();let G2=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.userService=i,this.loginForm=wi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.activationError=!1,this.notRegisteredError=!1}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.notRegisteredError=!1,this.activationError=!1,this.credentialsError=!1,!this.loginForm.invalid&&this.submitted&&(this.loading=!0,AP(Tie,this.loginForm.value.email,this.loginForm.value.password).then(t=>{this.userService.verifyCredentials(this.loginForm.value).then(r=>{0==r?(this.activationError=!0,this.loading=!1,localStorage.setItem("user","null")):(this.loading=!1,this.userData=t.user,localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("userCredentials",JSON.stringify(t)),this.getUserInfo(this.loginForm.value.email),console.log("signed in"),this.router.navigate(["/menu"]))})}).catch(t=>{localStorage.removeItem("user");const r=t.code;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1)}))}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[ht.required,ht.email,ht.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[ht.required]]})}getUserInfo(t){var r=this;return y(function*(){yield r.userService.getUserByEmail(t).then(i=>{r.userInfo=JSON.stringify(i)}),localStorage.setItem("userInfo",r.userInfo)})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ic),T(Me),T(er))},n.\u0275cmp=at({type:n,selectors:[["app-login"]],decls:30,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","email","true","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-registration"],[1,"d-flex","flex-row-reverse","bd-highlight"],["routerLink","/admin-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Login"),g(),p(9,"form",8),de("ngSubmit",function(){return r.onSubmit()}),p(10,"div",9),G(11,"input",10),M(12,gie,3,2,"div",11),g(),p(13,"div",9),G(14,"input",12),M(15,_ie,3,2,"div",11),g(),p(16,"button",13),C(17,"Login "),M(18,vie,1,0,"span",14),g(),M(19,wie,2,0,"div",15),M(20,bie,2,0,"div",15),M(21,Eie,2,0,"div",15),p(22,"div",16),p(23,"div",17),p(24,"a",18),C(25,"New Registration"),g(),g(),g(),p(26,"div",19),p(27,"div",17),p(28,"a",20),C(29,"Admin Login"),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(9),D("formGroup",r.loginForm),E(2),D("ngClass",mr(9,q2,r.submitted&&r.f.email.errors)),E(1),D("ngIf",r.submitted&&r.f.email.errors),E(2),D("ngClass",mr(11,q2,r.submitted&&r.f.password.errors)),E(1),D("ngIf",r.submitted&&r.f.password.errors),E(3),D("ngIf",r.loading),E(1),D("ngIf",r.credentialsError),E(1),D("ngIf",r.activationError),E(1),D("ngIf",r.notRegisteredError))},directives:[cu,au,xs,Ds,ou,vo,Nv,Ns,su,pn,du,_u],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();class Cie{}function Iie(n,e){1&n&&G(0,"span",14)}function Die(n,e){if(1&n){const t=pr();p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),p(6,"img",17),de("click",function(){const i=Wt(t),s=i.index,o=i.$implicit;return q(2).decreaseQuantity(s,o.quantity,o.price,o.itemName)}),g(),C(7),p(8,"img",18),de("click",function(){const i=Wt(t),s=i.index,o=i.$implicit;return q(2).increaseQuantity(s,o.quantity,o.price,o.itemName)}),g(),g(),p(9,"td"),C(10),g(),g()}if(2&n){const t=e.$implicit;E(2),Ye(t.itemName),E(2),Ye(t.price),E(3),Hn(" ",t.quantity," "),E(3),Hn(" ",t.price*t.quantity," ")}}function Aie(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Item"),g(),p(5,"th"),C(6,"Price"),g(),p(7,"th"),C(8,"Quantity"),g(),p(9,"th"),C(10,"Amount"),g(),g(),g(),p(11,"tbody"),M(12,Die,11,4,"tr",16),g(),g()),2&n){const t=q();E(12),D("ngForOf",t.menuFromDb)}}function Sie(n,e){if(1&n&&(p(0,"div",19),p(1,"div",20),C(2),g(),g()),2&n){const t=q();E(2),Hn("Total: ",t.finalAmount," Rs. ")}}function Mie(n,e){if(1&n){const t=pr();p(0,"div",19),p(1,"button",21),de("click",function(){return Wt(t),q().orderConfirmation()}),C(2,"Order Now "),g(),g()}}function xie(n,e){1&n&&(p(0,"div"),C(1,"Please add food to order."),g())}let Nie=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.datePipe=i,this.order=new Cie,this.orderedItems="",this.menuFromDb=Array(),this.finalAmount=0,this.orderError=!1,this.foodItemIndex=[],this.newOrderNumber=0,t.events.forEach(s=>{s instanceof Qi&&"popstate"===s.navigationTrigger&&(this.menuFromDb.length=0)})}ngOnInit(){this.menuFromDb.length=0,this.getMenu()}getMenu(){var t=this;return y(function*(){yield t.userService.getMenu().then(r=>{t.menuFromDb=r})})()}increaseQuantity(t,r,i,s){this.orderError=!1,this.menuFromDb[t].quantity=this.menuFromDb[t].quantity+1,this.finalAmount=this.finalAmount+i}decreaseQuantity(t,r,i,s){this.menuFromDb[t].quantity>0&&(this.menuFromDb[t].quantity=this.menuFromDb[t].quantity-1,this.finalAmount=this.finalAmount-i)}orderConfirmation(){var t=this;return y(function*(){t.finalAmount<=0?t.orderError=!0:confirm("Total Amount is: "+t.finalAmount+". Confirm the order?")&&(yield t.getNewOrderId(),t.orderedItems="",t.menuFromDb.forEach(i=>{var s=i.itemName+"-"+i.quantity;i.quantity>0&&(t.orderedItems.length>0&&(t.orderedItems=t.orderedItems+", "),t.orderedItems=t.orderedItems+s)}),t.userInfoObject=JSON.parse(localStorage.userInfo),t.order.orderNumber=t.newOrderNumber,t.order.customerName=t.userInfoObject.fullName,t.order.mobile=t.userInfoObject.mobile,t.order.orderedItems=t.orderedItems,t.order.totalAmount=t.finalAmount,t.order.orderDate=ff(new Date,"yyyy/MM/dd","en"),t.order.orderStatus="Done",t.order.email=t.userInfoObject.email,t.saveOrder(t.order),t.router.navigate(["order"],{state:{newOrderNumber:t.newOrderNumber,totalAmount:t.finalAmount}}))})()}getNewOrderId(){var t=this;return y(function*(){return yield t.userService.getNewOrderId().then(r=>{t.newOrderNumber=r+1}),t.newOrderNumber})()}saveOrder(t){var r=this;return y(function*(){yield r.userService.writeToOrdersCollection(t).then(i=>{console.log("Order is saved:")})})()}goToViewMyOrders(){this.router.navigate(["user-profile"])}goToUpdateProfile(){this.router.navigate(["update-profile"])}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T(er),T(rv))},n.\u0275cmp=at({type:n,selectors:[["app-menu"]],features:[Ge([rv])],decls:18,vars:5,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"menu","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"pull-right","btn","btn-info","btn-sm",3,"click"],[1,"border-1","border-danger"],[1,"display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","table",4,"ngIf"],["class","d-flex flex-row-reverse bd-highlight",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["src","/assets/minus2.png","width","18vh","alt","-",3,"click"],["src","/assets/plus2.png","width","18.5vh","alt","-",3,"click"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight","fw-bold"],[1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"button",6),de("click",function(){return r.goToViewMyOrders()}),C(7,"View My Orders"),g(),G(8,"hr",7),p(9,"h3",8),C(10,"Menu"),g(),G(11,"hr",9),p(12,"div"),M(13,Iie,1,0,"span",10),M(14,Aie,13,1,"table",11),g(),M(15,Sie,3,1,"div",12),M(16,Mie,3,0,"div",12),M(17,xie,2,0,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(E(13),D("ngIf",r.menuFromDb.length<=0),E(1),D("ngIf",r.menuFromDb.length>0),E(1),D("ngIf",r.menuFromDb.length>0),E(1),D("ngIf",r.menuFromDb.length>0),E(1),D("ngIf",r.orderError))},directives:[pn,Cs],styles:[".menu[_ngcontent-%COMP%]{min-height:84vh}"]}),n})(),Oie=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.orderNumber=history.state.newOrderNumber,this.totalAmount=history.state.totalAmount}ngOnInit(){console.log("order no. is:",this.orderNumber)}goToMenu(){this.userService.clearMenu(),this.router.navigate(["menu"])}}return n.\u0275fac=function(t){return new(t||n)(T(Me),T(er))},n.\u0275cmp=at({type:n,selectors:[["app-order"]],decls:19,vars:2,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","text-center","mx-auto"],["aria-hidden","true",1,"fa","fa-check-circle","fa-3x"],[1,"p-3","display-6","text-center"],[1,"p-3","display-5","text-center"],[1,"fw-bold"],[1,"p-4","display-4","text-center"],[1,"p-4","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),G(7,"i",7),p(8,"h3",8),C(9),g(),p(10,"h3",9),C(11,"Order No. "),p(12,"span",10),C(13),g(),g(),p(14,"h3",11),C(15,"Thanks!"),g(),g(),p(16,"div",12),p(17,"button",13),de("click",function(){return r.goToMenu()}),C(18,"Order More "),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(9),Hn("Your order is confirmed. Please pay Rs. ",r.totalAmount," in Cash"),E(4),Ye(r.orderNumber))},styles:[""]}),n})();function kie(n,e){1&n&&(p(0,"div"),C(1,"Password is required"),g())}function Rie(n,e){1&n&&(p(0,"div"),C(1,"Password should be minimum 6 characters"),g())}function Pie(n,e){if(1&n&&(p(0,"div",17),M(1,kie,2,0,"div",18),M(2,Rie,2,0,"div",18),g()),2&n){const t=q();E(1),D("ngIf",t.f.password.errors.required),E(1),D("ngIf",t.f.password.errors.minlength)}}function Fie(n,e){1&n&&(p(0,"div"),C(1,"Confirm Password is required"),g())}function Lie(n,e){1&n&&(p(0,"div"),C(1,"Password and Confirm Password must be same."),g())}function Vie(n,e){if(1&n&&(p(0,"div",17),M(1,Fie,2,0,"div",18),M(2,Lie,2,0,"div",18),g()),2&n){const t=q();E(1),D("ngIf",t.f.confirmPassword.errors.required),E(1),D("ngIf",t.f.confirmPassword.errors.confirmedValidator)}}function Uie(n,e){1&n&&G(0,"span",19)}const z2=function(n){return{"is-invalid":n}};Du();let Bie=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.router=r,this.userService=i,this.toastr=s,this.updateProfileForm=wi,this.submitted=!1,this.loading=!1}get f(){return this.updateProfileForm.controls}onSubmit(){this.submitted=!0}ngOnInit(){this.updateProfileForm=this.formBuilder.group({password:["",[ht.required]],confirmPassword:["",[ht.required]]},{validator:H2("password","confirmPassword")})}}return n.\u0275fac=function(t){return new(t||n)(T(Ic),T(Me),T(er),T(Os))},n.\u0275cmp=at({type:n,selectors:[["app-update-profile"]],decls:21,vars:10,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"updateFrame","d-flex","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"p-3","display-6","text-center"],[1,"p-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[1,"p-3"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"div",6),p(7,"h3",7),C(8,"Change Password"),g(),p(9,"div",8),p(10,"form",9),de("ngSubmit",function(){return r.onSubmit()}),p(11,"div",10),G(12,"input",11),M(13,Pie,3,2,"div",12),g(),p(14,"div",10),G(15,"input",13),M(16,Vie,3,2,"div",12),g(),p(17,"div",14),p(18,"button",15),C(19,"Submit "),M(20,Uie,1,0,"span",16),g(),g(),g(),g(),g(),g(),g(),g(),g(),g(),g()),2&t&&(E(10),D("formGroup",r.updateProfileForm),E(2),D("ngClass",mr(6,z2,r.submitted&&r.f.password.errors)),E(1),D("ngIf",r.submitted&&r.f.password.errors),E(2),D("ngClass",mr(8,z2,r.submitted&&r.f.confirmPassword.errors)),E(1),D("ngIf",r.submitted&&r.f.confirmPassword.errors),E(4),D("ngIf",r.loading))},directives:[cu,au,xs,Ds,du,Pf,ou,vo,Ns,su,pn],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}.updateFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),n})();function jie(n,e){1&n&&G(0,"span",14)}function $ie(n,e){1&n&&(p(0,"div"),C(1,"You have not placed any order yet."),g())}function Hie(n,e){if(1&n){const t=pr();p(0,"button",18),de("click",function(){Wt(t);const i=q().index;return q(2).cancelOrder(i)}),C(1,"Cancel"),g()}}function qie(n,e){if(1&n&&(p(0,"tr"),p(1,"td"),C(2),g(),p(3,"td"),C(4),g(),p(5,"td"),C(6),g(),p(7,"td"),M(8,Hie,2,0,"button",17),g(),g()),2&n){const t=e.$implicit,r=q(2);E(2),Ye(t.orderDate),E(2),Ye(t.orderItems),E(2),Ye(t.totalAmount),E(2),D("ngIf",r.myOrders.length>0)}}function Gie(n,e){if(1&n&&(p(0,"table",15),p(1,"thead"),p(2,"tr"),p(3,"th"),C(4,"Date"),g(),p(5,"th"),C(6,"Items"),g(),p(7,"th"),C(8,"Amount"),g(),G(9,"th"),g(),g(),p(10,"tbody"),M(11,qie,9,4,"tr",16),g(),g()),2&n){const t=q();E(11),D("ngForOf",t.myOrders)}}let zie=(()=>{class n{constructor(t,r,i){this.userService=t,this.toastr=r,this.router=i,this.myOrders=Array(),this.loading=!1,this.noOrdersError=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.mySubscription=this.router.events.subscribe(s=>{s instanceof Rs&&(this.router.navigated=!1)}),i.events.forEach(s=>{s instanceof Qi&&"popstate"===s.navigationTrigger&&(this.myOrders.length=0)})}cancelOrder(t){var r=this;return y(function*(){confirm("Do you really want to Cancel this order?")&&(yield r.userService.cancelOrder(r.myOrders[t].email,r.myOrders[t].orderNumber).then(s=>{}),r.toastr.success("Order Cancelled"),r.myOrders.length=0,r.reLoad())})()}ngOnInit(){var t=this;return y(function*(){t.userEmail=JSON.parse(t.userService.getLoggedInUser).email,t.myOrders.length=0,yield t.getMyOrders(),0==t.myOrders.length&&(t.noOrdersError=!0),t.loading=!1})()}getMyOrders(){var t=this;return y(function*(){t.loading=!0,yield t.userService.getMyOrders(t.userEmail).then(r=>{t.myOrders=r})})()}reLoad(){this.router.navigate([this.router.url])}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Os),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-user-profile"]],decls:15,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-12","bg-light"],[1,"userProfileFrame","d-flex","py-2"],[1,"container"],[1,"row"],[1,"col-sm-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"d-flex","justify-content-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"fixWidthForDevices"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"p-4"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table"],[4,"ngFor","ngForOf"],["class","pull-right btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"pull-right","btn","btn-danger","btn-sm",3,"click"]],template:function(t,r){1&t&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"div",3),p(4,"div",4),p(5,"div",5),p(6,"h3",6),C(7,"My Orders"),g(),G(8,"div",7),G(9,"hr",8),p(10,"div",9),M(11,jie,1,0,"span",10),M(12,$ie,2,0,"div",11),M(13,Gie,12,1,"table",12),g(),G(14,"div",13),g(),g(),g(),g(),g(),g()),2&t&&(E(11),D("ngIf",r.loading),E(1),D("ngIf",r.noOrdersError),E(1),D("ngIf",r.myOrders.length>0))},directives:[pn,Cs],styles:[".userProfileFrame[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}.fixWidthForDevices[_ngcontent-%COMP%]{overflow-x:hidden}table[_ngcontent-%COMP%]{table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;padding:5px;word-break:break-all}"]}),n})(),xi=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return!this.userService.isLoggedIn||(this.router.navigate(["customer-login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(L(er),L(Me))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wie=[{path:"",component:G2},{path:"admin-login",component:_re},{path:"customer-login",component:G2},{path:"customer-registration",component:hie},{path:"menu",component:Nie,canActivate:[xi]},{path:"admin-home",component:hQ,canActivate:[xi]},{path:"update-menu",component:Ire,canActivate:[xi]},{path:"view-orders",component:Bre,canActivate:[xi]},{path:"view-date-orders",component:Pre,canActivate:[xi]},{path:"view-users",component:Gre,canActivate:[xi]},{path:"view-all-users",component:xre,canActivate:[xi]},{path:"order",component:Oie,canActivate:[xi]},{path:"user-profile",component:zie,canActivate:[xi]},{path:"update-profile",component:Bie,canActivate:[xi]}];let Kie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({imports:[[SR.forRoot(Wie)],SR]}),n})();function Qie(n,e){if(1&n){const t=pr();p(0,"a",5),de("click",function(){return Wt(t),q().logout()}),p(1,"span",6),C(2,"Logout"),g(),g()}}let Yie=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}ngOnInit(){}logout(){this.userService.SignOut()}}return n.\u0275fac=function(t){return new(t||n)(T(er),T(Me))},n.\u0275cmp=at({type:n,selectors:[["app-header"]],decls:6,vars:1,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","/assets/icon2.jpg","alt","Dosa Point","width","40","height","34",1,"d-inline-block","align-text-top"],["class","navbar-brand",3,"click",4,"ngIf"],[1,"navbar-brand",3,"click"],[1,"navOption"]],template:function(t,r){1&t&&(p(0,"nav",0),p(1,"div",1),p(2,"a",2),G(3,"img",3),C(4," Dosa Point "),g(),M(5,Qie,3,0,"a",4),g(),g()),2&t&&(E(5),D("ngIf",!r.userService.isLoggedIn))},directives:[pn],styles:[""]}),n})(),Jie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=at({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-dark","bg-primary"],["href","#",1,"navbar-brand"]],template:function(t,r){1&t&&(p(0,"nav",0),p(1,"a",1),C(2,"Stay safe and healthy!"),g(),g())},styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:15px!important;margin-left:1%}"]}),n})(),Xie=(()=>{class n{constructor(){this.title="dosa-point"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=at({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(G(0,"app-header"),G(1,"router-outlet"),G(2,"app-footer"))},directives:[Yie,Wv,Jie],styles:[""]}),n})();var hl=eo(940);const W2="@firebase/installations",Q2="w:0.5.4",Y2="FIS_v2",ls=new Ti("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J2(n){return n instanceof Ji&&n.code.includes("request-failed")}function aI({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function X2(n){return{token:n.token,requestStatus:2,expiresIn:ise(n.expiresIn),creationTime:Date.now()}}function uI(n,e){return lI.apply(this,arguments)}function lI(){return lI=y(function*(n,e){const r=(yield e.json()).error;return ls.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),lI.apply(this,arguments)}function Z2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eU(n,{refreshToken:e}){const t=Z2(n);return t.append("Authorization",function(n){return`${Y2} ${n}`}(e)),t}function cI(n){return dI.apply(this,arguments)}function dI(){return dI=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),dI.apply(this,arguments)}function ise(n){return Number(n.replace("s","000"))}function ose(n,e){return hI.apply(this,arguments)}function hI(){return hI=y(function*(n,{fid:e}){const t=aI(n),s={method:"POST",headers:Z2(n),body:JSON.stringify({fid:e,authVersion:Y2,appId:n.appId,sdkVersion:Q2})},o=yield cI(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:X2(a.authToken)}}throw yield uI("Create Installation",o)}),hI.apply(this,arguments)}function tU(n){return new Promise(e=>{setTimeout(e,n)})}const use=/^[cdef][\w-]{21}$/;function lse(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return use.test(t)?t:""}catch(n){return""}}function fl(n){return`${n.appName}!${n.appId}`}const pl=new Map;function nU(n,e){const t=fl(n);rU(t,e),function(n,e){const t=(!Qo&&"BroadcastChannel"in self&&(Qo=new BroadcastChannel("[Firebase] FID Change"),Qo.onmessage=n=>{rU(n.data.key,n.data.fid)}),Qo);t&&t.postMessage({key:n,fid:e}),0===pl.size&&Qo&&(Qo.close(),Qo=null)}(t,e)}function rU(n,e){const t=pl.get(n);if(t)for(const r of t)r(e)}let Qo=null;const Yo="firebase-installations-store";let pI=null;function gI(){return pI||(pI=(0,hl.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Yo)})),pI}function xg(n,e){return mI.apply(this,arguments)}function mI(){return mI=y(function*(n,e){const t=fl(n),i=(yield gI()).transaction(Yo,"readwrite"),s=i.objectStore(Yo),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&nU(n,e.fid),e}),mI.apply(this,arguments)}function yI(n){return _I.apply(this,arguments)}function _I(){return _I=y(function*(n){const e=fl(n),r=(yield gI()).transaction(Yo,"readwrite");yield r.objectStore(Yo).delete(e),yield r.complete}),_I.apply(this,arguments)}function Gd(n,e){return vI.apply(this,arguments)}function vI(){return vI=y(function*(n,e){const t=fl(n),i=(yield gI()).transaction(Yo,"readwrite"),s=i.objectStore(Yo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&nU(n,a.fid),a}),vI.apply(this,arguments)}function wI(n){return bI.apply(this,arguments)}function bI(){return bI=y(function*(n){let e;const t=yield Gd(n,r=>{const i=mse(r),s=yse(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),bI.apply(this,arguments)}function mse(n){return aU(n||{fid:lse(),registrationStatus:0})}function yse(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ls.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(n,e){return EI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:vse(n)}:{installationEntry:e}}function EI(){return EI=y(function*(n,e){try{return xg(n,yield ose(n,e))}catch(t){throw J2(t)&&409===t.customData.serverCode?yield yI(n):yield xg(n,{fid:e.fid,registrationStatus:0}),t}}),EI.apply(this,arguments)}function vse(n){return TI.apply(this,arguments)}function TI(){return TI=y(function*(n){let e=yield oU(n);for(;1===e.registrationStatus;)yield tU(100),e=yield oU(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield wI(n);return r||t}return e}),TI.apply(this,arguments)}function oU(n){return Gd(n,e=>{if(!e)throw ls.create("installation-not-found");return aU(e)})}function aU(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function bse(n,e){return CI.apply(this,arguments)}function CI(){return CI=y(function*({appConfig:n,platformLoggerProvider:e},t){const r=Ese(n,t),i=eU(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Q2}})},u=yield cI(()=>fetch(r,a));if(u.ok)return X2(yield u.json());throw yield uI("Generate Auth Token",u)}),CI.apply(this,arguments)}function Ese(n,{fid:e}){return`${aI(n)}/${e}/authTokens:generate`}function II(n){return DI.apply(this,arguments)}function DI(){return DI=y(function*(n,e=!1){let t;const r=yield Gd(n.appConfig,s=>{if(!lU(s))throw ls.create("not-registered");const o=s.authToken;if(!e&&Ise(o))return s;if(1===o.requestStatus)return t=Tse(n,e),s;{if(!navigator.onLine)throw ls.create("app-offline");const a=Ase(s);return t=Cse(n,a),a}});return t?yield t:r.authToken}),DI.apply(this,arguments)}function Tse(n,e){return AI.apply(this,arguments)}function AI(){return AI=y(function*(n,e){let t=yield uU(n.appConfig);for(;1===t.authToken.requestStatus;)yield tU(100),t=yield uU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?II(n,e):r}),AI.apply(this,arguments)}function uU(n){return Gd(n,e=>{if(!lU(e))throw ls.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Cse(n,e){return SI.apply(this,arguments)}function SI(){return SI=y(function*(n,e){try{const t=yield bse(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield xg(n.appConfig,r),t}catch(t){if(!J2(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield xg(n.appConfig,r)}else yield yI(n.appConfig);throw t}}),SI.apply(this,arguments)}function lU(n){return void 0!==n&&2===n.registrationStatus}function Ise(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Ase(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function MI(){return MI=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield wI(e.appConfig);return r?r.catch(console.error):II(e).catch(console.error),t.fid}),MI.apply(this,arguments)}function xI(){return xI=y(function*(n,e=!1){const t=n;return yield Nse(t.appConfig),(yield II(t,e)).token}),xI.apply(this,arguments)}function Nse(n){return NI.apply(this,arguments)}function NI(){return NI=y(function*(n){const{registrationPromise:e}=yield wI(n);e&&(yield e)}),NI.apply(this,arguments)}function RI(n){return ls.create("missing-app-config-values",{valueName:n})}const cU="installations";zn(new On(cU,n=>{const e=n.getProvider("app").getImmediate(),t=function(n){if(!n||!n.options)throw RI("App Configuration");if(!n.name)throw RI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw RI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,platformLoggerProvider:Eu(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),zn(new On("installations-internal",n=>{const t=Eu(n.getProvider("app").getImmediate(),cU).getImmediate();return{getId:()=>function(n){return MI.apply(this,arguments)}(t),getToken:i=>function(n){return xI.apply(this,arguments)}(t,i)}},"PRIVATE")),it(W2,"0.5.4"),it(W2,"0.5.4","esm2017");const PI="@firebase/remote-config",tr=new Ti("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qse{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Yse(n=navigator){return n.languages&&n.languages[0]||n.language}class Jse{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Yse()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((b,w)=>{e.signal.addEventListener(()=>{const N=new Error("The operation was aborted.");N.name="AbortError",w(N)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(b){let w="fetch-client-network";throw"AbortError"===b.name&&(w="fetch-timeout"),tr.create(w,{originalErrorMessage:b.message})}let f=h.status;const m=h.headers.get("ETag")||void 0;let _,v;if(200===h.status){let b;try{b=yield h.json()}catch(w){throw tr.create("fetch-client-parse",{originalErrorMessage:w.message})}_=b.entries,v=b.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(_={}),304!==f&&200!==f)throw tr.create("fetch-status",{httpStatus:f});return{status:f,eTag:m,config:_}})()}}class eoe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof Ji&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+uw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class roe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Og(n,e){const t=n.target.error||void 0;return tr.create(e,{originalErrorMessage:t&&t.message})}const Jo="app_namespace_store";class aoe{constructor(e,t,r,i=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Og(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Jo,{keyPath:"compositeKey"})}}catch(t){e(tr.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Jo],"readonly").objectStore(Jo),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Og(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(tr.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Jo],"readwrite").objectStore(Jo),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(Og(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(tr.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Jo],"readwrite").objectStore(Jo),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Og(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(tr.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function coe(){return BI.apply(this,arguments)}function BI(){return(BI=y(function*(){if(!wu())return!1;try{return yield ep()}catch(n){return!1}})).apply(this,arguments)}zn(new On("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw tr.create("registration-window");if(!wu())throw tr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw tr.create("registration-project-id");if(!o)throw tr.create("registration-api-key");if(!a)throw tr.create("registration-app-id");const u=new aoe(a,r.name,t=t||"firebase"),l=new uoe(u),c=new bu(PI);c.logLevel=be.ERROR;const d=new Jse(i,Tu,t,s,o,a),h=new eoe(d,u),f=new Qse(h,u,l,c),m=new roe(r,f,l,u,c);return function(n){const e=Qt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),it(PI,"0.3.3"),it(PI,"0.3.3","esm2017");const doe="/firebase-messaging-sw.js",hoe="/firebase-cloud-messaging-push-scope",pU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gU="google.c.a.c_id",poe="google.c.a.c_l",goe="google.c.a.ts",moe="google.c.a.e";var gl=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(gl||(gl={})),gl))();function cs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yoe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jI="fcm_token_details_db",mU="fcm_token_object_Store";function voe(n){return $I.apply(this,arguments)}function $I(){return $I=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jI))return null;let e=null;return(yield(0,hl.openDb)(jI,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(mU))return;const o=i.transaction.objectStore(mU),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:cs(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:cs(u.auth),p256dh:cs(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:cs(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:cs(u.auth),p256dh:cs(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:cs(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,hl.deleteDb)(jI),yield(0,hl.deleteDb)("fcm_vapid_details_db"),yield(0,hl.deleteDb)("undefined"),woe(e)?e:null}),$I.apply(this,arguments)}function woe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Xo="firebase-messaging-store";let HI=null;function qI(){return HI||(HI=(0,hl.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Xo)})),HI}function yU(n){return GI.apply(this,arguments)}function GI(){return GI=y(function*(n){const e=QI(n),r=yield(yield qI()).transaction(Xo).objectStore(Xo).get(e);if(r)return r;{const i=yield voe(n.appConfig.senderId);if(i)return yield zI(n,i),i}}),GI.apply(this,arguments)}function zI(n,e){return WI.apply(this,arguments)}function WI(){return WI=y(function*(n,e){const t=QI(n),i=(yield qI()).transaction(Xo,"readwrite");return yield i.objectStore(Xo).put(e,t),yield i.complete,e}),WI.apply(this,arguments)}function Toe(n){return KI.apply(this,arguments)}function KI(){return KI=y(function*(n){const e=QI(n),r=(yield qI()).transaction(Xo,"readwrite");yield r.objectStore(Xo).delete(e),yield r.complete}),KI.apply(this,arguments)}function QI({appConfig:n}){return n.appId}const sn=new Ti("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ioe(n,e){return YI.apply(this,arguments)}function YI(){return YI=y(function*(n,e){const t=yield eD(n),r=vU(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ZI(n.appConfig),i)).json()}catch(o){throw sn.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw sn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-subscribe-no-token");return s.token}),YI.apply(this,arguments)}function Doe(n,e){return JI.apply(this,arguments)}function JI(){return JI=y(function*(n,e){const t=yield eD(n),r=vU(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ZI(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw sn.create("token-update-failed",{errorInfo:o})}if(s.error)throw sn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-update-no-token");return s.token}),JI.apply(this,arguments)}function _U(n,e){return XI.apply(this,arguments)}function XI(){return XI=y(function*(n,e){const r={method:"DELETE",headers:yield eD(n)};try{const s=yield(yield fetch(`${ZI(n.appConfig)}/${e}`,r)).json();if(s.error)throw sn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw sn.create("token-unsubscribe-failed",{errorInfo:i})}}),XI.apply(this,arguments)}function ZI({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function eD(n){return tD.apply(this,arguments)}function tD(){return tD=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),tD.apply(this,arguments)}function vU({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==pU&&(i.web.applicationPubKey=r),i}function Soe(n){return nD.apply(this,arguments)}function nD(){return nD=y(function*(n){const e=yield xoe(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:cs(e.getKey("auth")),p256dh:cs(e.getKey("p256dh"))},r=yield yU(n.firebaseDependencies);if(r){if(Noe(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Moe(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield _U(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bU(n.firebaseDependencies,t)}return bU(n.firebaseDependencies,t)}),nD.apply(this,arguments)}function wU(n){return rD.apply(this,arguments)}function rD(){return rD=y(function*(n){const e=yield yU(n.firebaseDependencies);e&&(yield _U(n.firebaseDependencies,e.token),yield Toe(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),rD.apply(this,arguments)}function Moe(n,e){return iD.apply(this,arguments)}function iD(){return iD=y(function*(n,e){try{const t=yield Doe(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield zI(n.firebaseDependencies,r),t}catch(t){throw yield wU(n),t}}),iD.apply(this,arguments)}function bU(n,e){return sD.apply(this,arguments)}function sD(){return sD=y(function*(n,e){const r={token:yield Ioe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield zI(n,r),r.token}),sD.apply(this,arguments)}function xoe(n,e){return oD.apply(this,arguments)}function oD(){return oD=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yoe(e)})}),oD.apply(this,arguments)}function Noe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function EU(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function Poe(n){return"object"==typeof n&&!!n&&gU in n}function TU(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function aD(n){return sn.create("missing-app-config-values",{valueName:n})}TU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),TU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Loe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw aD("App Configuration Object");if(!n.name)throw aD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw aD(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CU(n){return uD.apply(this,arguments)}function uD(){return uD=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(doe,{scope:hoe}),n.swRegistration.update().catch(()=>{})}catch(e){throw sn.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),uD.apply(this,arguments)}function Voe(n,e){return lD.apply(this,arguments)}function lD(){return lD=y(function*(n,e){if(!e&&!n.swRegistration&&(yield CU(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");n.swRegistration=e}}),lD.apply(this,arguments)}function Uoe(n,e){return cD.apply(this,arguments)}function cD(){return cD=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=pU)}),cD.apply(this,arguments)}function dD(){return dD=y(function*(n,e){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield Uoe(n,null==e?void 0:e.vapidKey),yield Voe(n,null==e?void 0:e.serviceWorkerRegistration),Soe(n)}),dD.apply(this,arguments)}function Boe(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=y(function*(n,e,t){const r=joe(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[gU],message_name:t[poe],message_time:t[goe],message_device_time:Math.floor(Date.now()/1e3)})}),hD.apply(this,arguments)}function joe(n){switch(n){case gl.NOTIFICATION_CLICKED:return"notification_open";case gl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fD(){return fD=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===gl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(EU(t)):n.onMessageHandler.next(EU(t)));const r=t.data;Poe(r)&&"1"===r[moe]&&(yield Boe(n,t.messageType,r))}),fD.apply(this,arguments)}const DU="@firebase/messaging";function SU(){return pD.apply(this,arguments)}function pD(){return(pD=y(function*(){return"undefined"!=typeof window&&wu()&&(yield ep())&&sw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}zn(new On("messaging",n=>{const e=new Loe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return fD.apply(this,arguments)}(e,t)),e},"PUBLIC")),zn(new On("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return dD.apply(this,arguments)}(e,r)}},"PRIVATE")),it(DU,"0.9.4"),it(DU,"0.9.4","esm2017");const kg="analytics",Koe="firebase_id",Joe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MU="https://www.googletagmanager.com/gtag/js",on=new bu("@firebase/analytics");function xU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xoe(n,e){const t=document.createElement("script");t.src=`${MU}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function eae(n,e,t,r,i,s){return yD.apply(this,arguments)}function yD(){return yD=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield xU(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){on.error(a)}n("config",i,s)}),yD.apply(this,arguments)}function tae(n,e,t,r,i){return _D.apply(this,arguments)}function _D(){return _D=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield xU(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){on.error(s)}}),_D.apply(this,arguments)}function iae(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(MU))return e;return null}const br=new Ti("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),NU=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function lae(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function cae(n){return vD.apply(this,arguments)}function vD(){return vD=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:lae(r)},s=Joe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),vD.apply(this,arguments)}function dae(n){return wD.apply(this,arguments)}function wD(){return wD=y(function*(n,e=NU,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw br.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new pae;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),OU({appId:r,apiKey:i,measurementId:s},o,a,e)}),wD.apply(this,arguments)}function OU(n,e,t){return bD.apply(this,arguments)}function bD(){return bD=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=NU){const{appId:s,measurementId:o}=n;try{yield hae(r,e)}catch(a){if(o)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield cae(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!fae(a)){if(i.deleteThrottleMetadata(s),o)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?uw(t,i.intervalMillis,30):uw(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),on.debug(`Calling attemptFetch again in ${u} millis`),OU(n,l,r,i)}}),bD.apply(this,arguments)}function hae(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fae(n){if(!(n instanceof Ji&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class pae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function gae(){return ED.apply(this,arguments)}function ED(){return ED=y(function*(){if(!wu())return on.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ep()}catch(n){return on.warn(br.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0}),ED.apply(this,arguments)}function TD(){return TD=y(function*(n,e,t,r,i,s,o){var a;const u=dae(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>on.error(f)),e.push(u);const l=gae().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);iae()||Xoe(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Koe]=d),i("config",c.measurementId,h),c.measurementId}),TD.apply(this,arguments)}class yae{constructor(e){this.app=e}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},kU=[];const RU={};let FU,zd,Rg="dataLayer",CD=!1;function vae(n,e,t){!function(){const n=[];if(Zf()&&n.push("This is a browser extension environment."),sw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=br.create("invalid-analytics-context",{errorInfo:e});on.warn(t.message)}}();const r=n.options.appId;if(!r)throw br.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw br.create("no-api-key");on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[r])throw br.create("already-exists",{id:r});if(!CD){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Rg);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield tae(n,e,t,a,u):"config"===o?yield eae(n,e,t,r,a,u):n("set",a)}catch(l){on.error(l)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ds,kU,RU,Rg,"gtag");zd=s,FU=o,CD=!0}return ds[r]=function(n,e,t,r,i,s,o){return TD.apply(this,arguments)}(n,kU,RU,e,FU,Rg,t),new yae(n)}function ID(){return ID=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),ID.apply(this,arguments)}function Dae(){return xD.apply(this,arguments)}function xD(){return(xD=y(function*(){if(Zf()||!sw()||!wu())return!1;try{return yield ep()}catch(n){return!1}})).apply(this,arguments)}const LU="@firebase/analytics";zn(new On(kg,(e,{options:t})=>vae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),zn(new On("analytics-internal",function(e){try{const t=e.getProvider(kg).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=Qt(n),function(n,e,t,r,i){return ID.apply(this,arguments)}(zd,ds[n.app.options.appId],e,t,r).catch(i=>on.error(i))}(t,r,i,s)}}catch(t){throw br.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),it(LU,"0.7.4"),it(LU,"0.7.4","esm2017");class Mae extends gt{constructor(e,t){super()}schedule(e,t=0){return this}}const Pg={setInterval(...n){const{delegate:e}=Pg;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Pg;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class UU extends Mae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Pg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Pg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,aa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const BU={now:()=>(BU.delegate||Date).now(),delegate:void 0};class Wd{constructor(e,t=Wd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Wd.now=BU.now;class jU extends Wd{constructor(e,t=Wd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Oae=new class extends jU{}(class extends UU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),kae=new jU(UU),Fg=new Za("7.2.0"),ND="__angularfire_symbol__analyticsIsSupported",OD="__angularfire_symbol__remoteConfigIsSupported",kD="__angularfire_symbol__messagingIsSupported";function PD(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[ND]||(globalThis[ND]=Dae().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[kD]||(globalThis[kD]=SU().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[OD]||(globalThis[OD]=coe().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const FD=(n,e)=>{const t=e?[e]:HR(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ml(){}class GU{constructor(e,t=Oae){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Rae{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ml,{},ml,ml)),t.pipe(Gn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let LD=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new GU(Zone.current)),this.insideAngular=t.run(()=>new GU(Zone.current,kae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Pae(n){return Zo().ngZone.runOutsideAngular(()=>n())}function ea(n){return Zo().ngZone.run(()=>n())}function Fae(n){return Zo(),function(n){return function(t){return(t=t.lift(new Rae(n.ngZone))).pipe(nh(n.outsideAngular),th(n.insideAngular))}}(Zo())(n)}const Vae=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ea(()=>n.apply(t,arguments))}},VD=(n,e)=>function(){let t;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(t||(t=ea(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ml,{},ml,ml)))),arguments[i]=Vae(arguments[i],t));const r=Pae(()=>n.apply(this,arguments));if(!e){if(r instanceof He){const i=Zo();return r.pipe(nh(i.outsideAngular),th(i.insideAngular))}return ea(()=>r)}return r instanceof He?r.pipe(Fae):r instanceof Promise?ea(()=>new Promise((i,s)=>r.then(o=>ea(()=>i(o)),o=>ea(()=>s(o))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:ea(()=>r)};class yl{constructor(e){return e}}class UD{constructor(){return HR()}}const BD=new re("angularfire2._apps"),Bae={provide:yl,useFactory:function(n){return n&&1===n.length?n[0]:new yl(fw())},deps:[[new lt,BD]]},jae={provide:UD,deps:[[new lt,BD]]};function $ae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new yl(r)}}let Hae=(()=>{class n{constructor(t){it("angularfire",Fg.full,"core"),it("angularfire",Fg.full,"app"),it("angular",Mx.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(L(pc))},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:[Bae,jae]}),n})();function qae(n,...e){return{ngModule:Hae,providers:[{provide:BD,useFactory:$ae(n),multi:!0,deps:[Le,ct,LD,...e]}]}}const Gae=VD($R,!0),zU_firebase={projectId:"dosapointfirebase",appId:"1:105602221318:web:41829b2c8312756c68ca87",databaseURL:"https://dosapointfirebase-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"dosapointfirebase.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",messagingSenderId:"105602221318",measurementId:"G-KM8EHCP6QG"},WU=new Map,zae={activated:!1,tokenObservers:[]},Wae={initialized:!1,enabled:!1};function qt(n){return WU.get(n)||zae}function ri(n,e){WU.set(n,e)}function Lg(){return Wae}class Xae{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new iw,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new iw,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ln=new Ti("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function QU(n){if(!qt(n).activated)throw Ln.create("use-before-activation",{appName:n.name})}function HD(n,e){return qD.apply(this,arguments)}function qD(){return qD=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Ln.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Ln.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ln.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),qD.apply(this,arguments)}function iue(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Kd="firebase-app-check-store";let Bg=null;function JU(){return Bg||(Bg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kd,{keyPath:"compositeKey"})}}catch(t){e(Ln.create("storage-open",{originalErrorMessage:t.message}))}}),Bg)}function GD(){return GD=y(function*(n,e){const r=(yield JU()).transaction(Kd,"readwrite"),s=r.objectStore(Kd).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Ln.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),GD.apply(this,arguments)}const Qd=new bu("@firebase/app-check");function tB(n,e){return wu()?function(n,e){return function(n,e){return GD.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nB(){return Lg().enabled}function rB(){return QD.apply(this,arguments)}function QD(){return QD=y(function*(){const n=Lg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QD.apply(this,arguments)}const pue={error:"UNKNOWN_ERROR"};function gue(n){return nw.encodeString(JSON.stringify(n),!1)}function jg(n){return YD.apply(this,arguments)}function YD(){return YD=y(function*(n,e=!1){const t=n.app;QU(t);const r=qt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&$g(u)&&(i=u)}if(!e&&i&&$g(i))return{token:i.token};let a,o=!1;if(nB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HD(iue(t,yield rB()),n.platformLoggerProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield tB(t,u),ri(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Qd.warn(u.message):Qd.error(u),s=u}return i?(a={token:i.token},ri(t,Object.assign(Object.assign({},r),{token:i})),yield tB(t,i)):a=yue(s),o&&sB(t,a),a}),YD.apply(this,arguments)}function XD(n,e){const t=qt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ri(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function iB(n){const{app:e}=n,t=qt(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new Xae(y(function*(){let r;if(r=qt(e).token?yield jg(n,!0):yield jg(n),r.error)throw r.error}),()=>!0,()=>{const t=qt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ri(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function sB(n,e){const t=qt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function $g(n){return n.expireTimeMillis-Date.now()>0}function yue(n){return{token:gue(pue),error:n}}class _ue{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=qt(this.app);for(const t of e)XD(this.app,t.next);return Promise.resolve()}}const fB="app-check-internal";zn(new On("app-check",n=>function(n,e){return new _ue(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fB).initialize()})),zn(new On(fB,n=>function(n){return{getToken:e=>jg(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=qt(i),o={next:t,error:r,type:e};if(ri(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&$g(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),iB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>iB(n))}(n,"INTERNAL",e),removeTokenListener:e=>XD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),it("@firebase/app-check","0.5.2");class n0{constructor(){return FD("app-check")}}"undefined"!=typeof window&&window;class s0{constructor(e){return e}}class mB{constructor(){return FD("auth")}}const o0=new re("angularfire2.auth-instances");function Vue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new s0(r)}}const Uue={provide:mB,deps:[[new lt,o0]]},Bue={provide:s0,useFactory:function(n,e){const t=PD("auth",n,e);return t&&new s0(t)},deps:[[new lt,o0],yl]};let jue=(()=>{class n{constructor(){it("angularfire",Fg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:[Bue,Uue]}),n})();function $ue(n,...e){return{ngModule:jue,providers:[{provide:o0,useFactory:Vue(n),multi:!0,deps:[Le,ct,LD,UD,[new lt,n0],...e]}]}}const Hue=VD(Du,!0);class a0{constructor(e){return e}}const yB="firestore",u0=new re("angularfire2.firestore-instances");function zue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new a0(r)}}const Wue={provide:class{constructor(){return FD(yB)}},deps:[[new lt,u0]]},Kue={provide:a0,useFactory:function(n,e){const t=PD(yB,n,e);return t&&new a0(t)},deps:[[new lt,u0],yl]};let Que=(()=>{class n{constructor(){it("angularfire",Fg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:[Kue,Wue]}),n})();function Yue(n,...e){return{ngModule:Que,providers:[{provide:u0,useFactory:zue(n),multi:!0,deps:[Le,ct,LD,UD,[new lt,mB],[new lt,n0],...e]}]}}const Jue=VD(b2,!0);function _B(){return"undefined"!=typeof window&&void 0!==window.document}function l0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Js(n){switch(n.length){case 0:return new hu;case 1:return n[0];default:return new Ek(n)}}function vB(n,e,t,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.offset,h=d==u,f=h&&l||{};Object.keys(c).forEach(m=>{let _=m,v=c[m];if("offset"!==m)switch(_=e.normalizePropertyName(_,o),v){case"!":v=i[m];break;case Wi:v=s[m];break;default:v=e.normalizeStyleValue(m,_,v,o)}f[_]=v}),h||a.push(f),l=f,u=d}),o.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${o.join(c)}`)}return a}function c0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&d0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&d0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&d0(t,"destroy",n)))}}function d0(n,e,t){const r=t.totalTime,s=h0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function h0(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Er(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function wB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let f0=(n,e)=>!1,bB=(n,e,t)=>[];(l0()||"undefined"!=typeof Element)&&(f0=_B()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),bB=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let ta=null,EB=!1;function p0(n){ta||(ta=("undefined"!=typeof document?document.body:null)||{},EB=!!ta.style&&"WebkitAppearance"in ta.style);let e=!0;return ta.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ta.style,!e&&EB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ta.style)),e}const g0=f0,m0=bB;function TB(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let CB=(()=>{class n{validateStyleProperty(t){return p0(t)}matchesElement(t,r){return!1}containsElement(t,r){return g0(t,r)}query(t,r,i){return m0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new hu(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),y0=(()=>{class n{}return n.NOOP=new CB,n})();const _0="ng-enter",qg="ng-leave",Gg="ng-trigger",zg=".ng-trigger",DB="ng-animating",v0=".ng-animating";function na(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w0(parseFloat(e[1]),e[2])}function w0(n,e){return"s"===e?1e3*n:n}function Wg(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=w0(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=w0(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function _l(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xs(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else _l(n,t);return t}function SB(n,e,t){return t?e+":"+t+";":""}function MB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=SB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SB(0,sle(t),n.style[t]));n.setAttribute("style",e)}function Ni(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=E0(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),l0()&&MB(n))}function ra(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=E0(t);n.style[r]=""}),l0()&&MB(n))}function Yd(n){return Array.isArray(n)?1==n.length?n[0]:vk(n):n}const b0=new RegExp("{{\\s*(.+?)\\s*}}","g");function xB(n){let e=[];if("string"==typeof n){let t;for(;t=b0.exec(n);)e.push(t[1]);b0.lastIndex=0}return e}function Kg(n,e,t){const r=n.toString(),i=r.replace(b0,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Qg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ile=/-+([a-z0-9])/g;function E0(n){return n.replace(ile,(...e)=>e[1].toUpperCase())}function sle(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function NB(n,e){return 0===n||0===e}function OB(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(u){a[u]=T0(n,u)})}}return e}function Tr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function T0(n,e){return window.getComputedStyle(n)[e]}function ole(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const u=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(kB(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(kB(o,i))}(r,t,e)):t.push(n),t}const Jg=new Set(["true","1"]),Xg=new Set(["false","0"]);function kB(n,e){const t=Jg.has(n)||Xg.has(n),r=Jg.has(e)||Xg.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Jg.has(n):Xg.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Jg.has(e):Xg.has(e)),o&&a}}const lle=new RegExp("s*:selfs*,?","g");function C0(n,e,t){return new cle(n).build(e,t)}class cle{constructor(e){this._driver=e}build(e,t){const r=new fle(t);return this._resetContextStyleTimingState(r),Tr(this,Yd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Zg(a)){const u=a;Object.keys(u).forEach(l=>{xB(u[l]).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}}),s.size){const a=Qg(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Tr(this,Yd(e.animation),t);return{type:1,matchers:ole(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ia(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Tr(this,r,t)),options:ia(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Tr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ia(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return I0(Wg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=I0(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||Wg(r,e),I0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Dc({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Dc(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Wi?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Zg(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let l in a)if(a[l].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const u=t.collectedStyles[t.currentQuerySelector],l=u[a];let c=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${l.startTime}ms" and "${l.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),c=!1),s=l.startTime),c&&(u[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=xB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(b=>{const w=this._makeStyleAst(b,t);let N=null!=w.offset?w.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Zg(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Zg(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(w.styles),P=0;return null!=N&&(s++,P=w.offset=N),u=u||P<0||P>1,a=a||P<l,l=P,o.push(P),w});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,m=t.currentTime,_=t.currentAnimateTimings,v=_.duration;return c.forEach((b,w)=>{const N=h>0?w==f?1:h*w:o[w],P=N*v;t.currentTime=m+_.delay+P,_.duration=P,this._validateStyleAst(b,t),b.offset=N,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:Tr(this,Yd(e.animation),t),options:ia(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ia(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ia(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(lle,"")),n=n.replace(/@\*/g,zg).replace(/@\w+/g,t=>zg+"-"+t.substr(1)).replace(/:animating/g,v0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Er(t.collectedStyles,t.currentQuerySelector,{});const a=Tr(this,Yd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ia(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wg(e.timings,t.errors,!0);return{type:12,animation:Tr(this,Yd(e.animation),t),timings:r,options:null}}}class fle{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Zg(n){return!Array.isArray(n)&&"object"==typeof n}function ia(n){return n?(n=_l(n)).params&&(n.params=function(n){return n?_l(n):null}(n.params)):n={},n}function I0(n,e,t){return{duration:n,delay:e,easing:t}}function D0(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class em{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _le=new RegExp(":enter","g"),wle=new RegExp(":leave","g");function A0(n,e,t,r,i,s={},o={},a,u,l=[]){return(new ble).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class ble{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new em;const d=new S0(e,t,l,i,s,c,[]);d.options=u,d.currentTimeline.setStyles([o],null,d.errors,u),Tr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,u)}return h.length?h.map(f=>f.buildKeyframes()):[D0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?na(r.duration):null,a=null!=r.delay?na(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tm);const o=na(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Tr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?na(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Tr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Wg(t.params?Kg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?na(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),Tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Tr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const tm={};class S0{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new nm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=na(r.duration)),null!=r.delay&&(i.delay=na(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Kg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new S0(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=tm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new Ele(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(_le,"."+this._enterClassName)).replace(wle,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class nm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wi,this._currentKeyframe[t]=Wi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Wi})):Xs(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=Kg(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Wi),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Xs(a,!0);Object.keys(l).forEach(c=>{const d=l[c];"!"==d?e.add(c):d==Wi&&t.add(c)}),r||(l.offset=u/this.duration),i.push(l)});const s=e.size?Qg(e.values()):[],o=t.size?Qg(t.values()):[];if(r){const a=i[0],u=_l(a);a.offset=0,u.offset=1,i=[a,u]}return D0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Ele extends nm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Xs(e[0],!1);u.offset=0,s.push(u);const l=Xs(e[0],!1);l.offset=FB(a),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Xs(e[d],!1);h.offset=FB((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return D0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function FB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class M0{}class Cle extends M0{normalizePropertyName(e,t){return E0(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Ile[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const Ile=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function LB(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const x0={};class VB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||x0,m=this.buildStyles(r,a&&a.params||x0,d),_=u&&u.params||x0,v=this.buildStyles(i,_,d),b=new Set,w=new Map,N=new Map,P="void"===i,K={params:Object.assign(Object.assign({},h),_)},Se=c?[]:A0(e,t,this.ast.animation,s,o,m,v,K,l,d);let Ne=0;if(Se.forEach(an=>{Ne=Math.max(an.duration+an.delay,Ne)}),d.length)return LB(t,this._triggerName,r,i,P,m,v,[],[],w,N,Ne,d);Se.forEach(an=>{const Un=an.element,wl=Er(w,Un,{});an.preStyleProps.forEach(ii=>wl[ii]=!0);const hs=Er(N,Un,{});an.postStyleProps.forEach(ii=>hs[ii]=!0),Un!==t&&b.add(Un)});const Vn=Qg(b.values());return LB(t,this._triggerName,r,i,P,m,v,Se,Vn,w,N,Ne)}}class Sle{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=_l(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=Kg(u,i,t));const l=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,l,u,t),r[l]=u})}}),r}}class xle{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Sle(i.style,i.options&&i.options.params||{},r)}),UB(this.states,"true","1"),UB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new VB(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new VB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Ole=new em;class kle{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=C0(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=vB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=A0(this._driver,t,s,_0,qg,{},{},r,Ole,i),o.forEach(c=>{const d=Er(a,c.element,{});c.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(h=>{c[h]=this._driver.computeStyle(d,h,Wi)})});const l=Js(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=h0(t,"","","");return c0(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const BB="ng-animate-queued",N0="ng-animate-disabled",Vle=[],jB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ule={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lr="__ng_removed";class O0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=_l(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Jd="void",k0=new O0(Jd);class Ble{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=Er(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Er(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Vr(e,Gg),Vr(e,Gg+"-"+t),a[t]=k0),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new R0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vr(e,Gg),Vr(e,Gg+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const l=new O0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=k0),l.value!==Jd&&u.value===l.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const _=[],v=s.matchStyles(u.value,u.params,_),b=s.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{ra(e,v),Ni(e,b)})}return}const h=Er(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),m=!1;if(!f){if(!i)return;f=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:m}),m||(Vr(e,BB),o.onStart(()=>{vl(e,BB)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const v=this._engine.playersByElement.get(e);if(v){let b=v.indexOf(o);b>=0&&v.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zg,!0);r.forEach(i=>{if(i[Lr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const u=this.trigger(e,a,Jd,i);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Js(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,l=r[o]||k0,c=new O0(Jd),d=new R0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Lr];(!s||s===jB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=h0(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,c0(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class jle{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ble(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(rm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!rm(t))return;const s=t[Lr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vr(e,N0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vl(e,N0))}removeNode(e,t,r,i){if(rm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Lr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return rm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,zg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,v0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Js(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Lr];if(r&&r.setForRemoval){if(e[Lr]=jB,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(N0))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Js(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new em,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(U=>{c.add(U);const z=this.driver.query(U,".ng-animate-queued",!0);for(let te=0;te<z.length;te++)c.add(z[te])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=qB(h,this.collectedEnterElements),m=new Map;let _=0;f.forEach((U,z)=>{const te=_0+_++;m.set(z,te),U.forEach(Ce=>Vr(Ce,te))});const v=[],b=new Set,w=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const z=this.collectedLeaveElements[U],te=z[Lr];te&&te.setForRemoval&&(v.push(z),b.add(z),te.hasAnimation?this.driver.query(z,".ng-star-inserted",!0).forEach(Ce=>b.add(Ce)):w.add(z))}const N=new Map,P=qB(h,Array.from(b));P.forEach((U,z)=>{const te=qg+_++;N.set(z,te),U.forEach(Ce=>Vr(Ce,te))}),e.push(()=>{f.forEach((U,z)=>{const te=m.get(z);U.forEach(Ce=>vl(Ce,te))}),P.forEach((U,z)=>{const te=N.get(z);U.forEach(Ce=>vl(Ce,te))}),v.forEach(U=>{this.processLeaveNode(U)})});const K=[],Se=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(te=>{const Ce=te.player,Gt=te.element;if(K.push(Ce),this.collectedEnterElements.length){const Ur=Gt[Lr];if(Ur&&Ur.setForMove)return void Ce.destroy()}const Oi=!d||!this.driver.containsElement(d,Gt),Cr=N.get(Gt),Zs=m.get(Gt),Ze=this._buildInstruction(te,r,Zs,Cr,Oi);if(Ze.errors&&Ze.errors.length)return void Se.push(Ze);if(Oi)return Ce.onStart(()=>ra(Gt,Ze.fromStyles)),Ce.onDestroy(()=>Ni(Gt,Ze.toStyles)),void i.push(Ce);if(te.isFallbackTransition)return Ce.onStart(()=>ra(Gt,Ze.fromStyles)),Ce.onDestroy(()=>Ni(Gt,Ze.toStyles)),void i.push(Ce);const dj=[];Ze.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||dj.push(Ur)}),Ze.timelines=dj,r.append(Gt,Ze.timelines),o.push({instruction:Ze,player:Ce,element:Gt}),Ze.queriedElements.forEach(Ur=>Er(a,Ur,[]).push(Ce)),Ze.preStyleProps.forEach((Ur,Xd)=>{const am=Object.keys(Ur);if(am.length){let sa=u.get(Xd);sa||u.set(Xd,sa=new Set),am.forEach(V0=>sa.add(V0))}}),Ze.postStyleProps.forEach((Ur,Xd)=>{const am=Object.keys(Ur);let sa=l.get(Xd);sa||l.set(Xd,sa=new Set),am.forEach(V0=>sa.add(V0))})});if(Se.length){const U=[];Se.forEach(z=>{U.push(`@${z.triggerName} has failed due to:\n`),z.errors.forEach(te=>U.push(`- ${te}\n`))}),K.forEach(z=>z.destroy()),this.reportError(U)}const Ne=new Map,Vn=new Map;o.forEach(U=>{const z=U.element;r.has(z)&&(Vn.set(z,z),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ne))}),i.forEach(U=>{const z=U.element;this._getPreviousPlayers(z,!1,U.namespaceId,U.triggerName,null).forEach(Ce=>{Er(Ne,z,[]).push(Ce),Ce.destroy()})});const an=v.filter(U=>zB(U,u,l)),Un=new Map;HB(Un,this.driver,w,l,Wi).forEach(U=>{zB(U,u,l)&&an.push(U)});const hs=new Map;f.forEach((U,z)=>{HB(hs,this.driver,new Set(U),u,"!")}),an.forEach(U=>{const z=Un.get(U),te=hs.get(U);Un.set(U,Object.assign(Object.assign({},z),te))});const ii=[],bl=[],El={};o.forEach(U=>{const{element:z,player:te,instruction:Ce}=U;if(r.has(z)){if(c.has(z))return te.onDestroy(()=>Ni(z,Ce.toStyles)),te.disabled=!0,te.overrideTotalTime(Ce.totalTime),void i.push(te);let Gt=El;if(Vn.size>1){let Cr=z;const Zs=[];for(;Cr=Cr.parentNode;){const Ze=Vn.get(Cr);if(Ze){Gt=Ze;break}Zs.push(Cr)}Zs.forEach(Ze=>Vn.set(Ze,Gt))}const Oi=this._buildAnimation(te.namespaceId,Ce,Ne,s,hs,Un);if(te.setRealPlayer(Oi),Gt===El)ii.push(te);else{const Cr=this.playersByElement.get(Gt);Cr&&Cr.length&&(te.parentPlayer=Js(Cr)),i.push(te)}}else ra(z,Ce.fromStyles),te.onDestroy(()=>Ni(z,Ce.toStyles)),bl.push(te),c.has(z)&&i.push(te)}),bl.forEach(U=>{const z=s.get(U.element);if(z&&z.length){const te=Js(z);U.setRealPlayer(te)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<v.length;U++){const z=v[U],te=z[Lr];if(vl(z,qg),te&&te.hasAnimation)continue;let Ce=[];if(a.size){let Oi=a.get(z);Oi&&Oi.length&&Ce.push(...Oi);let Cr=this.driver.query(z,v0,!0);for(let Zs=0;Zs<Cr.length;Zs++){let Ze=a.get(Cr[Zs]);Ze&&Ze.length&&Ce.push(...Ze)}}const Gt=Ce.filter(Oi=>!Oi.destroyed);Gt.length?Gle(this,z,Gt):this.processLeaveNode(z)}return v.length=0,ii.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const z=this.players.indexOf(U);this.players.splice(z,1)}),U.play()}),ii}elementContainsData(e,t){let r=!1;const i=t[Lr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Jd;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=Er(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}ra(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(m=>{const _=m.element;c.add(_);const v=_[Lr];if(v&&v.removedBeforeQueried)return new hu(m.duration,m.delay);const b=_!==u,w=function(n){const e=[];return GB(n,e),e}((r.get(_)||Vle).map(Ne=>Ne.getRealPlayer())).filter(Ne=>!!Ne.element&&Ne.element===_),N=s.get(_),P=o.get(_),K=vB(0,this._normalizer,0,m.keyframes,N,P),Se=this._buildPlayer(m,K,w);if(m.subTimeline&&i&&d.add(_),b){const Ne=new R0(e,a,_);Ne.setRealPlayer(Se),l.push(Ne)}return Se});l.forEach(m=>{Er(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>Vr(m,DB));const f=Js(h);return f.onDestroy(()=>{c.forEach(m=>vl(m,DB)),Ni(u,t.toStyles)}),d.forEach(m=>{Er(i,m,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new hu(e.duration,e.delay)}}class R0{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new hu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>c0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rm(n){return n&&1===n.nodeType}function $B(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function HB(n,e,t,r,i){const s=[];t.forEach(u=>s.push($B(u)));const o=[];r.forEach((u,l)=>{const c={};u.forEach(d=>{const h=c[d]=e.computeStyle(l,d,i);(!h||0==h.length)&&(l[Lr]=Ule,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>$B(u,s[a++])),o}function qB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Vr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function vl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Gle(n,e,t){Js(t).onDone(()=>n.processLeaveNode(e))}function GB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Ek?GB(r.players,e):e.push(r)}}function zB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class im{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new jle(e,t,r),this._timelineEngine=new kle(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=C0(this._driver,s,u);if(u.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);a=function(n,e,t){return new xle(n,e,t)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=wB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=wB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=P0(e[0]),e.length>1&&(r=P0(e[e.length-1]))):e&&(t=P0(e)),t||r?new Kle(n,t,r):null}let Kle=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ra(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function P0(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Qle(i)&&(e=e||{},e[i]=n[i])}return e}function Qle(n){return"display"===n||"position"===n}const KB="animation",QB="animationend";class Xle{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,e){const t=L0(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),sm(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),XB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){YB(this._element,this._name,"paused")}resume(){YB(this._element,this._name,"running")}setPosition(e){const t=JB(this._element,this._name);this._position=e*this._duration,sm(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),XB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=L0(n,"").split(","),i=F0(r,e);i>=0&&(r.splice(i,1),sm(n,"",r.join(",")))}(this._element,this._name))}}function YB(n,e,t){sm(n,"PlayState",t,JB(n,e))}function JB(n,e){const t=L0(n,"");return t.indexOf(",")>0?F0(t.split(","),e):F0([t],e)}function F0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function XB(n,e,t){t?n.removeEventListener(QB,e):n.addEventListener(QB,e)}function sm(n,e,t,r){const i=KB+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function L0(n,e){return n.style[KB+e]||""}class ZB{constructor(e,t,r,i,s,o,a,u){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Xle(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:T0(this.element,r))})}this.currentSnapshot=e}}class ice extends hu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=TB(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class tj{constructor(){this._count=0}validateStyleProperty(e){return p0(e)}matchesElement(e,t){return!1}containsElement(e,t){return g0(e,t)}query(e,t,r){return m0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>TB(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const u=parseFloat(a.offset);i+=`${s}${100*u}% {\n`,s+=" ",Object.keys(a).forEach(l=>{const c=a[l];switch(l){case"offset":return;case"easing":return void(c&&(i+=`${s}animation-timing-function: ${c};\n`));default:return void(i+=`${s}${l}: ${c};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const u=o.filter(v=>v instanceof ZB),l={};NB(r,i)&&u.forEach(v=>{let b=v.currentSnapshot;Object.keys(b).forEach(w=>l[w]=b[w])});const c=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=OB(e,t,l));if(0==r)return new ice(e,c);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const m=WB(e,t),_=new ZB(e,t,d,r,i,s,c,m);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class rj{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:T0(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class lce{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ij().toString()),this._cssKeyframesDriver=new tj}validateStyleProperty(e){return p0(e)}matchesElement(e,t){return!1}containsElement(e,t){return g0(e,t)}query(e,t,r){return m0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const d={},h=o.filter(m=>m instanceof rj);NB(r,i)&&h.forEach(m=>{let _=m.currentSnapshot;Object.keys(_).forEach(v=>d[v]=_[v])});const f=WB(e,t=OB(e,t=t.map(m=>Xs(m,!1)),d));return new rj(e,t,c,f)}}function ij(){return _B()&&Element.prototype.animate||{}}let dce=(()=>{class n extends yk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?vk(t):t;return sj(this._renderer,null,r,"register",[i]),new hce(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(L(uc),L(Pt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class hce extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fce(this._id,e,t||{},this._renderer)}}class fce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sj(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const oj="@.disabled";let pce=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new aj("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new gce(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(L(uc),L(im),L(Le))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class aj{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==oj?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gce extends aj{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oj?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let _ce=(()=>{class n extends im{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(L(Pt),L(y0),L(M0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const uj=new re("AnimationModuleType"),lj=[{provide:yk,useClass:dce},{provide:M0,useFactory:function(){return new Cle}},{provide:im,useClass:_ce},{provide:uc,useFactory:function(n,e,t){return new pce(n,e,t)},deps:[If,im,Le]}],cj=[{provide:y0,useFactory:function(){return"function"==typeof ij()?new lce:new tj}},{provide:uj,useValue:"BrowserAnimations"},...lj],Ece=[{provide:y0,useClass:CB},{provide:uj,useValue:"NoopAnimations"},...lj];let Tce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Ece:cj}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=ln({providers:cj,imports:[pO]}),n})(),Cce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n,bootstrap:[Xie]}),n.\u0275inj=ln({providers:[],imports:[[pO,Kie,Tce,mk,W5.forRoot({timeOut:2400,positionClass:"toast-bottom-right",preventDuplicates:!0}),qae(()=>Gae(zU_firebase)),$ue(()=>Hue()),Yue(()=>Jue())]]}),n})();IN=!1,hK().bootstrapModule(Cce).catch(n=>console.error(n))},940:function(Zd,eh){!function(eo){"use strict";function Oe(j){return Array.prototype.slice.call(j)}function oa(j){return new Promise(function(he,Ie){j.onsuccess=function(){he(j.result)},j.onerror=function(){Ie(j.error)}})}function fs(j,he,Ie){var Ae,me=new Promise(function(Tn,ps){oa(Ae=j[he].apply(j,Ie)).then(Tn,ps)});return me.request=Ae,me}function aa(j,he,Ie){var Ae=fs(j,he,Ie);return Ae.then(function(me){if(me)return new si(me,Ae.request)})}function gt(j,he,Ie){Ie.forEach(function(Ae){Object.defineProperty(j.prototype,Ae,{get:function(){return this[he][Ae]},set:function(me){this[he][Ae]=me}})})}function ua(j,he,Ie,Ae){Ae.forEach(function(me){me in Ie.prototype&&(j.prototype[me]=function(){return fs(this[he],me,arguments)})})}function to(j,he,Ie,Ae){Ae.forEach(function(me){me in Ie.prototype&&(j.prototype[me]=function(){return this[he][me].apply(this[he],arguments)})})}function Tl(j,he,Ie,Ae){Ae.forEach(function(me){me in Ie.prototype&&(j.prototype[me]=function(){return aa(this[he],me,arguments)})})}function En(j){this._index=j}function si(j,he){this._cursor=j,this._request=he}function nr(j){this._store=j}function oi(j){this._tx=j,this.complete=new Promise(function(he,Ie){j.oncomplete=function(){he()},j.onerror=function(){Ie(j.error)},j.onabort=function(){Ie(j.error)}})}function la(j,he,Ie){this._db=j,this.oldVersion=he,this.transaction=new oi(Ie)}function ca(j){this._db=j}gt(En,"_index",["name","keyPath","multiEntry","unique"]),ua(En,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Tl(En,"_index",IDBIndex,["openCursor","openKeyCursor"]),gt(si,"_cursor",["direction","key","primaryKey","value"]),ua(si,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(j){j in IDBCursor.prototype&&(si.prototype[j]=function(){var he=this,Ie=arguments;return Promise.resolve().then(function(){return he._cursor[j].apply(he._cursor,Ie),oa(he._request).then(function(Ae){if(Ae)return new si(Ae,he._request)})})})}),nr.prototype.createIndex=function(){return new En(this._store.createIndex.apply(this._store,arguments))},nr.prototype.index=function(){return new En(this._store.index.apply(this._store,arguments))},gt(nr,"_store",["name","keyPath","indexNames","autoIncrement"]),ua(nr,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Tl(nr,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),to(nr,"_store",IDBObjectStore,["deleteIndex"]),oi.prototype.objectStore=function(){return new nr(this._tx.objectStore.apply(this._tx,arguments))},gt(oi,"_tx",["objectStoreNames","mode"]),to(oi,"_tx",IDBTransaction,["abort"]),la.prototype.createObjectStore=function(){return new nr(this._db.createObjectStore.apply(this._db,arguments))},gt(la,"_db",["name","version","objectStoreNames"]),to(la,"_db",IDBDatabase,["deleteObjectStore","close"]),ca.prototype.transaction=function(){return new oi(this._db.transaction.apply(this._db,arguments))},gt(ca,"_db",["name","version","objectStoreNames"]),to(ca,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(j){[nr,En].forEach(function(he){j in he.prototype&&(he.prototype[j.replace("open","iterate")]=function(){var Ie=Oe(arguments),Ae=Ie[Ie.length-1],me=this._store||this._index,Tn=me[j].apply(me,Ie.slice(0,-1));Tn.onsuccess=function(){Ae(Tn.result)}})})}),[En,nr].forEach(function(j){j.prototype.getAll||(j.prototype.getAll=function(he,Ie){var Ae=this,me=[];return new Promise(function(Tn){Ae.iterateCursor(he,function(ps){ps?(me.push(ps.value),void 0===Ie||me.length!=Ie?ps.continue():Tn(me)):Tn(me)})})})}),eo.openDb=function(j,he,Ie){var Ae=fs(indexedDB,"open",[j,he]),me=Ae.request;return me&&(me.onupgradeneeded=function(Tn){Ie&&Ie(new la(me.result,Tn.oldVersion,me.transaction))}),Ae.then(function(Tn){return new ca(Tn)})},eo.deleteDb=function(j){return fs(indexedDB,"deleteDatabase",[j])},Object.defineProperty(eo,"__esModule",{value:!0})}(eh)}},Zd=>{Zd(Zd.s=970)}]);