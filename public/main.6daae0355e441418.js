(self.webpackChunkdosa_point=self.webpackChunkdosa_point||[]).push([[179],{423:(Zc,ed,hs)=>{"use strict";function be(t){return"function"==typeof t}function fo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ri=fo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function po(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class et{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof Ri?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{wu(s)}catch(o){e=null!=e?e:[],o instanceof Ri?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ri(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wu(e);else{if(e instanceof et){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&po(n,e)}remove(e){const{_teardowns:n}=this;n&&po(n,e),e instanceof et&&e._removeParent(this)}}et.EMPTY=(()=>{const t=new et;return t.closed=!0,t})();const go=et.EMPTY;function fs(t){return t instanceof et||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function wu(t){be(t)?t():t.unsubscribe()}const tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sr={setTimeout(...t){const{delegate:e}=Sr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Sr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Mn(t){Sr.setTimeout(()=>{const{onUnhandledError:e}=tn;if(!e)throw t;e(t)})}function xr(){}const mo=Eu("C",void 0,void 0);function Eu(t,e,n){return{kind:t,value:e,error:n}}let F=null;function se(t){if(tn.useDeprecatedSynchronousErrorHandling){const e=!F;if(e&&(F={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=F;if(F=null,n)throw r}}else t()}class we extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fs(e)&&e.add(this)):this.destination=m2}static create(e,n,r){return new ce(e,n,r)}next(e){this.isStopped?Hp(Eu("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Hp(Eu("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hp(mo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ce extends we{constructor(e,n,r){let i;if(super(),be(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&tn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?nn(i):xr,error:nn(null!=n?n:ki),complete:r?nn(r):xr}}}function nn(t,e){return(...n)=>{try{t(...n)}catch(r){tn.useDeprecatedSynchronousErrorHandling?function(t){tn.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=t)}(r):Mn(r)}}}function ki(t){throw t}function Hp(t,e){const{onStoppedNotification:n}=tn;n&&Sr.setTimeout(()=>n(t,e))}const m2={closed:!0,next:xr,error:ki,complete:xr},qp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ps(t){return t}let ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof we||function(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&fs(t)}(n)?n:new ce(n,r,i);return se(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=zD(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[qp](){return this}pipe(...n){return function(t){return 0===t.length?ps:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=zD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function zD(t){var e;return null!==(e=null!=t?t:tn.Promise)&&void 0!==e?e:Promise}const v2=fo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zr=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new KD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new v2}next(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?go:(s.push(n),new et(()=>po(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ke;return n.source=this,n}}return t.create=(e,n)=>new KD(e,n),t})();class KD extends Zr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:go}}function QD(t){return be(null==t?void 0:t.lift)}function Ot(t){return e=>{if(QD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class wt extends we{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Ae(t,e){return Ot((n,r)=>{let i=0;n.subscribe(new wt(r,s=>{r.next(t.call(e,s,i++))}))})}function gs(t){return this instanceof gs?(this.v=t,this):new gs(t)}function b2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof gs?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function I2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const ZD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eT(t){return be(null==t?void 0:t.then)}function tT(t){return be(t[qp])}function nT(t){return Symbol.asyncIterator&&be(null==t?void 0:t[Symbol.asyncIterator])}function rT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function sT(t){return be(null==t?void 0:t[iT])}function oT(t){return b2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield gs(n.read());if(i)return yield gs(void 0);yield yield gs(r)}}finally{n.releaseLock()}})}function aT(t){return be(null==t?void 0:t.getReader)}function Mr(t){if(t instanceof ke)return t;if(null!=t){if(tT(t))return function(t){return new ke(e=>{const n=t[qp]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ZD(t))return function(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(eT(t))return function(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Mn)})}(t);if(nT(t))return uT(t);if(sT(t))return function(t){return new ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(aT(t))return function(t){return uT(oT(t))}(t)}throw rT(t)}function uT(t){return new ke(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=I2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ei(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return be(e)?Et((r,i)=>Ae((s,o)=>e(r,s,i,o))(Mr(t(r,i))),n):("number"==typeof e&&(n=e),Ot((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=_=>l<r?p(_):u.push(_),p=_=>{l++;let v=!1;Mr(n(_,c++)).subscribe(new wt(e,b=>{e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;u.length&&l<r;){const b=u.shift();p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(new wt(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function bu(t=1/0){return Et(ps,t)}const ti=new ke(t=>t.complete());function Wp(t){return t[t.length-1]}function lT(t){return be(Wp(t))?t.pop():void 0}function Iu(t){return function(t){return t&&be(t.schedule)}(Wp(t))?t.pop():void 0}function td(t,e=0){return Ot((n,r)=>{n.subscribe(new wt(r,i=>ei(r,t,()=>r.next(i),e),()=>ei(r,t,()=>r.complete(),e),i=>ei(r,t,()=>r.error(i),e)))})}function nd(t,e=0){return Ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cT(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{ei(n,e,()=>{const r=t[Symbol.asyncIterator]();ei(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bt(t,e){return e?function(t,e){if(null!=t){if(tT(t))return function(t,e){return Mr(t).pipe(nd(e),td(e))}(t,e);if(ZD(t))return function(t,e){return new ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(eT(t))return function(t,e){return Mr(t).pipe(nd(e),td(e))}(t,e);if(nT(t))return cT(t,e);if(sT(t))return function(t,e){return new ke(n=>{let r;return ei(n,e,()=>{r=t[iT](),ei(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(null==r?void 0:r.return)&&r.return()})}(t,e);if(aT(t))return function(t,e){return cT(oT(t),e)}(t,e)}throw rT(t)}(t,e):Mr(t)}function rd(t){return t<=0?()=>ti:Ot((e,n)=>{let r=0;e.subscribe(new wt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(rd(1)).subscribe(()=>t())}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Kp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Qp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const q2=Ce({__forward_ref__:Ce});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return fe(this())},t}function te(t){return dT(t)?t():t}function dT(t){return"function"==typeof t&&t.hasOwnProperty(q2)&&t.__forward_ref__===Se}class Rn extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function rn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}function id(t,e){const n=e?` in ${e}`:"";throw new Rn("201",`No provider for ${rn(t)} found${n}`)}function Nn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jp(t){return hT(t,sd)||hT(t,pT)}function hT(t,e){return t.hasOwnProperty(e)?t[e]:null}function fT(t){return t&&(t.hasOwnProperty(Xp)||t.hasOwnProperty(J2))?t[Xp]:null}const sd=Ce({\u0275prov:Ce}),Xp=Ce({\u0275inj:Ce}),pT=Ce({ngInjectableDef:Ce}),J2=Ce({ngInjectorDef:Ce});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let Zp;function Ni(t){const e=Zp;return Zp=t,e}function gT(t,e,n){const r=Jp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&J.Optional?null:void 0!==e?e:void id(fe(t),"Injector")}function Oi(t){return{toString:t}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),Rr=(()=>{return(t=Rr||(Rr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Rr;var t})();const Z2="undefined"!=typeof globalThis&&globalThis,eU="undefined"!=typeof window&&window,tU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=Z2||"undefined"!=typeof global&&global||eU||tU,_o={},De=[],od=Ce({\u0275cmp:Ce}),eg=Ce({\u0275dir:Ce}),tg=Ce({\u0275pipe:Ce}),mT=Ce({\u0275mod:Ce}),ri=Ce({\u0275fac:Ce}),Cu=Ce({__NG_ELEMENT_ID__:Ce});let nU=0;function sn(t){return Oi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||De,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rr.Emulated,id:"c",styles:t.styles||De,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=nU++,r.inputs=wT(t.inputs,n),r.outputs=wT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(_T):null,r})}function yT(t){return Gt(t)||function(t){return t[eg]||null}(t)}function _T(t){return function(t){return t[tg]||null}(t)}const vT={};function On(t){return Oi(()=>{const e={type:t.type,bootstrap:t.bootstrap||De,declarations:t.declarations||De,imports:t.imports||De,exports:t.exports||De,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(vT[t.id]=t.type),e})}function wT(t,e){if(null==t)return _o;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const G=sn;function Gt(t){return t[od]||null}function Yn(t,e){const n=t[mT]||null;if(!n&&!0===e)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return n}function kr(t){return Array.isArray(t)&&"object"==typeof t[1]}function dr(t){return Array.isArray(t)&&!0===t[1]}function ig(t){return 0!=(8&t.flags)}function cd(t){return 2==(2&t.flags)}function dd(t){return 1==(1&t.flags)}function hr(t){return null!==t.template}function uU(t){return 0!=(512&t[2])}function ws(t,e){return t.hasOwnProperty(ri)?t[ri]:null}class dU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fn(){return bT}function bT(t){return t.type.prototype.ngOnChanges&&(t.setInput=fU),hU}function hU(){const t=CT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_o)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fU(t,e,n,r){const i=CT(t)||function(t,e){return t[IT]=e}(t,{previous:_o,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new dU(u&&u.currentValue,e,o===_o),t[r]=e}Fn.ngInherit=!0;const IT="__ngSimpleChanges__";function CT(t){return t[IT]||null}let ag;function He(t){return!!t.listen}const AT={createRenderer:(t,e)=>void 0!==ag?ag:"undefined"!=typeof document?document:void 0};function tt(t){for(;Array.isArray(t);)t=t[0];return t}function hd(t,e){return tt(e[t])}function Zn(t,e){return tt(e[t.index])}function lg(t,e){return t.data[e]}function Ln(t,e){const n=e[t];return kr(n)?n:n[0]}function cg(t){return 128==(128&t[2])}function Fi(t,e){return null==e?null:t[e]}function xT(t){t[18]=0}function dg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const W={lFrame:LT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function MT(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function pe(){return W.lFrame.tView}function ct(){let t=RT();for(;null!==t&&64===t.type;)t=t.parent;return t}function RT(){return W.lFrame.currentTNode}function Nr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function hg(){return W.lFrame.isParent}function fd(){return W.isInCheckNoChangesMode}function pd(t){W.isInCheckNoChangesMode=t}function Co(){return W.lFrame.bindingIndex++}function xU(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,pg(e)}function pg(t){W.lFrame.currentDirectiveIndex=t}function mg(t){W.lFrame.currentQueryIndex=t}function RU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function PT(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&J.Host||(i=RU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=FT();return r.currentTNode=e,r.lView=t,!0}function gd(t){const e=FT(),n=t[1];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function FT(){const t=W.lFrame,e=null===t?null:t.child;return null===e?LT(t):e}function LT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function VT(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const UT=VT;function md(){const t=VT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return W.lFrame.selectedIndex}function Li(t){W.lFrame.selectedIndex=t}function qe(){const t=W.lFrame;return lg(t.tView,t.selectedIndex)}function yd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function _d(t,e,n){BT(t,e,3,n)}function vd(t,e,n,r){(3&t[2])===n&&BT(t,e,n,r)}function yg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function BT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(BU(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function BU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class xu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function wd(t,e,n){const r=He(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];vg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function jT(t){return 3===t||4===t||6===t}function vg(t){return 64===t.charCodeAt(0)}function Ed(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$T(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $T(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function HT(t){return-1!==t}function Do(t){return 32767&t}function To(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let wg=!0;function bd(t){const e=wg;return wg=t,e}let WU=0;function Ru(t,e){const n=bg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Eg(r.data,t),Eg(e,null),Eg(r.blueprint,null));const i=Id(t,e),s=t.injectorIndex;if(HT(i)){const o=Do(i),a=To(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Id(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Cd(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cu)&&(r=n[Cu]),null==r&&(r=n[Cu]=WU++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function WT(t,e,n){if(n&J.Optional)return t;id(e,"NodeInjector")}function zT(t,e,n,r){if(n&J.Optional&&void 0===r&&(r=null),0==(n&(J.Self|J.Host))){const i=t[9],s=Ni(void 0);try{return i?i.get(e,r,n&J.Optional):gT(e,r,n&J.Optional)}finally{Ni(s)}}return WT(r,e,n)}function KT(t,e,n,r=J.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Cu)?t[Cu]:void 0;return"number"==typeof e?e>=0?255&e:QU:e}(n);if("function"==typeof s){if(!PT(e,t,r))return r&J.Host?WT(i,n,r):zT(e,n,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;id(n)}finally{UT()}}else if("number"==typeof s){let o=null,a=bg(t,e),u=-1,l=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(u=-1===a?Id(t,e):e[a+8],-1!==u&&JT(r,!1)?(o=e[1],a=Do(u),e=To(u,e)):a=-1);-1!==a;){const c=e[1];if(YT(s,a,c.data)){const d=YU(a,e,n,o,r,l);if(d!==QT)return d}u=e[a+8],-1!==u&&JT(r,e[1].data[a+8]===l)&&YT(s,a,e)?(o=c,a=Do(u),e=To(u,e)):a=-1}}}return zT(e,n,r,i)}const QT={};function QU(){return new Ao(ct(),D())}function YU(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&hr(f)&&f.type===n)return u}return null}(a,o,n,null==r?cd(a)&&wg:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==c?ku(e,o,c,a):QT}function ku(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof xu}(i)){const o=i;o.resolving&&function(t,e){throw new Rn("200",`Circular dependency in DI detected for ${t}`)}(rn(s[n]));const a=bd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ni(o.injectImpl):null;PT(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ni(u),bd(a),o.resolving=!1,UT()}}return i}function YT(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function JT(t,e){return!(t&J.Self||t&J.Host&&e)}class Ao{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KT(this._tNode,this._lView,e,r,n)}}function Vn(t){return Oi(()=>{const e=t.prototype.constructor,n=e[ri]||Ig(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ri]||Ig(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ig(t){return dT(t)?()=>{const e=Ig(te(t));return e&&e()}:ws(t)}const xo="__parameters__";function Ro(t,e,n){return Oi(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(xo)?u[xo]:Object.defineProperty(u,xo,{value:[]})[xo];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZU=new Z("AnalyzeForEntryComponents");function Or(t,e){t.forEach(n=>Array.isArray(n)?Or(n,e):e(n))}function ZT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Td(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=ko(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Tg(t,e){const n=ko(t,e);if(n>=0)return t[1|n]}function ko(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Lu={},Sg="__NG_DI_FLAG__",Sd="ngTempTokenPath",lB=/\n/gm,s0="__source",dB=Ce({provide:String,useValue:Ce});let Vu;function o0(t){const e=Vu;return Vu=t,e}function hB(t,e=J.Default){if(void 0===Vu)throw new Error("inject() must be called from an injection context");return null===Vu?gT(t,void 0,e):Vu.get(t,e&J.Optional?null:void 0,e)}function $(t,e=J.Default){return(Zp||hB)(te(t),e)}function xg(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],u=fB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Uu(t,e){return t[Sg]=e,t.prototype[Sg]=e,t}function fB(t){return t[Sg]}const Bu=Uu(Ro("Inject",t=>({token:t})),-1),Je=Uu(Ro("Optional"),8),No=Uu(Ro("SkipSelf"),4);class g0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ui(t){return t instanceof g0?t.changingThisBreaksApplicationSecurity:t}const PB=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,FB=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function Lg(t){const e=function(){const t=D();return t&&t[12]}();return e?e.sanitize(nt.URL,t)||"":function(t,e){const n=function(t){return t instanceof g0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Ui(t):function(t){return(t=String(t)).match(PB)||t.match(FB)?t:"unsafe:"+t}(K(t))}const D0="__ngContext__";function zt(t,e){t[D0]=e}function Ug(t){const e=function(t){return t[D0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function jg(t){return t.ngOriginalError}function oj(t,...e){t.error(...e)}class Fo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=(t=e)&&t.ngErrorLogger||oj;var t;r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jg(e);for(;n&&jg(n);)n=jg(n);return n||null}}const M0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function Fr(t){return t instanceof Function?t():t}var Bn=(()=>((Bn=Bn||{})[Bn.Important=1]="Important",Bn[Bn.DashCase=2]="DashCase",Bn))();function Hg(t,e){return undefined(t,e)}function Wu(t){const e=t[3];return dr(e)?e[3]:e}function qg(t){return P0(t[13])}function Gg(t){return P0(t[4])}function P0(t){for(;null!==t&&!dr(t);)t=t[4];return t}function Vo(t,e,n,r,i){if(null!=r){let s,o=!1;dr(r)?s=r:kr(r)&&(o=!0,r=r[0]);const a=tt(r);0===t&&null!==n?null==i?j0(e,n,a):Es(e,n,a,i||null,!0):1===t&&null!==n?Es(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Od(t,e);r&&function(t,e,n,r){He(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==tt(n)&&Vo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];zu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function zg(t,e,n){return He(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function L0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,dg(i,-1)),n.splice(r,1)}function Kg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&L0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Td(t,10+e);!function(t,e){zu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function V0(t,e){if(!(256&e[2])){const n=e[11];He(n)&&n.destroyNode&&zu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Qg(t[1],t);for(;e;){let n=null;if(kr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kr(e)&&Qg(e[1],e),e=e[3];null===e&&(e=t),kr(e)&&Qg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Qg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):tt(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&He(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dr(e[3])){n!==e[3]&&L0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function U0(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Rr.None||i===Rr.Emulated)return null}return Zn(r,n)}(t,e.parent,n)}function Es(t,e,n,r,i){He(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function j0(t,e,n){He(t)?t.appendChild(e,n):e.appendChild(n)}function $0(t,e,n,r,i){null!==r?Es(t,e,n,r,i):j0(t,e,n)}function Od(t,e){return He(t)?t.parentNode(e):e.parentNode}let G0=function(t,e,n){return 40&t.type?Zn(t,n):null};function Pd(t,e,n,r){const i=U0(t,r,e),s=e[11],a=function(t,e,n){return G0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)$0(s,i,n[u],a,!1);else $0(s,i,n,a,!1)}function Fd(t,e){if(null!==e){const n=e.type;if(3&n)return Zn(e,t);if(4&n)return Jg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Fd(t,r);{const i=t[e.index];return dr(i)?Jg(-1,i):tt(i)}}if(32&n)return Hg(e,t)()||tt(t[e.index]);{const r=z0(t,e);return null!==r?Array.isArray(r)?r[0]:Fd(Wu(t[16]),r):Fd(t,e.next)}}return null}function z0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Jg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Fd(r,i)}return e[7]}function Xg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&zt(tt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xg(t,e,n.child,r,i,s,!1),Vo(e,t,i,a,s);else if(32&u){const l=Hg(n,r);let c;for(;c=l();)Vo(e,t,i,c,s);Vo(e,t,i,a,s)}else 16&u?Q0(t,e,r,n,i,s):Vo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zu(t,e,n,r,i,s){Xg(n,r,t.firstChild,e,i,s,!1)}function Q0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Vo(e,t,i,u[l],s);else Xg(t,e,u,o[3],i,s,!0)}function Y0(t,e,n){He(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zg(t,e,n){He(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function J0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const X0="ng-template";function Oj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==J0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Z0(t){return 4===t.type&&t.value!==X0}function Pj(t,e,n){return e===(4!==t.type||n?t.value:X0)}function Fj(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(jT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Pj(t,u,n)||""===u&&1===e.length){if(fr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Oj(t.attrs,l,n)){if(fr(r))return!1;o=!0}continue}const d=Lj(8&r?"class":u,i,Z0(t),n);if(-1===d){if(fr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==J0(f,l,0)||2&r&&l!==h){if(fr(r))return!1;o=!0}}}}else{if(!o&&!fr(r)&&!fr(u))return!1;if(o&&fr(u))continue;o=!1,r=u|1&r}}return fr(r)||o}function fr(t){return 0==(1&t)}function Lj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function eA(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fj(t,e[r],n))return!0;return!1}function tA(t,e){return t?":not("+e.trim()+")":e}function $j(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!fr(o)&&(e+=tA(s,i),i=""),r=o,s=s||!fr(r);n++}return""!==i&&(e+=tA(s,i)),e}const Q={};function O(t){nA(pe(),D(),an()+t,fd())}function nA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&_d(e,s,n)}else{const s=t.preOrderHooks;null!==s&&vd(e,s,0,n)}Li(n)}function Ld(t,e){return t<<17|e<<2}function pr(t){return t>>17&32767}function em(t){return 2|t}function oi(t){return(131068&t)>>2}function tm(t,e){return-131069&t|e<<2}function nm(t){return 1|t}function fA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];mg(i),o.contentQueries(2,e[s],s)}}}function Ku(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,xT(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Uo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=RT(),o=hg(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),W.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Nr(s,!0),s}function Bo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qu(t,e,n){gd(e);try{const r=t.viewQuery;null!==r&&wm(1,r,n);const i=t.template;null!==i&&pA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fA(t,e),t.staticViewQueries&&wm(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)C$(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,md()}}function jo(t,e,n,r){const i=e[2];if(256==(256&i))return;gd(e);const s=fd();try{xT(e),function(t){W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&pA(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const l=t.preOrderCheckHooks;null!==l&&_d(e,l,null)}else{const l=t.preOrderHooks;null!==l&&vd(e,l,0,null),yg(e,0)}if(function(t){for(let e=qg(t);null!==e;e=Gg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&dg(s,1),i[2]|=1024}}}(e),function(t){for(let e=qg(t);null!==e;e=Gg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];cg(r)&&jo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&fA(t,e),!s)if(o){const l=t.contentCheckHooks;null!==l&&_d(e,l)}else{const l=t.contentHooks;null!==l&&vd(e,l,1),yg(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Li(~i);else{const s=i,o=n[++r],a=n[++r];xU(o,s),a(2,e[s])}}}finally{Li(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)I$(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&wm(2,u,r),!s)if(o){const l=t.viewCheckHooks;null!==l&&_d(e,l)}else{const l=t.viewHooks;null!==l&&vd(e,l,2),yg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,dg(e[3],-1))}finally{md()}}function i$(t,e,n,r){const i=e[10],s=!fd(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Qu(t,e,r),jo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function pA(t,e,n,r,i){const s=an(),o=2&r;try{Li(-1),o&&e.length>20&&nA(t,e,20,fd()),n(r,i)}finally{Li(s)}}function hm(t,e,n){!MT()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ru(n,e),zt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=hr(u);l&&_$(e,n,u);const c=ku(e,t,a,n);zt(c,e),null!==o&&v$(0,a-i,c,u,0,o),l&&(Ln(n.index,e)[8]=c)}}(t,e,n,Zn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=W.lFrame.currentDirectiveIndex;try{Li(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];pg(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IA(l,c)}}finally{Li(-1),pg(a)}}(t,e,n))}function fm(t,e,n=Zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Bd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Bd(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Q);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function wA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function pm(t,e,n,r){let i=!1;if(MT()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];eA(n,o.selectors,!1)&&(i||(i=[]),Cd(Ru(n,e),t,o.type),hr(o)?(CA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,DA(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Bo(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Ed(n.mergedAttrs,d.hostAttrs),TA(t,n,e,l,d),y$(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||Z0(e)?null:w$(d,s);o.push(h),a=wA(d,l,a),u=wA(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Rn("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Ed(n.mergedAttrs,n.attrs),i}function bA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function IA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function CA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function y$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hr(e)&&(n[""]=t)}}function DA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ws(i.type)),o=new xu(s,hr(i),null);t.blueprint[r]=o,n[r]=o,bA(t,e,0,r,Bo(t,n,i.hostVars,Q),i)}function _$(t,e,n){const r=Zn(e,t),i=mA(n),s=t[10],o=jd(t,Ku(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Lr(t,e,n,r,i,s){const o=Zn(t,e);!function(t,e,n,r,i,s,o){if(null==s)He(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?K(s):o(s,r||"",i);He(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function v$(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function w$(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function AA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function I$(t,e){const n=Ln(e,t);if(cg(n)){const r=n[1];80&n[2]?jo(r,n,r.template,n[8]):n[5]>0&&mm(n)}}function mm(t){for(let r=qg(t);null!==r;r=Gg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];jo(o,s,o.template,s[8])}else s[5]>0&&mm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ln(n[r],t);cg(i)&&i[5]>0&&mm(i)}}function C$(t,e){const n=Ln(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Qu(r,n,n[8])}function jd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ym(t){for(;t;){t[2]|=64;const e=Wu(t);if(uU(t)&&!e)return t;t=e}return null}function vm(t,e,n){const r=e[10];r.begin&&r.begin();try{jo(t,e,t.template,n)}catch(i){throw kA(e,i),i}finally{r.end&&r.end()}}function SA(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ug(n),i=r[1];i$(i,r,i.template,n)}}(t[8])}function wm(t,e,n){mg(0),e(t,n)}const x$=(()=>Promise.resolve(null))();function xA(t){return t[7]||(t[7]=[])}function MA(t){return t.cleanup||(t.cleanup=[])}function kA(t,e){const n=t[9],r=n?n.get(Fo,null):null;r&&r.handleError(e)}function NA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function ai(t,e,n){const r=hd(e,t);!function(t,e,n){He(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function $d(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Qp(i,a):2==s&&(r=Qp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Em=new Z("INJECTOR",-1);class OA{get(e,n=Lu){if(n===Lu){const r=new Error(`NullInjectorError: No provider for ${fe(e)}!`);throw r.name="NullInjectorError",r}return n}}const bm=new Z("Set Injector scope."),Yu={},k$={};let Im;function PA(){return void 0===Im&&(Im=new OA),Im}function FA(t,e=null,n=null,r){const i=LA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function LA(t,e=null,n=null,r){return new N$(t,n,e||PA(),r)}class N${constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Or(n,a=>this.processProvider(a,e,n)),Or([e],a=>this.processInjectorType(a,[],s)),this.records.set(Em,$o(void 0,this));const o=this.records.get(bm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:fe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Lu,r=J.Default){this.assertNotDestroyed();const i=o0(this),s=Ni(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof Z)&&Jp(e);a=u&&this.injectableDefInScope(u)?$o(Cm(e),Yu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?PA():this.parent).get(e,n=r&J.Optional&&n===Lu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Sd]=o[Sd]||[]).unshift(fe(e)),i)throw o;return function(t,e,n,r){const i=t[Sd];throw e[s0]&&i.unshift(e[s0]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=fe(e);if(Array.isArray(e))i=e.map(fe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):fe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(lB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Sd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Ni(s),o0(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(fe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=te(e)))return!1;let i=fT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=fT(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{Or(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];Or(f,p=>this.processProvider(p,h,f||De))}}this.injectorDefTypes.add(o);const u=ws(o)||(()=>new o);this.records.set(o,$o(u,Yu));const l=i.providers;if(null!=l&&!a){const c=e;Or(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Ho(e=te(e))?e:te(e&&e.provide);const s=function(t,e,n){return UA(t)?$o(void 0,t.useValue):$o(VA(t),Yu)}(e);if(Ho(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=$o(void 0,Yu,!0),o.factory=()=>xg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Yu&&(n.value=k$,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Cm(t){const e=Jp(t),n=null!==e?e.factory:ws(t);if(null!==n)return n;if(t instanceof Z)throw new Error(`Token ${fe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${fe(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[sd]||t[pT]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function VA(t,e,n){let r;if(Ho(t)){const i=te(t);return ws(i)||Cm(i)}if(UA(t))r=()=>te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...xg(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>$(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ws(i)||Cm(i);r=()=>new i(...xg(t.deps))}return r}function $o(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UA(t){return null!==t&&"object"==typeof t&&dB in t}function Ho(t){return"function"==typeof t}let ht=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return FA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return FA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Lu,t.NULL=new OA,t.\u0275prov=ue({token:t,providedIn:"any",factory:()=>$(Em)}),t.__NG_ELEMENT_ID__=-1,t})();function Q$(t,e){yd(Ug(t)[1],ct())}function Me(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Am(t.inputs),o.declaredInputs=Am(t.declaredInputs),o.outputs=Am(t.outputs);const a=i.hostBindings;a&&Z$(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&J$(t,u),l&&X$(t,l),Kp(t.inputs,i.inputs),Kp(t.declaredInputs,i.declaredInputs),Kp(t.outputs,i.outputs),hr(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ed(i.hostAttrs,n=Ed(n,i.hostAttrs))}}(r)}function Am(t){return t===_o?{}:t===De?[]:t}function J$(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function X$(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Z$(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Hd=null;function qo(){if(!Hd){const t=Ie.Symbol;if(t&&t.iterator)Hd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hd=r)}}}return Hd}function Ju(t){return!!Sm(t)&&(Array.isArray(t)||!(t instanceof Map)&&qo()in t)}function Sm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ur(t,e,n,r){const i=D();return Kt(i,Co(),e)&&(pe(),Lr(qe(),i,t,e,n,r)),Ur}function Y(t,e,n,r,i,s,o,a){const u=D(),l=pe(),c=t+20,d=l.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const l=e.consts,c=Uo(e,t,4,o||null,Fi(l,a));pm(e,n,c,Fi(l,u)),yd(e,c);const d=c.tViews=Bd(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];Nr(d,!1);const h=u[11].createComment("");Pd(l,u,h,d),zt(h,u),jd(u,u[c]=AA(h,u,h,d)),dd(d)&&hm(l,u,d),null!=o&&fm(u,d,a)}function I(t,e=J.Default){const n=D();return null===n?$(t,e):KT(ct(),n,te(t),e)}function Nm(){throw new Error("invalid")}function L(t,e,n){const r=D();return Kt(r,Co(),e)&&function(t,e,n,r,i,s,o,a){const u=Zn(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(NA(t,n,c,r,i),cd(e)&&function(t,e){const n=Ln(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,He(s)?s.setProperty(u,r,i):vg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(pe(),qe(),r,t,e,r[11],n,!1),L}function Om(t,e,n,r,i){const o=i?"class":"style";NA(t,n,e.inputs[o],o,r)}function m(t,e,n,r){const i=D(),s=pe(),o=20+t,a=i[11],u=i[o]=zg(a,e,W.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=Uo(e,t,2,i,Fi(a,s));return pm(e,n,l,Fi(a,o)),null!==l.attrs&&$d(l,l.attrs,!1),null!==l.mergedAttrs&&$d(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];Nr(l,!0);const c=l.mergedAttrs;null!==c&&wd(a,u,c);const d=l.classes;null!==d&&Zg(a,u,d);const h=l.styles;null!==h&&Y0(a,u,h),64!=(64&l.flags)&&Pd(s,i,u,l),0===W.lFrame.elementDepthCount&&zt(u,i),W.lFrame.elementDepthCount++,dd(l)&&(hm(s,i,l),function(t,e,n){if(ig(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&fm(i,l)}function y(){let t=ct();hg()?W.lFrame.isParent=!1:(t=t.parent,Nr(t,!1));const e=t;W.lFrame.elementDepthCount--;const n=pe();n.firstCreatePass&&(yd(n,t),ig(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Om(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Om(n,e,D(),e.stylesWithoutHost,!1)}function Fe(t,e,n,r){m(t,e,n,r),y()}function Zu(t){return!!t&&"function"==typeof t.then}const Pm=function(t){return!!t&&"function"==typeof t.subscribe};function Te(t,e,n,r){const i=D(),s=pe(),o=ct();return function(t,e,n,r,i,s,o,a){const u=dd(r),c=t.firstCreatePass&&MA(t),d=e[8],h=xA(e);let f=!0;if(3&r.type||a){const v=Zn(r,e),b=a?a(v):v,w=h.length,M=a?U=>a(tt(U[r.index])):r.index;if(He(n)){let U=null;if(!a&&u&&(U=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,f=!1;else{s=Fm(r,e,d,s,!1);const X=n.listen(b,i,s);h.push(s,X),c&&c.push(i,M,w,w+1)}}else s=Fm(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),c&&c.push(i,M,w,o)}else s=Fm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const v=_.length;if(v)for(let b=0;b<v;b+=2){const vt=e[_[b]][_[b+1]].subscribe(s),Qn=h.length;h.push(s,vt),c&&c.push(i,r.index,Qn,-(Qn+1))}}}(s,i,i[11],o,t,e,!!n,r),Te}function bS(t,e,n,r){try{return!1!==n(r)}catch(i){return kA(t,i),!1}}function Fm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Ln(t.index,e):e;0==(32&e[2])&&ym(a);let u=bS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=bS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function mr(t=1){return function(t){return(W.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,W.lFrame.contextLView))[8]}(t)}function kS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pr(s):oi(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];VH(t[a],e)&&(u=!0,t[a+1]=r?nm(c):em(c)),a=r?pr(c):oi(c)}u&&(t[n+1]=r?em(s):nm(s))}function VH(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ko(t,e)>=0}function Wd(t,e){return function(t,e,n,r){const i=D(),s=pe(),o=function(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[an()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=el(n=Vm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Vm(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==oi(r))return t[pr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Vm(null,t,e,u[1],r),u=el(u,e.attrs,r),function(t,e,n,r){t[pr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=el(r,t[s].hostAttrs,n);return el(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pr(o),u=oi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||ko(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=pr(t[a+1]);t[r+1]=Ld(h,a),0!==h&&(t[h+1]=tm(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ld(a,0),0!==a&&(t[a+1]=tm(t[a+1],r)),a=r;else t[r+1]=Ld(u,0),0===a?a=r:t[u+1]=tm(t[u+1],r),u=r;l&&(t[r+1]=em(t[r+1])),kS(t,c,r,!0),kS(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ko(s,e)>=0&&(n[r+1]=nm(n[r+1]))}(e,c,t,r,s),o=Ld(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Q&&Kt(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];zd(function(t){return 1==(1&t)}(l)?qS(u,e,n,i,oi(l),o):void 0)||(zd(s)||function(t){return 2==(2&t)}(l)&&(s=qS(u,null,n,i,a,o)),function(t,e,n,r,i){const s=He(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Bn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Bn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,hd(an(),n),i,s))}(s,s.data[an()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=fe(Ui(t)))),t}(e,n),r,o)}(t,e,null,!0),Wd}function Vm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=el(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function el(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,o,!!n||e[++s]))}return void 0===t?null:t}function qS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===Q&&(h=d?De:void 0);let f=d?Tg(h,r):c===r?h:void 0;if(l&&!zd(f)&&(f=Tg(u,r)),zd(f)&&(a=f,o))return a;const p=t[i+1];i=o?pr(p):oi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Tg(u,r))}return a}function zd(t){return void 0!==t}function S(t,e=""){const n=D(),r=pe(),i=t+20,s=r.firstCreatePass?Uo(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return He(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Pd(r,n,o,s),Nr(s,!1)}function tl(t){return $i("",t,""),tl}function $i(t,e,n){const r=D(),i=function(t,e,n,r){return Kt(t,Co(),n)?e+K(n)+r:Q}(r,t,e,n);return i!==Q&&ai(r,an(),i),$i}const Is=void 0;var vq=["en",[["a","p"],["AM","PM"],Is],[["AM","PM"],Is,Is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Is,"{1} 'at' {0}",Is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let na={};function h1(t){return t in na||(na[t]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[t]),na[t]}var N=(()=>((N=N||{})[N.LocaleId=0]="LocaleId",N[N.DayPeriodsFormat=1]="DayPeriodsFormat",N[N.DayPeriodsStandalone=2]="DayPeriodsStandalone",N[N.DaysFormat=3]="DaysFormat",N[N.DaysStandalone=4]="DaysStandalone",N[N.MonthsFormat=5]="MonthsFormat",N[N.MonthsStandalone=6]="MonthsStandalone",N[N.Eras=7]="Eras",N[N.FirstDayOfWeek=8]="FirstDayOfWeek",N[N.WeekendRange=9]="WeekendRange",N[N.DateFormat=10]="DateFormat",N[N.TimeFormat=11]="TimeFormat",N[N.DateTimeFormat=12]="DateTimeFormat",N[N.NumberSymbols=13]="NumberSymbols",N[N.NumberFormats=14]="NumberFormats",N[N.CurrencyCode=15]="CurrencyCode",N[N.CurrencySymbol=16]="CurrencySymbol",N[N.CurrencyName=17]="CurrencyName",N[N.Currencies=18]="Currencies",N[N.Directionality=19]="Directionality",N[N.PluralCase=20]="PluralCase",N[N.ExtraData=21]="ExtraData",N))();const Kd="en-US";let f1=Kd;function jm(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let s=0;s<t.length;s++)jm(t[s],e,n,r,i);else{const s=pe(),o=D();let a=Ho(t)?t:te(t.provide),u=VA(t);const l=ct(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ho(t)||!t.multi){const f=new xu(u,i,I),p=Hm(a,e,i?c:c+h,d);-1===p?(Cd(Ru(l,o),s,a),$m(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Hm(a,e,c+h,d),p=Hm(a,e,c,c+h),_=f>=0&&n[f],v=p>=0&&n[p];if(i&&!v||!i&&!_){Cd(Ru(l,o),s,a);const b=function(t,e,n,r,i){const s=new xu(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,L1(s,i,r&&!n),s}(i?yG:mG,n.length,i,r,u);!i&&v&&(n[p].providerFactory=b),$m(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),o.push(b)}else $m(s,t,f>-1?f:p,L1(n[i?p:f],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function $m(t,e,n,r){const i=Ho(e),s=function(t){return!!t.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function L1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mG(t,e,n,r){return qm(this.multi,[])}function yG(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ku(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),qm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],qm(i,s);return s}function qm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=pe();if(r.firstCreatePass){const i=hr(t);jm(n,r.data,r.blueprint,i,!0),jm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class V1{}class EG{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${fe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let ia=(()=>{class t{}return t.NULL=new EG,t})();function bG(){return sa(ct(),D())}function sa(t,e){return new $n(Zn(t,e))}let $n=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=bG,t})();class B1{}let ui=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=D(),n=Ln(ct().index,t);return function(t){return t[11]}(kr(n)?n:t)}(),t})(),TG=(()=>{class t{}return t.\u0275prov=ue({token:t,providedIn:"root",factory:()=>null}),t})();class oa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const j1=new oa("13.1.1"),Gm={};function Zd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(tt(s)),dr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Zd(u[1],u,l,r)}const o=n.type;if(8&o)Zd(t,e,n.child,r);else if(32&o){const a=Hg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=z0(e,n);if(Array.isArray(a))r.push(...a);else{const u=Wu(e[16]);Zd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ol{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Zd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(dr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Kg(e,r),Td(n,r))}this._attachedToViewContainer=!1}V0(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=xA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&MA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){pd(!0);try{vm(t,e,n)}finally{pd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,zu(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class AG extends ol{constructor(e){super(e),this._view=e}detectChanges(){SA(this._view)}checkNoChanges(){!function(t){pd(!0);try{SA(t)}finally{pd(!1)}}(this._view)}get context(){return null}}class $1 extends ia{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Gt(e);return new Wm(n,this.ngModule)}}function H1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const xG=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>M0});class Wm extends V1{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map($j).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return H1(this.componentDef.inputs)}get outputs(){return H1(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Gm,i);return s!==Gm||r===Gm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(B1,AT),a=s.get(TG,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(t,e,n){if(He(t))return t.selectRootElement(e,n===Rr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):zg(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||M0,clean:x$,playerHandler:e||null,flags:0}}(),f=Bd(0,null,null,1,0,null,null,null,null,null),p=Ku(null,f,h,d,null,null,o,u,a,s);let _,v;gd(p);try{const b=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Uo(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&($d(u,l,!0),null!==t&&(wd(i,t,l),null!==u.classes&&Zg(i,t,u.classes),null!==u.styles&&Y0(i,t,u.styles)));const c=r.createRenderer(t,e),d=Ku(n,mA(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(Cd(Ru(u,n),o,e.type),CA(o,u),DA(u,n.length,1)),jd(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)wd(u,c,["ng-version",j1.full]);else{const{attrs:w,classes:M}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!fr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);w&&wd(u,c,w),M&&M.length>0&&Zg(u,c,M.join(" "))}if(v=lg(f,20),void 0!==n){const w=v.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const U=n[M];w.push(null!=U?Array.from(U):null)}}_=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ct();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),TA(t,r,e,Bo(t,e,1,null),n));const i=ku(e,t,r.directiveStart,r);zt(i,e);const s=Zn(r,e);return s&&zt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ct();e.contentQueries(1,o,u.directiveStart)}const a=ct();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Li(a.index),bA(n[1],a,0,a.directiveStart,a.directiveEnd,e),IA(e,o)),o}(b,this.componentDef,p,h,[Q$]),Qu(f,p,null)}finally{md()}return new kG(this.componentType,_,sa(v,p),p,v)}}class kG extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new AG(i),this.componentType=e}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class li{}class q1{}const aa=new Map;class z1 extends li{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $1(this);const r=Yn(e);this._bootstrapComponents=Fr(r.bootstrap),this._r3Injector=LA(e,n,[{provide:li,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],fe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ht.THROW_IF_NOT_FOUND,r=J.Default){return e===ht||e===li||e===Em?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zm extends q1{constructor(e){super(),this.moduleType=e,null!==Yn(e)&&function(t){const e=new Set;!function n(r){const i=Yn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${fe(e)} vs ${fe(e.name)}`)}(s,aa.get(s),r),aa.set(s,r));const o=Fr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new z1(this.moduleType,e)}}function vr(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Kt(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Q?void 0:n}(t,o+1)}(D(),function(){const t=W.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function Km(t){return e=>{setTimeout(t,void 0,e)}}const We=class extends Zr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Km(u),a&&(a=Km(a)),l&&(l=Km(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof et&&e.add(c),c}};Symbol;let ci=(()=>{class t{}return t.__NG_ELEMENT_ID__=t3,t})();const ZG=ci,e3=class extends ZG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Ku(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Qu(n,r,e),new ol(r)}};function t3(){return function(t,e){return 4&t.type?new e3(e,t,sa(t,e)):null}(ct(),D())}let wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=n3,t})();function n3(){return function(t,e){let n;const r=e[t.index];if(dr(r))n=r;else{let i;if(8&t.type)i=tt(r);else{const s=e[11];i=s.createComment("");const o=Zn(t,e);Es(s,Od(s,o),i,function(t,e){return He(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=AA(r,e,i,t),jd(e,n)}return new Z1(n,t,e)}(ct(),D())}const r3=wr,Z1=class extends r3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const e=Id(this._hostTNode,this._hostLView);if(HT(e)){const n=To(e,this._hostLView),r=Do(e);return new Ao(n[1].data[r+8],n)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=ex(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Wm(Gt(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule&&l){const d=l.get(li,null);d&&(s=d)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(dr(r[3])){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Z1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],ZT(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Jg(s,o),u=r[11],l=Od(u,o[7]);return null!==l&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,zu(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),ZT(Ym(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=ex(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Kg(this._lContainer,n);r&&(Td(Ym(this._lContainer),n),V0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Kg(this._lContainer,n);return r&&null!=Td(Ym(this._lContainer),n)?new ol(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function ex(t){return t[8]}function Ym(t){return t[8]||(t[8]=[])}function rh(...t){}const ih=new Z("Application Initializer");let la=(()=>{class t{constructor(n){this.appInits=n,this.resolve=rh,this.reject=rh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Zu(s))n.push(s);else if(Pm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(ih,8))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const cl=new Z("AppId"),R3={provide:cl,useFactory:function(){return`${cy()}${cy()}${cy()}`},deps:[]};function cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ix=new Z("Platform Initializer"),dl=new Z("Platform ID"),Cx=new Z("appBootstrapListener");let Dx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const Hi=new Z("LocaleId"),Tx=new Z("DefaultCurrencyCode");class k3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let sh=(()=>{class t{compileModuleSync(n){return new zm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Fr(Yn(n).declarations).reduce((o,a)=>{const u=Gt(a);return u&&o.push(new Wm(u)),o},[]);return new k3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const O3=(()=>Promise.resolve(0))();function dy(t){"undefined"==typeof Zone?O3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ie.requestAnimationFrame,e=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ie,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fy(t),t.isCheckStableRunning=!0,hy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ax(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Sx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ax(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Sx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,fy(t),hy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,F3,rh,rh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const F3={};function hy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ax(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sx(t){t._nesting--,hy(t)}class U3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let py=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Be))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),xx=(()=>{class t{constructor(){this._applications=new Map,gy.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return gy.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();class B3{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Er,gy=new B3;const Mx=new Z("AllowMultipleToken");class Rx{constructor(e,n){this.name=e,this.token=n}}function kx(t,e,n=[]){const r=`Platform: ${e}`,i=new Z(r);return(s=[])=>{let o=Nx();if(!o||o.injector.get(Mx,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:bm,useValue:"platform"});!function(t){if(Er&&!Er.destroyed&&!Er.injector.get(Mx,!1))throw new Rn("400","");Er=t.get(Ox);const e=t.get(Ix,null);e&&e.forEach(n=>n())}(ht.create({providers:a,name:r}))}return function(t){const e=Nx();if(!e)throw new Rn("401","");return e}()}}function Nx(){return Er&&!Er.destroyed?Er:null}let Ox=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new U3:("zone.js"===t?void 0:t)||new Be({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Be,useValue:a}];return a.run(()=>{const l=ht.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(Fo,null);if(!d)throw new Rn("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{my(this._modules,c),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Zu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(la);return h.runInitializers(),h.donePromise.then(()=>(function(t){Nn(t,"Expected localeId to be defined"),"string"==typeof t&&(f1=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Hi,Kd)||Kd),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=Px({},r);return function(t,e,n){const r=new zm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(hl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Rn("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rn("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(ht))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();function Px(t,e){return Array.isArray(e)?e.reduce(Px,t):Object.assign(Object.assign({},t),e)}let hl=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ke(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new ke(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=Iu(t),n=function(t,e){return"number"==typeof Wp(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Mr(r[0]):bu(n)(bt(r,e)):ti}(a,u.pipe(function(t={}){const{connector:e=(()=>new Zr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const _=o;f(),null==_||_.unsubscribe()};return Ot((_,v)=>{l++,!d&&!c&&h();const b=u=null!=u?u:e();v.add(()=>{l--,0===l&&!d&&!c&&(a=zp(p,i))}),b.subscribe(v),o||(o=new ce({next:w=>b.next(w),error:w=>{d=!0,h(),a=zp(f,n,w),b.error(w)},complete:()=>{c=!0,h(),a=zp(f,r),b.complete()}}),bt(_).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Rn("405","");let i;i=n instanceof V1?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(li),a=i.create(ht.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(py,null),c=l&&a.injector.get(xx);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),my(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Rn("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;my(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Cx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)($(Be),$(ht),$(Fo),$(ia),$(la))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();function my(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Lx=!0,yy=(()=>{class t{}return t.__NG_ELEMENT_ID__=J3,t})();function J3(t){return function(t,e,n){if(cd(t)&&!n){const r=Ln(t.index,e);return new ol(r,r)}return 47&t.type?new ol(e[16],e):null}(ct(),D(),16==(16&t))}class qx{constructor(){}supports(e){return Ju(e)}create(e){return new iW(e)}}const rW=(t,e)=>e;class iW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Wx(r,i,s)?n:r,a=Wx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ju(e))throw new Error(`Error trying to diff '${fe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[qo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Gx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Gx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zx{constructor(){}supports(e){return e instanceof Map||Sm(e)}create(){return new aW}}class aW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Sm(e)))throw new Error(`Error trying to diff '${fe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new uW(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class uW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kx(){return new fl([new qx])}let fl=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Kx()),deps:[[t,new No,new Je]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=ue({token:t,providedIn:"root",factory:Kx}),t})();function Qx(){return new ca([new zx])}let ca=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Qx()),deps:[[t,new No,new Je]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=ue({token:t,providedIn:"root",factory:Qx}),t})();const cW=[new zx],hW=new fl([new qx]),fW=new ca(cW),pW=kx(null,"core",[{provide:dl,useValue:"unknown"},{provide:Ox,deps:[ht]},{provide:xx,deps:[]},{provide:Dx,deps:[]}]),vW=[{provide:hl,useClass:hl,deps:[Be,ht,Fo,ia,la]},{provide:xG,deps:[Be],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:la,useClass:la,deps:[[new Je,ih]]},{provide:sh,useClass:sh,deps:[]},R3,{provide:fl,useFactory:function(){return hW},deps:[]},{provide:ca,useFactory:function(){return fW},deps:[]},{provide:Hi,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Kd},deps:[[new Bu(Hi),new Je,new No]]},{provide:Tx,useValue:"USD"}];let EW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(hl))},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:vW}),t})(),ah=null;function $r(){return ah}const nr=new Z("DocumentToken");let Ds=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:function(){return $(Yx)},providedIn:"platform"}),t})();const TW=new Z("Location Initialized");let Yx=(()=>{class t extends Ds{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Jx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Jx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(nr))},t.\u0275prov=ue({token:t,factory:function(){return new Yx($(nr))},providedIn:"platform"}),t})();function Jx(){return!!window.history.pushState}function by(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Xx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function di(t){return t&&"?"!==t[0]?"?"+t:t}let da=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:function(){return function(t){const e=$(nr).location;return new Zx($(Ds),e&&e.origin||"")}()},providedIn:"root"}),t})();const Iy=new Z("appBaseHref");let Zx=(()=>{class t extends da{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return by(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)($(Ds),$(Iy,8))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),xW=(()=>{class t extends da{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=by(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)($(Ds),$(Iy,8))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),Cy=(()=>{class t{constructor(n,r){this._subject=new We,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Xx(eM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,eM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=di,t.joinWithSlash=by,t.stripTrailingSlash=Xx,t.\u0275fac=function(n){return new(n||t)($(da),$(Ds))},t.\u0275prov=ue({token:t,factory:function(){return new Cy($(da),$(Ds))},providedIn:"root"}),t})();function eM(t){return t.replace(/\/index.html$/,"")}var rt=(()=>((rt=rt||{})[rt.Zero=0]="Zero",rt[rt.One=1]="One",rt[rt.Two=2]="Two",rt[rt.Few=3]="Few",rt[rt.Many=4]="Many",rt[rt.Other=5]="Other",rt))();const VW=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=h1(e);if(n)return n;const r=e.split("-")[0];if(n=h1(r),n)return n;if("en"===r)return vq;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[N.PluralCase]};class yh{}let fz=(()=>{class t extends yh{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(VW(r||this.locale)(n)){case rt.Zero:return"zero";case rt.One:return"one";case rt.Two:return"two";case rt.Few:return"few";case rt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)($(Hi))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Ju(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${fe(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(I(fl),I(ca),I($n),I(ui))},t.\u0275dir=G({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),ha=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(wr),I(ci))},t.\u0275dir=G({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class _z{constructor(){this.$implicit=null,this.ngIf=null}}function cM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${fe(e)}'.`)}let Gz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:[{provide:yh,useClass:fz}]}),t})();let Qz=(()=>{class t{}return t.\u0275prov=ue({token:t,providedIn:"root",factory:()=>new Yz($(nr),window)}),t})();class Yz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pM(this.window.history)||pM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function pM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ly extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ly,ah||(ah=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null);return null==n?null:function(t){_h=_h||document.createElement("a"),_h.setAttribute("href",t);const e=_h.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let _h,yl=null;const gM=new Z("TRANSITION_ID"),r4=[{provide:ih,useFactory:function(t,e,n){return()=>{n.get(la).donePromise.then(()=>{const r=$r(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[gM,nr,ht],multi:!0}];class Vy{static init(){var t;t=new Vy,gy=t}addToWindow(e){Ie.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?$r().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let i4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const vh=new Z("EventManagerPlugins");let wh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(vh),$(Be))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();class mM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let yM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t extends yM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(_M),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(_M))}}return t.\u0275fac=function(n){return new(n||t)($(nr))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();function _M(t){$r().remove(t)}const Uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},By=/%COMP%/g;function Eh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Eh(t,i,n):(i=i.replace(By,t),n.push(i))}return n}function EM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let jy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $y(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Rr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new c4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Rr.ShadowDom:return new d4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Eh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(wh),$(_l),$(cl))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();class $y{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Uy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Uy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Uy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,EM(r)):this.eventManager.addEventListener(e,n,EM(r))}}class c4 extends $y{constructor(e,n,r,i){super(e),this.component=r;const s=Eh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(By,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(By,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class d4 extends $y{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Eh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let h4=(()=>{class t extends mM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(nr))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const IM=["alt","control","meta","shift"],p4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},g4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let m4=(()=>{class t extends mM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(IM.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&CM.hasOwnProperty(e)&&(e=CM[e]))}return p4[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IM.forEach(s=>{s!=i&&g4[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(nr))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const E4=kx(pW,"browser",[{provide:dl,useValue:"browser"},{provide:Ix,useValue:function(){Ly.makeCurrent(),Vy.init()},multi:!0},{provide:nr,useFactory:function(){return t=document,ag=t,document;var t},deps:[]}]),b4=[{provide:bm,useValue:"root"},{provide:Fo,useFactory:function(){return new Fo},deps:[]},{provide:vh,useClass:h4,multi:!0,deps:[nr,Be,dl]},{provide:vh,useClass:m4,multi:!0,deps:[nr]},{provide:jy,useClass:jy,deps:[wh,_l,cl]},{provide:B1,useExisting:jy},{provide:yM,useExisting:_l},{provide:_l,useClass:_l,deps:[nr]},{provide:py,useClass:py,deps:[Be]},{provide:wh,useClass:wh,deps:[vh,Be]},{provide:class{},useClass:i4,deps:[]}];let I4=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:cl,useValue:n.appId},{provide:gM,useExisting:cl},r4]}}}return t.\u0275fac=function(n){return new(n||t)($(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:b4,imports:[Gz,EW]}),t})();"undefined"!=typeof window&&window;const{isArray:O4}=Array,{getPrototypeOf:P4,prototype:F4,keys:L4}=Object;function AM(t){if(1===t.length){const e=t[0];if(O4(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&P4(t)===F4}(e)){const n=L4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:U4}=Array;function SM(t){return Ae(e=>function(t,e){return U4(e)?t(...e):t(e)}(t,e))}function xM(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let MM=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(ui),I($n))},t.\u0275dir=G({type:t}),t})(),Ts=(()=>{class t extends MM{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vn(t)))(r||t)}}(),t.\u0275dir=G({type:t,features:[Me]}),t})();const Hr=new Z("NgValueAccessor"),H4={provide:Hr,useExisting:Se(()=>As),multi:!0},G4=new Z("CompositionEventMode");let As=(()=>{class t extends MM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=$r()?$r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(ui),I($n),I(G4,8))},t.\u0275dir=G({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([H4]),Me]}),t})();function Gi(t){return null==t||0===t.length}function kM(t){return null!=t&&"number"==typeof t.length}const Qt=new Z("NgValidators"),Wi=new Z("NgAsyncValidators"),W4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(e){return function(t){return e=>{if(Gi(e.value)||Gi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function(t){return e=>{if(Gi(e.value)||Gi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return PM(e)}static requiredTrue(e){return function(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return LM(e)}static minLength(e){return VM(e)}static maxLength(e){return UM(e)}static pattern(e){return function(t){if(!t)return vl;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Gi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return WM(e)}static composeAsync(e){return zM(e)}}function PM(t){return Gi(t.value)?{required:!0}:null}function LM(t){return Gi(t.value)||W4.test(t.value)?null:{email:!0}}function VM(t){return e=>Gi(e.value)||!kM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function UM(t){return e=>kM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function vl(t){return null}function jM(t){return null!=t}function $M(t){const e=Zu(t)?bt(t):t;return Pm(e),e}function HM(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function qM(t,e){return e.map(n=>n(t))}function GM(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function WM(t){if(!t)return null;const e=t.filter(jM);return 0==e.length?null:function(n){return HM(qM(n,e))}}function qy(t){return null!=t?WM(GM(t)):null}function zM(t){if(!t)return null;const e=t.filter(jM);return 0==e.length?null:function(n){return function(...t){const e=lT(t),{args:n,keys:r}=AM(t),i=new ke(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Mr(n[c]).subscribe(new wt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?xM(r,a):a),s.complete())}))}});return e?i.pipe(SM(e)):i}(qM(n,e).map($M)).pipe(Ae(HM))}}function Gy(t){return null!=t?zM(GM(t)):null}function KM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QM(t){return t._rawValidators}function YM(t){return t._rawAsyncValidators}function Wy(t){return t?Array.isArray(t)?t:[t]:[]}function bh(t,e){return Array.isArray(t)?t.includes(e):t===e}function JM(t,e){const n=Wy(e);return Wy(t).forEach(i=>{bh(n,i)||n.push(i)}),n}function XM(t,e){return Wy(e).filter(n=>!bh(t,n))}class ZM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zi extends ZM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dn extends ZM{get formDirective(){return null}get path(){return null}}class eR{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let wl=(()=>{class t extends eR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(zi,2))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Wd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Me]}),t})(),El=(()=>{class t extends eR{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(dn,10))},t.\u0275dir=G({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Wd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Me]}),t})();function bl(t,e){Qy(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tR(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Dh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ah(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Th(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Qy(t,e){const n=QM(t);null!==e.validator?t.setValidators(KM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=YM(t);null!==e.asyncValidator?t.setAsyncValidators(KM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Th(e._rawValidators,i),Th(e._rawAsyncValidators,i)}function Ah(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=QM(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=YM(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Th(e._rawValidators,r),Th(e._rawAsyncValidators,r),n}function tR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Sh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Il="VALID",xh="INVALID",fa="PENDING",Cl="DISABLED";function Xy(t){return(e_(t)?t.validators:t)||null}function iR(t){return Array.isArray(t)?qy(t):t||null}function Zy(t,e){return(e_(e)?e.asyncValidators:t)||null}function sR(t){return Array.isArray(t)?Gy(t):t||null}function e_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class t_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=iR(this._rawValidators),this._composedAsyncValidatorFn=sR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Il}get invalid(){return this.status===xh}get pending(){return this.status==fa}get disabled(){return this.status===Cl}get enabled(){return this.status!==Cl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=iR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=sR(e)}addValidators(e){this.setValidators(JM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XM(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Cl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===fa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cl:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fa,this._hasOwnPendingAsyncValidator=!0;const n=$M(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof fi?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof n_&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Cl:this.errors?xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fa)?fa:this._anyControlsHaveStatus(xh)?xh:Il}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){e_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pa extends t_{constructor(e=null,n,r){super(Xy(n),Zy(r,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class fi extends t_{constructor(e,n,r){super(Xy(n),Zy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof pa?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class n_ extends t_{constructor(e,n,r){super(Xy(n),Zy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof pa?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Tl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),dR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({}),t})();const i_=new Z("NgModelWithFormControlWarning"),f8={provide:dn,useExisting:Se(()=>Ss)};let Ss=(()=>{class t extends dn{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ah(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return bl(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Dh(n.control||null,n,!1),Sh(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Dh(r||null,n),i instanceof pa&&(bl(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function(t,e){Qy(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function(t,e){return Ah(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qy(this.form,this),this._oldForm&&Ah(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(I(Qt,10),I(Wi,10))},t.\u0275dir=G({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([f8]),Me,Fn]}),t})();const m8={provide:zi,useExisting:Se(()=>ga)};let ga=(()=>{class t extends zi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new We,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===As?n=s:function(t){return Object.getPrototypeOf(t.constructor)===Ts}(s)?r=s:i=s}),i||r||n||null}(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(I(dn,13),I(Qt,10),I(Wi,10),I(Hr,10),I(i_,8))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([m8]),Me,Fn]}),t})();function _R(t){return"number"==typeof t?t:parseInt(t,10)}let Mh=(()=>{class t{constructor(){this._validator=vl}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):vl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(){return null!=this[this.inputName]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,features:[Fn]}),t})();const D8={provide:Qt,useExisting:Se(()=>xs),multi:!0};let xs=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(n){this._required=null!=n&&!1!==n&&"false"!=`${n}`,this._onChange&&this._onChange()}validate(n){return this.required?PM(n):null}registerOnValidatorChange(n){this._onChange=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("required",r.required?"":null)},inputs:{required:"required"},features:[Le([D8])]}),t})();const A8={provide:Qt,useExisting:Se(()=>l_),multi:!0};let l_=(()=>{class t{constructor(){this._enabled=!1}set email(n){this._enabled=""===n||!0===n||"true"===n,this._onChange&&this._onChange()}validate(n){return this._enabled?LM(n):null}registerOnValidatorChange(n){this._onChange=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Le([A8])]}),t})();const S8={provide:Qt,useExisting:Se(()=>Al),multi:!0};let Al=(()=>{class t extends Mh{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>_R(n),this.createValidator=n=>VM(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vn(t)))(r||t)}}(),t.\u0275dir=G({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("minlength",r.enabled()?r.minlength:null)},inputs:{minlength:"minlength"},features:[Le([S8]),Me]}),t})();const x8={provide:Qt,useExisting:Se(()=>c_),multi:!0};let c_=(()=>{class t extends Mh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>_R(n),this.createValidator=n=>UM(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vn(t)))(r||t)}}(),t.\u0275dir=G({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ur("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Le([x8]),Me]}),t})(),R8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({imports:[[dR]]}),t})(),CR=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:i_,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({imports:[R8]}),t})(),Rh=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new fi(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new pa(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new n_(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof pa||n instanceof fi||n instanceof n_?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:CR}),t})();function ie(...t){return bt(t,Iu(t))}class Cr extends Zr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function DR(t,e,n){t?ei(n,t,e):e()}const kh=fo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function d_(...t){return bu(1)(bt(t,Iu(t)))}function TR(t){return new ke(e=>{Mr(t()).subscribe(e)})}function AR(){return Ot((t,e)=>{let n=null;t._refCount++;const r=new wt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class F8 extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,QD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;const n=this.getSubject();e.add(this.source.subscribe(new wt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return AR()(this)}}function Ms(t,e){return Ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new wt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;Mr(t(u,c)).subscribe(i=new wt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function V8(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(new wt(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function SR(t,e){return Ot(V8(t,e,arguments.length>=2,!0))}function ma(t,e){return Ot((n,r)=>{let i=0;n.subscribe(new wt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ki(t){return Ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new wt(n,void 0,void 0,o=>{s=Mr(t(o,Ki(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Sl(t,e){return be(e)?Et(t,e,1):Et(t,1)}function h_(t){return t<=0?()=>ti:Ot((e,n)=>{let r=[];e.subscribe(new wt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xR(t=U8){return Ot((e,n)=>{let r=!1;e.subscribe(new wt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function U8(){return new kh}function MR(t){return Ot((e,n)=>{let r=!1;e.subscribe(new wt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ya(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ma((i,s)=>t(i,s,r)):ps,rd(1),n?MR(e):xR(()=>new kh))}function bn(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new wt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ps}class pi{constructor(e,n){this.id=e,this.url=n}}class f_ extends pi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xl extends pi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class RR extends pi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $8 extends pi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G8 extends pi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z8 extends pi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ae="primary";class X8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _a(t){return new X8(t)}const PR="ngNavigationCancelingError";function p_(t){const e=Error("NavigationCancelingError: "+t);return e[PR]=!0,e}function e6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!FR(t[i],e[i]))return!1;return!0}function FR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function LR(t){return Array.prototype.concat.apply([],t)}function VR(t){return t.length>0?t[t.length-1]:null}function Pt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Gr(t){return Pm(t)?t:Zu(t)?bt(Promise.resolve(t)):ie(t)}const r6={exact:function jR(t,e,n){if(!ks(t.segments,e.segments)||!Nh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!jR(t.children[r],e.children[r],n))return!1;return!0},subset:$R},UR={exact:function(t,e){return qr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FR(t[n],e[n]))},ignored:()=>!0};function BR(t,e,n){return r6[n.paths](t.root,e.root,n.matrixParams)&&UR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $R(t,e,n){return HR(t,e,e.segments,n)}function HR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ks(i,n)||e.hasChildren()||!Nh(i,n,r))}if(t.segments.length===n.length){if(!ks(t.segments,n)||!Nh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$R(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ks(t.segments,i)&&Nh(t.segments,i,r)&&t.children[ae])&&HR(t.children[ae],e,s,r)}}function Nh(t,e,n){return e.every((r,i)=>UR[n](t[i].parameters,r.parameters))}class Rs{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return u6.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Pt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oh(this)}}class Ml{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_a(this.parameters)),this._parameterMap}toString(){return KR(this)}}function ks(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class qR{}class GR{parse(e){const n=new y6(e);return new Rs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Rl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ph(n)}=${Ph(i)}`).join("&"):`${Ph(n)}=${Ph(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const u6=new GR;function Oh(t){return t.segments.map(e=>KR(e)).join("/")}function Rl(t,e){if(!t.hasChildren())return Oh(t);if(e){const n=t.children[ae]?Rl(t.children[ae],!1):"",r=[];return Pt(t.children,(i,s)=>{s!==ae&&r.push(`${s}:${Rl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Pt(t.children,(r,i)=>{i===ae&&(n=n.concat(e(r,i)))}),Pt(t.children,(r,i)=>{i!==ae&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ae?[Rl(t.children[ae],!1)]:[`${i}:${Rl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${Oh(t)}/${n[0]}`:`${Oh(t)}/(${n.join("//")})`}}function WR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ph(t){return WR(t).replace(/%3B/gi,";")}function g_(t){return WR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fh(t){return decodeURIComponent(t)}function zR(t){return Fh(t.replace(/\+/g,"%20"))}function KR(t){return`${g_(t.path)}${function(t){return Object.keys(t).map(e=>`;${g_(e)}=${g_(t[e])}`).join("")}(t.parameters)}`}const h6=/^[^\/()?;=#]+/;function Lh(t){const e=t.match(h6);return e?e[0]:""}const f6=/^[^=?&#]+/,g6=/^[^&#]+/;class y6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new de(e,n)),r}parseSegment(){const e=Lh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ml(Fh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Lh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Lh(this.remaining);i&&(r=i,this.capture(r))}e[Fh(n)]=Fh(r)}parseQueryParam(e){const n=function(t){const e=t.match(f6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(g6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=zR(n),s=zR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class QR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=m_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=m_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=y_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return y_(e,this._root).map(n=>n.value)}}function m_(t,e){if(t===e.value)return e;for(const n of e.children){const r=m_(t,n);if(r)return r}return null}function y_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=y_(t,n);if(r.length)return r.unshift(e),r}return[]}class gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function va(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class YR extends QR{constructor(e,n){super(e),this.snapshot=n,__(this,e)}toString(){return this.snapshot.toString()}}function JR(t,e){const n=function(t,e){const o=new Vh([],{},{},"",{},ae,e,null,t.root,-1,{});return new ZR("",new gi(o,[]))}(t,e),r=new Cr([new Ml("",{})]),i=new Cr({}),s=new Cr({}),o=new Cr({}),a=new Cr(""),u=new wa(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new YR(new gi(u,[]),n)}class wa{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>_a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>_a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vh{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZR extends QR{constructor(e,n){super(n),this.url=e,__(this,n)}toString(){return ek(this._root)}}function __(t,e){e.value._routerState=t,e.children.forEach(n=>__(t,n))}function ek(t){const e=t.children.length>0?` { ${t.children.map(ek).join(", ")} } `:"";return`${t.value}${e}`}function v_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function w_(t,e){const n=qr(t.params,e.params)&&function(t,e){return ks(t,e)&&t.every((n,r)=>qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||w_(t.parent,e.parent))}function kl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kl(t,r,i);return kl(t,r)})}(t,e,n);return new gi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kl(t,a)),o}}const r=function(t){return new wa(new Cr(t.url),new Cr(t.params),new Cr(t.queryParams),new Cr(t.fragment),new Cr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>kl(t,s));return new gi(r,i)}}function Uh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nl(t){return"object"==typeof t&&null!=t&&t.outlets}function E_(t,e,n,r,i){let s={};return r&&Pt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Rs(n.root===t?e:tk(n.root,t,e),s,i)}function tk(t,e,n){const r={};return Pt(t.children,(i,s)=>{r[s]=i===e?n:tk(i,e,n)}),new de(t.segments,r)}class nk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Nl);if(i&&i!==VR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class b_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function rk(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return Bh(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Nl(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!sk(u,l,o))return s;r+=2}else{if(!sk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new de(t.segments.slice(r.pathIndex),t.children),Bh(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?I_(t,e,n):r.match?Bh(t,0,i):I_(t,e,n)}function Bh(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Nl(t[0])?t[0].outlets:{[ae]:t}}(n),i={};return Pt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=rk(t.children[o],e,s))}),Pt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function I_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Nl(s)){const u=x6(s.outlets);return new de(r,u)}if(0===i&&Uh(n[0])){r.push(new Ml(t.segments[e].path,ik(n[0]))),i++;continue}const o=Nl(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uh(a)?(r.push(new Ml(o,ik(a))),i+=2):(r.push(new Ml(o,{})),i++)}return new de(r,{})}function x6(t){const e={};return Pt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=I_(new de([],{}),0,n))}),e}function ik(t){const e={};return Pt(t,(n,r)=>e[r]=`${n}`),e}function sk(t,e,n){return t==n.path&&qr(e,n.parameters)}class R6{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),v_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=va(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Pt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=va(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new J8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Q8(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(v_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),v_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class C_{constructor(e,n){this.routes=e,this.module=n}}function Qi(t){return"function"==typeof t}function Ns(t){return t instanceof Rs}const Ol=Symbol("INITIAL_VALUE");function Pl(){return Ms(t=>function(...t){const e=Iu(t),n=lT(t),{args:r,keys:i}=AM(t);if(0===r.length)return bt([],e);const s=new ke(function(t,e,n=ps){return r=>{DR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)DR(e,()=>{const l=bt(t[u],e);let c=!1;l.subscribe(new wt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>xM(i,o):ps));return n?s.pipe(SM(n)):s}(t.map(e=>e.pipe(rd(1),function(...t){const e=Iu(t);return Ot((n,r)=>{(e?d_(t,n,e):d_(t,n)).subscribe(r)})}(Ol)))).pipe(SR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Ol?i:(s===Ol&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ns(s)?i:s),e)},Ol),ma(e=>e!==Ol),Ae(e=>Ns(e)?e:!0===e),rd(1)))}class V6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fl,this.attachRef=null}}class Fl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new V6,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let D_=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.name=s||ae,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new U6(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I(Fl),I(wr),I(ia),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(jT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ct(),t)}("name"),I(yy))},t.\u0275dir=G({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class U6{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===wa?this.route:e===Fl?this.childContexts:this.parent.get(e,n)}}let ok=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Fe(0,"router-outlet")},directives:[D_],encapsulation:2}),t})();function ak(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];B6(r,j6(e,r))}}function B6(t,e){t.children&&ak(t.children,e)}function j6(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function T_(t){const e=t.children&&t.children.map(T_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=ok),n}function sr(t){return t.outlet||ae}function uk(t,e){const n=t.filter(r=>sr(r)===e);return n.push(...t.filter(r=>sr(r)!==e)),n}const lk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},lk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||e6)(n,t,e);if(!s)return Object.assign({},lk);const o={};Pt(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function $h(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Hh(t,e,r)&&sr(r)!==ae)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ae]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&sr(s)!==ae){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[sr(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Hh(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Hh(t,n,a)&&!i[sr(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[sr(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ck(t,e,n,r){return!!(sr(t)===r||r!==ae&&Hh(e,n,t))&&("**"===t.path||jh(e,t,n).matched)}function dk(t,e,n){return 0===e.length&&!t.children[n]}class Ll{constructor(e){this.segmentGroup=e||null}}class hk{constructor(e){this.urlTree=e}}function qh(t){return new ke(e=>e.error(new Ll(t)))}function fk(t){return new ke(e=>e.error(new hk(t)))}function W6(t){return new ke(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Q6{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(li)}apply(){const e=$h(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ae).pipe(Ae(s=>this.createUrlTree(A_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ki(s=>{if(s instanceof hk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ll?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ae).pipe(Ae(i=>this.createUrlTree(A_(i),e.queryParams,e.fragment))).pipe(Ki(i=>{throw i instanceof Ll?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ae]:e}):e;return new Rs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Ae(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bt(i).pipe(Sl(s=>{const o=r.children[s],a=uk(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ae(u=>({segment:u,outlet:s})))}),SR((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ma((i,s)=>t(i,s,r)):ps,h_(1),n?MR(e):xR(()=>new kh))}())}expandSegment(e,n,r,i,s,o){return bt(r).pipe(Sl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ki(l=>{if(l instanceof Ll)return ie(null);throw l}))),ya(a=>!!a),Ki((a,u)=>{if(a instanceof kh||"EmptyError"===a.name){if(dk(n,i,s))return ie(new de([],{}));throw new Ll(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return ck(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):qh(n):qh(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fk(s):this.lineralizeSegments(r,s).pipe(Et(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:l,positionalParamSegments:c}=jh(n,i,s);if(!a)return qh(n);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?fk(d):this.lineralizeSegments(i,d).pipe(Et(h=>this.expandSegment(e,n,r,h.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ie(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ae(h=>(r._loadedConfig=h,new de(i,{})))):ie(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=jh(n,r,i);if(!o)return qh(n);const l=i.slice(u);return this.getChildConfig(e,r,i).pipe(Et(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=$h(n,a,l,f),v=new de(p.segments,p.children);if(0===_.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(Ae(U=>new de(a,U)));if(0===f.length&&0===_.length)return ie(new de(a,{}));const b=sr(r)===s;return this.expandSegment(h,v,f,_,b?ae:s,!0).pipe(Ae(M=>new de(a.concat(M.segments),M.children)))}))}getChildConfig(e,n,r){return n.children?ie(new C_(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ie(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Et(i=>{return i?this.configLoader.load(e.injector,n).pipe(Ae(s=>(n._loadedConfig=s,s))):(t=n,new ke(e=>e.error(p_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):ie(new C_([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ie(i.map(o=>{const a=e.get(o);let u;if((t=a)&&Qi(t.canLoad))u=a.canLoad(n,r);else{if(!Qi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var t;return Gr(u)})).pipe(Pl(),bn(o=>{if(!Ns(o))return;const a=p_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ae(o=>!0===o)):ie(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ae])return W6(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Rs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Pt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Pt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function A_(t){const e={};for(const r of Object.keys(t.children)){const s=A_(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class pk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gh{constructor(e,n){this.component=e,this.route=n}}function X6(t,e,n){const r=t._root;return Vl(r,e?e._root:null,n,[r.value])}function Wh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=va(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(t.url,e.url)||!qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w_(t,e)||!qr(t.queryParams,e.queryParams);default:return!w_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gh(a.outlet.component,o))}else o&&Ul(e,a,i),i.canActivateChecks.push(new pk(r)),Vl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Pt(s,(o,a)=>Ul(o,n.getContext(a),i)),i}function Ul(t,e,n){const r=va(t),i=t.value;Pt(r,(s,o)=>{Ul(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class d7{}function gk(t){return new ke(e=>e.error(t))}class f7{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=$h(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ae);if(null===n)return null;const r=new Vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gi(r,n),s=new ZR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=XR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=uk(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=mk(r);return i.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return dk(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!ck(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?VR(r).parameters:{};s=new Vh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vk(e),sr(e),e.component,e,yk(n),_k(n)+r.length,wk(e))}else{const f=jh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Vh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vk(e),sr(e),e.component,e,yk(n),_k(n)+o.length,wk(e))}const u=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:l,slicedSegments:c}=$h(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var t;if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new gi(s,f)]}if(0===u.length&&0===c.length)return[new gi(s,[])];const d=sr(e)===i,h=this.processSegment(u,l,c,d?ae:i);return null===h?null:[new gi(s,h)]}}function m7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mk(t){const e=[],n=new Set;for(const r of t){if(!m7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=mk(r.children);e.push(new gi(r.value,i))}return e.filter(r=>!n.has(r))}function yk(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _k(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vk(t){return t.data||{}}function wk(t){return t.resolve||{}}function S_(t){return Ms(e=>{const n=t(e);return n?bt(n).pipe(Ae(()=>e)):ie(e)})}class C7 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const x_=new Z("ROUTES");class Ek{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Ae(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new C_(LR(o.injector.get(x_,void 0,J.Self|J.Optional)).map(T_),o)}),Ki(s=>{throw n._loader$=void 0,s}));return n._loader$=new F8(i,()=>new Zr).pipe(AR()),n._loader$}loadModuleFactory(e){return Gr(e()).pipe(Et(n=>n instanceof q1?ie(n):bt(this.compiler.compileModuleAsync(n))))}}class T7{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function A7(t){throw t}function S7(t,e,n){return e.parse("/")}function bk(t,e){return ie(null)}const x7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zr,this.errorHandler=A7,this.malformedUriErrorHandler=S7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bk,afterPreactivation:bk},this.urlHandlingStrategy=new T7,this.routeReuseStrategy=new C7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(li),this.console=o.get(Dx);const d=o.get(Be);this.isNgZoneEnabled=d instanceof Be&&Be.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Rs(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ek(o,a,h=>this.triggerEvent(new kR(h)),h=>this.triggerEvent(new NR(h))),this.routerState=JR(this.currentUrlTree,this.rootComponentType),this.transitions=new Cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ma(i=>0!==i.id),Ae(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ms(i=>{let s=!1,o=!1;return ie(i).pipe(bn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ms(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return zh(a.source)&&(this.browserUrlTree=a.extractedUrl),ie(a).pipe(Ms(d=>{const h=this.transitions.getValue();return r.next(new f_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ti:Promise.resolve(d)}),function(t,e,n,r){return Ms(i=>function(t,e,n,r,i){return new Q6(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Ae(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Et(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new f7(t,e,n,r,i,s).recognize();return null===o?gk(new d7):ie(o)}catch(o){return gk(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Ae(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),bn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new H8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:v}=a,b=new f_(h,this.serializeUrl(f),p,_);r.next(b);const w=JR(f,this.rootComponentType).snapshot;return ie(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ti}),S_(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),bn(a=>{const u=new q8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ae(a=>Object.assign(Object.assign({},a),{guards:X6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ie(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return bt(t).pipe(Et(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const u=Wh(a,e,i);let l;if(function(t){return t&&Qi(t.canDeactivate)}(u))l=Gr(u.canDeactivate(t,e,n,r));else{if(!Qi(u))throw new Error("Invalid CanDeactivate guard");l=Gr(u(t,e,n,r))}return l.pipe(ya())})).pipe(Pl()):ie(!0)}(i.component,i.route,n,e,r)),ya(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return bt(e).pipe(Sl(i=>d_(function(t,e){return null!==t&&e&&e(new K8(t)),ie(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new Y8(t)),ie(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>TR(()=>ie(o.guards.map(u=>{const l=Wh(u,o.node,n);let c;if(function(t){return t&&Qi(t.canActivateChild)}(l))c=Gr(l.canActivateChild(r,t));else{if(!Qi(l))throw new Error("Invalid CanActivateChild guard");c=Gr(l(r,t))}return c.pipe(ya())})).pipe(Pl())));return ie(s).pipe(Pl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>TR(()=>{const o=Wh(s,e,n);let a;if(function(t){return t&&Qi(t.canActivate)}(o))a=Gr(o.canActivate(e,t));else{if(!Qi(o))throw new Error("Invalid CanActivate guard");a=Gr(o(e,t))}return a.pipe(ya())}));return ie(i).pipe(Pl())}(t,i.route,n))),ya(i=>!0!==i,!0))}(r,s,t,e):ie(a)),Ae(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),bn(a=>{if(Ns(a.guardsResult)){const l=p_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new G8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ma(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),S_(a=>{if(a.guards.canActivateChecks.length)return ie(a).pipe(bn(u=>{const l=new W8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Ms(u=>{let l=!1;return ie(u).pipe(function(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let s=0;return bt(i).pipe(Sl(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ie({});const s={};return bt(i).pipe(Et(o=>function(t,e,n,r){const i=Wh(t,e,r);return Gr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(bn(a=>{s[o]=a}))),h_(1),Et(()=>Object.keys(s).length===i.length?ie(s):ti))}(t._resolve,t,e,r).pipe(Ae(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),XR(t,n).resolve),null)))}(o.route,r,t,e)),bn(()=>s++),h_(1),Et(o=>s===i.length?ie(n):ti))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),bn(u=>{const l=new z8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),S_(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ae(a=>{const u=function(t,e,n){const r=kl(t,e._root,n?n._root:void 0);return new YR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),bn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Ae(r=>(new R6(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),bn({next(){s=!0},complete(){s=!0}}),function(t){return Ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ki(a=>{if(o=!0,function(t){return t&&t[PR]}(a)){const u=Ns(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new RR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zh(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new $8(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return ti}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){ak(n),this.config=n.map(T_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return E_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Pt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new nk(n,e,r)}(n);if(s.toRoot())return E_(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new b_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new b_(s,s===e.root,0)}const r=Uh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new b_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Bh(o.segmentGroup,o.index,s.commands):rk(o.segmentGroup,o.index,s.commands);return E_(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ns(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},x7):!1===r?Object.assign({},M7):r,Ns(n))return BR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return BR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new xl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,l;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=zh(r)&&c&&!zh(c.source),h=c.rawUrl.toString()===n.toString(),f=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let _,v,b;o?(_=o.resolve,v=o.reject,b=o.promise):b=new Promise((U,X)=>{_=U,v=X});const w=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):M=0,this.setTransition({id:w,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:_,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(U=>Promise.reject(U))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new RR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Nm()},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();function zh(t){return"imperative"!==t}let Yi=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Zr,this.subscription=n.events.subscribe(s=>{s instanceof xl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ea(this.skipLocationChange),replaceUrl:Ea(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ea(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(Ct),I(wa),I(da))},t.\u0275dir=G({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Ur("target",r.target)("href",r.href,Lg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Fn]}),t})();function Ea(t){return""===t||!!t}class Ik{}class Ck{preload(e,n){return ie(null)}}let Dk=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new Ek(i,r,u=>n.triggerEvent(new kR(u)),u=>n.triggerEvent(new NR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ma(n=>n instanceof xl),Sl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(li);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return bt(i).pipe(bu(),Ae(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ie(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Et(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)($(Ct),$(sh),$(ht),$(Ik))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})(),R_=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof f_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof OR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new OR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Nm()},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();const Os=new Z("ROUTER_CONFIGURATION"),Tk=new Z("ROUTER_FORROOT_GUARD"),P7=[Cy,{provide:qR,useClass:GR},{provide:Ct,useFactory:function(t,e,n,r,i,s,o={},a,u){const l=new Ct(null,t,e,n,r,i,LR(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[qR,Fl,Cy,ht,sh,x_,Os,[class{},new Je],[class{},new Je]]},Fl,{provide:wa,useFactory:function(t){return t.routerState.root},deps:[Ct]},Dk,Ck,class{preload(e,n){return n().pipe(Ki(()=>ie(null)))}},{provide:Os,useValue:{enableTracing:!1}}];function F7(){return new Rx("Router",Ct)}let Ak=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[P7,Sk(n),{provide:Tk,useFactory:U7,deps:[[Ct,new Je,new No]]},{provide:Os,useValue:r||{}},{provide:da,useFactory:V7,deps:[Ds,[new Bu(Iy),new Je],Os]},{provide:R_,useFactory:L7,deps:[Ct,Qz,Os]},{provide:Ik,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ck},{provide:Rx,multi:!0,useFactory:F7},[k_,{provide:ih,multi:!0,useFactory:H7,deps:[k_]},{provide:xk,useFactory:q7,deps:[k_]},{provide:Cx,multi:!0,useExisting:xk}]]}}static forChild(n){return{ngModule:t,providers:[Sk(n)]}}}return t.\u0275fac=function(n){return new(n||t)($(Tk,8),$(Ct,8))},t.\u0275mod=On({type:t}),t.\u0275inj=_n({}),t})();function L7(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new R_(t,e,n)}function V7(t,e,n={}){return n.useHash?new xW(t,e):new Zx(t,e)}function U7(t){return"guarded"}function Sk(t){return[{provide:ZU,multi:!0,useValue:t},{provide:x_,multi:!0,useValue:t}]}let k_=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zr}appInitializer(){return this.injector.get(TW,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Ct),o=this.injector.get(Os);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Os),i=this.injector.get(Dk),s=this.injector.get(R_),o=this.injector.get(Ct),a=this.injector.get(hl);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)($(ht))},t.\u0275prov=ue({token:t,factory:t.\u0275fac}),t})();function H7(t){return t.appInitializer.bind(t)}function q7(t){return t.bootstrapListener.bind(t)}const xk=new Z("Router Initializer");function W7(t,e){1&t&&(m(0,"div"),S(1,"Date is required"),y())}function z7(t,e){if(1&t&&(m(0,"div",16),Y(1,W7,2,0,"div",14),y()),2&t){const n=mr();O(1),L("ngIf",n.f.orderDateSelector.errors.required)}}function K7(t,e){1&t&&(m(0,"div"),S(1,"Please select a valid date."),y())}const Q7=function(t){return{"is-invalid":t}};let Y7=(()=>{class t{constructor(n,r){this.formBuilder=n,this.router=r,this.orderDetailsForm=fi,this.submitted=!1,this.maxDate=new Date,this.dateError=!1}get f(){return this.orderDetailsForm.controls}onSubmit(){this.submitted=!0,this.orderDetailsForm.invalid||(new Date(this.orderDetailsForm.value.orderDateSelector)>new Date?this.dateError=!0:this.submitted&&(this.dateError=!1,this.router.navigate(["/view-orders"])))}ngOnInit(){this.orderDetailsForm=this.formBuilder.group({orderDateSelector:["",[gt.required]]})}goToVerifyUsersCom(){this.router.navigate(["/view-users"])}goToUsersCom(){this.router.navigate(["/view-users"])}goToOrdersCom(){this.router.navigate(["/view-orders"])}}return t.\u0275fac=function(n){return new(n||t)(I(Rh),I(Ct))},t.\u0275cmp=sn({type:t,selectors:[["app-admin-home"]],decls:29,vars:6,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-3","display-6","text-center"],[1,"p-4","d-flex","justify-content-center"],[1,"btn","btn-primary","btn-block","text-uppercase","rounded-pill","shadow-sm",3,"click"],[1,"p-1","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","orderDateSelector","type","date","formControlName","orderDateSelector","placeholder","Select a date","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),S(7,"Welcome Admin"),y(),Fe(8,"hr"),y(),m(9,"div",7),m(10,"button",8),Te("click",function(){return r.goToVerifyUsersCom()}),S(11,"Verify New Users "),y(),y(),m(12,"div",7),m(13,"button",8),Te("click",function(){return r.goToUsersCom()}),S(14,"View Verified Users "),y(),y(),m(15,"div",7),m(16,"button",8),Te("click",function(){return r.goToOrdersCom()}),S(17,"View Today's Orders "),y(),y(),Fe(18,"hr"),m(19,"div",9),m(20,"form",10),Te("ngSubmit",function(){return r.onSubmit()}),m(21,"div",11),m(22,"div",11),Fe(23,"input",12),Y(24,z7,2,1,"div",13),Y(25,K7,2,0,"div",14),y(),y(),m(26,"div",7),m(27,"button",15),S(28,"View Orders "),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(20),L("formGroup",r.orderDetailsForm),O(3),L("ngClass",vr(4,Q7,r.submitted&&r.f.orderDateSelector.errors)),O(1),L("ngIf",r.submitted&&r.f.orderDateSelector.errors),O(1),L("ngIf",r.dateError))},directives:[Tl,El,Ss,As,wl,ga,xs,ml,ha],styles:[""]}),t})();function Mk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Mk(s,r,i,o,a,"next",u)}function a(u){Mk(s,r,i,o,a,"throw",u)}o(void 0)})}}const O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ok(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function Kh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Pk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fk(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ba(){return"object"==typeof indexedDB}function Qh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function L_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}}class Wr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(a5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new mi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const a5=/\{\$([^}]+)}/g;function Jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Vk(s)&&Vk(o)){if(!Jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vk(t){return null!==t&&"object"==typeof t}function Xh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function jl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class c5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=V_),void 0===i.error&&(i.error=V_),void 0===i.complete&&(i.complete=V_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V_(){}function B_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ps="[DEFAULT]";class y5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ps})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ps?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const j_=[];var ge=(()=>{return(t=ge||(ge={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ge;var t})();const Uk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},E5=ge.INFO,b5={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},I5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=b5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ia{constructor(e){this.name=e,this._logLevel=E5,this._logHandler=I5,this._userLogHandler=null,j_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}class C5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $_="@firebase/app",H_=new Ia("@firebase/app"),q_="[DEFAULT]",J5={[$_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fs=new Map,Zh=new Map;function X5(t,e){try{t.container.addComponent(e)}catch(n){H_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){const e=t.name;if(Zh.has(e))return H_.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(const n of Fs.values())X5(n,t);return!0}function Ca(t,e){return t.container.getProvider(e)}const $l=new Wr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class eK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $l.create("app-deleted",{appName:this._name})}}const Da="9.6.1";function jk(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:q_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw $l.create("bad-app-name",{appName:String(r)});const i=Fs.get(r);if(i){if(Jh(t,i.options)&&Jh(n,i.config))return i;throw $l.create("duplicate-app",{appName:r})}const s=new w5(r);for(const a of Zh.values())s.addComponent(a);const o=new eK(t,n,s);return Fs.set(r,o),o}function G_(t=q_){const e=Fs.get(t);if(!e)throw $l.create("no-app",{appName:t});return e}function $k(){return Array.from(Fs.values())}function ze(t,e,n){var r;let i=null!==(r=J5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void H_.warn(a.join(" "))}In(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function qk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}In(new hn("platform-logger",e=>new C5(e),"PRIVATE")),ze($_,"0.7.11",""),ze($_,"0.7.11","esm2017"),ze("fire-js","");const iK=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kk=new Wr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qk=new Ia("@firebase/auth");function tf(t,...e){Qk.logLevel<=ge.ERROR&&Qk.error(`Auth (9.6.1): ${t}`,...e)}function Cn(t,...e){throw K_(t,...e)}function zr(t,...e){return K_(t,...e)}function Yk(t,e,n){const r=Object.assign(Object.assign({},iK()),{[e]:n});return new Wr("auth","Firebase",r).create(e,{appName:t.name})}function K_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kk.create(t,...e)}function x(t,e,...n){if(!t)throw K_(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tf(e),new Error(e)}function Ji(t,e){t||Kr(e)}const Jk=new Map;function yi(t){Ji(t instanceof Function,"Expected a class definition");let e=Jk.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jk.set(t,e),e)}function Hl(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Xk(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Ok()||Pk()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Xk()||"https:"===Xk()||Kh()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Y_(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cK=new ql(3e4,6e4);function mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tt(t,e,n,r){return J_.apply(this,arguments)}function J_(){return J_=g(function*(t,e,n,r,i={}){return eN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Xh(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Zk.fetch()(tN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),J_.apply(this,arguments)}function eN(t,e,n){return X_.apply(this,arguments)}function X_(){return X_=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lK),e);try{const i=new dK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw nf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw nf(t,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Yk(t,c,l);Cn(t,c)}}catch(i){if(i instanceof mi)throw i;Cn(t,"network-request-failed")}}),X_.apply(this,arguments)}function _i(t,e,n,r){return Z_.apply(this,arguments)}function Z_(){return Z_=g(function*(t,e,n,r,i={}){const s=yield Tt(t,e,n,r,i);return"mfaPendingCredential"in s&&Cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),Z_.apply(this,arguments)}function tN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Y_(t.config,i):`${t.config.apiScheme}://${i}`}class dK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"timeout")),cK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function ev(){return ev=g(function*(t,e){return Tt(t,"POST","/v1/accounts:delete",e)}),ev.apply(this,arguments)}function pK(t,e){return nv.apply(this,arguments)}function nv(){return nv=g(function*(t,e){return Tt(t,"POST","/v1/accounts:lookup",e)}),nv.apply(this,arguments)}function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function rv(){return rv=g(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=rf(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gl(iv(i.auth_time)),issuedAtTime:Gl(iv(i.iat)),expirationTime:Gl(iv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),rv.apply(this,arguments)}function iv(t){return 1e3*Number(t)}function rf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return O_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(tf("Failed to decode base64 JWT payload"),null)}catch(i){return tf("Caught error parsing JWT payload as JSON",i),null}}function vi(t,e){return sv.apply(this,arguments)}function sv(){return sv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof mi&&yK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),sv.apply(this,arguments)}function yK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class _K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class nN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wl(t){return ov.apply(this,arguments)}function ov(){return ov=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield vi(t,pK(n,{idToken:r}));x(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?EK(s.providerUserInfo):[],a=wK(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),ov.apply(this,arguments)}function av(){return av=g(function*(t){const e=Hn(t);yield Wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),av.apply(this,arguments)}function wK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EK(t){return t.map(e=>{var{providerId:n}=e,r=qk(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function uv(){return uv=g(function*(t,e){const n=yield eN(t,{},g(function*(){const r=Xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zk.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),uv.apply(this,arguments)}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(void 0!==e.idToken,"internal-error"),x(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=rf(t);return x(e,"internal-error"),x(void 0!==e.exp,"internal-error"),x(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return uv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zl;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function Xi(t,e){x("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new nN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield vi(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return rv.apply(this,arguments)}(this,e)}reload(){return function(t){return av.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Wl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield vi(e,function(t,e){return ev.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,_=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,b=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:M,emailVerified:U,isAnonymous:X,providerData:vt,stsTokenManager:Qn}=n;x(M&&Qn,e,"internal-error");const Jc=zl.fromJSON(this.name,Qn);x("string"==typeof M,e,"internal-error"),Xi(d,e.name),Xi(h,e.name),x("boolean"==typeof U,e,"internal-error"),x("boolean"==typeof X,e,"internal-error"),Xi(f,e.name),Xi(p,e.name),Xi(_,e.name),Xi(v,e.name),Xi(b,e.name),Xi(w,e.name);const ho=new Ls({uid:M,auth:e,email:h,emailVerified:U,displayName:d,isAnonymous:X,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:Jc,createdAt:b,lastLoginAt:w});return vt&&Array.isArray(vt)&&(ho.providerData=vt.map(Xc=>Object.assign({},Xc))),v&&(ho._redirectEventId=v),ho}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new zl;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wl(s),s})()}}const rN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=sf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ls._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Aa(yi(rN),e,r);const i=(yield Promise.all(n.map(function(){var l=g(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||yi(rN);const o=sf(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=yield l._get(o);if(c){const d=Ls._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=g(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new Aa(s,e,r)):new Aa(s,e,r)})()}}function iN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lN(e))return"Blackberry";if(cN(e))return"Webos";if(lv(e))return"Safari";if((e.includes("chrome/")||oN(e))&&!e.includes("edge/"))return"Chrome";if(uN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function sN(t=Dt()){return/firefox\//i.test(t)}function lv(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oN(t=Dt()){return/crios\//i.test(t)}function aN(t=Dt()){return/iemobile/i.test(t)}function uN(t=Dt()){return/android/i.test(t)}function lN(t=Dt()){return/blackberry/i.test(t)}function cN(t=Dt()){return/webos/i.test(t)}function of(t=Dt()){return/iphone|ipad|ipod/i.test(t)}function dN(t=Dt()){return of(t)||uN(t)||cN(t)||lN(t)||/windows phone/i.test(t)||aN(t)}function hN(t,e=[]){let n;switch(t){case"Browser":n=iN(Dt());break;case"Worker":n=`${iN(Dt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class TK{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fN(this),this.idTokenSubscription=new fN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Aa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Wl(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Hn(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&x(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(yi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&yi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Aa.create(n,[yi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function Dn(t){return Hn(t)}class fN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new c5(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class mN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}function dv(){return dv=g(function*(t,e){return Tt(t,"POST","/v1/accounts:update",e)}),dv.apply(this,arguments)}function fv(){return fv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithPassword",mt(t,e))}),fv.apply(this,arguments)}function vv(){return vv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))}),vv.apply(this,arguments)}function wv(){return wv=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))}),wv.apply(this,arguments)}class Kl extends mN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function(t,e){return fv.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return vv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Cn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function(t,e){return dv.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return wv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Cn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function wi(t,e){return Ev.apply(this,arguments)}function Ev(){return Ev=g(function*(t,e){return _i(t,"POST","/v1/accounts:signInWithIdp",mt(t,e))}),Ev.apply(this,arguments)}class Jl{constructor(e){var n,r,i,s,o,a;const u=Bl(jl(e)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);x(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=Bl(jl(t)).link,n=e?Bl(jl(e)).deep_link_id:null,r=Bl(jl(t)).deep_link_id;return(r?Bl(jl(r)).link:null)||r||n||e||t}(e);try{return new Jl(n)}catch(r){return null}}}let vN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Kl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Jl.parseLink(r);return x(i,"argument-error"),Kl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class GK extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function wN(t,e){return Av.apply(this,arguments)}function Av(){return Av=g(function*(t,e){return _i(t,"POST","/v1/accounts:signUp",mt(t,e))}),Av.apply(this,arguments)}class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Ls._fromIdTokenResponse(e,r,i),o=EN(r);return new or({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=EN(r);return new or({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function EN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class lf extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lf(e,n,r,i)}}function bN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?lf._fromErrorAndOperation(t,s,e,r):s})}function Mv(t,e){return Rv.apply(this,arguments)}function Rv(){return Rv=g(function*(t,e,n=!1){const r=yield vi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return or._forOperation(t,"link",r)}),Rv.apply(this,arguments)}function Nv(){return Nv=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield vi(t,bN(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=rf(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),or._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Cn(r,"user-mismatch"),s}}),Nv.apply(this,arguments)}function DN(t,e){return Ov.apply(this,arguments)}function Ov(){return Ov=g(function*(t,e,n=!1){const r="signIn",i=yield bN(t,r,e),s=yield or._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),Ov.apply(this,arguments)}function Fv(){return Fv=g(function*(t,e){return DN(Dn(t),e)}),Fv.apply(this,arguments)}function Kv(){return Kv=g(function*(t,e,n){const r=Dn(t),i=yield wN(r,{returnSecureToken:!0,email:e,password:n}),s=yield or._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),Kv.apply(this,arguments)}function TN(t,e,n){return function(t,e){return Fv.apply(this,arguments)}(Hn(t),vN.credential(e,n))}new WeakMap;const hf="__sak";class SN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const h9=(()=>{class t extends SN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Dt();return lv(t)||of(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=dN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Fk()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xN=(()=>{class t extends SN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let p9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function lw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class g9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=lw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function yt(){return window}function cw(){return void 0!==yt().WorkerGlobalScope&&"function"==typeof yt().importScripts}function dw(){return(dw=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const MN="firebaseLocalStorageDb",ff="firebaseLocalStorage",RN="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function hw(){const t=indexedDB.open(MN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ff,{keyPath:RN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(MN);return new Zl(t).toPromise()}(),e(yield hw()))}))})}function kN(t,e,n){return fw.apply(this,arguments)}function fw(){return fw=g(function*(t,e,n){const r=pf(t,!0).put({[RN]:e,value:n});return new Zl(r).toPromise()}),fw.apply(this,arguments)}function pw(){return pw=g(function*(t,e){const n=pf(t,!1).get(e),r=yield new Zl(n).toPromise();return void 0===r?null:r.value}),pw.apply(this,arguments)}function NN(t,e){const n=pf(t,!0).delete(e);return new Zl(n).toPromise()}const D9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield hw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return cw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=p9._getInstance(cw()?self:null),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function(){return dw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new g9(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield hw();return yield kN(n,hf,"1"),yield NN(n,hf),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>kN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function(t,e){return pw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>NN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=pf(o,!1).getAll();return new Zl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function PN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Us(t,e){return e?yi(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}PN("rcb"),new ql(3e4,6e4);class Cw extends mN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $9(t){return DN(t.auth,new Cw(t),t.bypassAuthState)}function H9(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function(t,e){return Nv.apply(this,arguments)}(n,new Cw(t),t.bypassAuthState)}function q9(t){return Dw.apply(this,arguments)}function Dw(){return Dw=g(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),Mv(n,new Cw(t),t.bypassAuthState)}),Dw.apply(this,arguments)}new ql(2e3,1e4);const mf=new Map;class z9 extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(l))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $9;case"linkViaPopup":case"linkViaRedirect":return q9;case"reauthViaPopup":case"reauthViaRedirect":return H9;default:Cn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=mf.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return Mw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}mf.set(n.auth._key(),r)}return n.bypassAuthState||mf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Mw(){return Mw=g(function*(t,e){const n=VN(e),r=LN(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),Mw.apply(this,arguments)}function LN(t){return yi(t._redirectPersistence)}function VN(t){return sf("pendingRedirect",t.config.apiKey,t.name)}function UN(t,e){return Lw.apply(this,arguments)}function Lw(){return Lw=g(function*(t,e,n=!1){const r=Dn(t),i=Us(r,e),o=yield new z9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),Lw.apply(this,arguments)}class Z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $N(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$N(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jN(e))}saveEventToCache(e){this.cachedEventUids.add(jN(e)),this.lastProcessedEventTime=Date.now()}}function jN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $N({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function tQ(t){return Uw.apply(this,arguments)}function Uw(){return Uw=g(function*(t,e={}){return Tt(t,"GET","/v1/projects",e)}),Uw.apply(this,arguments)}const nQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rQ=/^https?/;function Bw(){return Bw=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield tQ(t);for(const n of e)try{if(sQ(n))return}catch(r){}Cn(t,"unauthorized-domain")}),Bw.apply(this,arguments)}function sQ(t){const e=Hl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!rQ.test(n))return!1;if(nQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const oQ=new ql(3e4,6e4);function HN(){const t=yt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let yf=null;function uQ(t){return yf=yf||function(t){return new Promise((e,n)=>{var r,i,s;function o(){HN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HN(),n(zr(t,"network-request-failed"))},timeout:oQ.get()})}if(null===(i=null===(r=yt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=yt().gapi)||void 0===s?void 0:s.load)){const a=PN("iframefcb");return yt()[a]=()=>{gapi.load?o():n(zr(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw yf=null,e})}(t),yf}const lQ=new ql(5e3,15e3),hQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pQ(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y_(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Da},i=fQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xh(r).slice(1)}`}function jw(){return jw=g(function*(t){const e=yield uQ(t),n=yt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:pQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hQ,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),u=yt().setTimeout(()=>{o(a)},lQ.get());function l(){yt().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),jw.apply(this,arguments)}const mQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function GN(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Da,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof GK){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?Y_(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Xh(a).slice(1)}`}const $w="webStorageSupport",AQ=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xN,this._completeRedirectFn=UN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ji(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=GN(e,n,r,Hl(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},mQ),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Dt().toLowerCase();n&&(a=oN(l)?"_blank":n),sN(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=Dt()){var e;return of(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new qN(null);const d=window.open(e||"",a,c);x(d,t,"popup-blocked");try{d.focus()}catch(h){}return new qN(d)}(e,a,lw())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function(t){yt().location.href=t}(GN(e,n,r,Hl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function(t){return jw.apply(this,arguments)}(e),i=new Z9(e);return r.register("authEvent",s=>(x(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($w,{type:$w},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[$w];void 0!==o&&n(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return Bw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dN()||lv()||of()}};var zN="@firebase/auth";class SQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _f(t=G_()){const e=Ca(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=Ca(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Jh(n.getOptions(),null!=e?e:{}))return i;Cn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:AQ,persistence:[D9,h9,xN]})}!function(t){In(new hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{x(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),x(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hN(t)},u=new TK(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new hn("auth-internal",e=>{const n=Dn(e.getProvider("auth").getImmediate());return new SQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(zN,"0.19.4",void 0),ze(zN,"0.19.4","esm2017")}("Browser"),ze("firebase","9.6.1","app");var P,NQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ei={},Hw=Hw||{},z=NQ||self;function vf(){}function qw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ec(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Gw="closure_uid_"+(1e9*Math.random()>>>0),PQ=0;function FQ(t,e,n){return t.call.apply(t.bind,arguments)}function LQ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FQ:LQ).apply(null,arguments)}function wf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Lt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}var UQ={};es.prototype.s=!1,es.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Gw)&&t[Gw]||(t[Gw]=++PQ)}(this);delete UQ[t]}},es.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},YN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function JN(t){return Array.prototype.concat.apply([],arguments)}function Ww(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ef(t){return/^[\s\xa0]*$/.test(t)}var pn,XN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fn(t,e){return-1!=t.indexOf(e)}function zw(t,e){return t<e?-1:t>e?1:0}e:{var ZN=z.navigator;if(ZN){var eO=ZN.userAgent;if(eO){pn=eO;break e}}pn=""}function Kw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tO(t){const e={};for(const n in t)e[n]=t[n];return e}var nO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<nO.length;s++)n=nO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qw(t){return Qw[" "](t),t}Qw[" "]=vf;var bf,$Q=fn(pn,"Opera"),Sa=fn(pn,"Trident")||fn(pn,"MSIE"),iO=fn(pn,"Edge"),Yw=iO||Sa,sO=fn(pn,"Gecko")&&!(fn(pn.toLowerCase(),"webkit")&&!fn(pn,"Edge"))&&!(fn(pn,"Trident")||fn(pn,"MSIE"))&&!fn(pn,"Edge"),HQ=fn(pn.toLowerCase(),"webkit")&&!fn(pn,"Edge");function oO(){var t=z.document;return t?t.documentMode:void 0}e:{var Jw="",Xw=function(){var t=pn;return sO?/rv:([^\);]+)(\)|;)/.exec(t):iO?/Edge\/([\d\.]+)/.exec(t):Sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):HQ?/WebKit\/(\S+)/.exec(t):$Q?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Xw&&(Jw=Xw?Xw[1]:""),Sa){var Zw=oO();if(null!=Zw&&Zw>parseFloat(Jw)){bf=String(Zw);break e}}bf=Jw}var qQ={};function GQ(){return e=qQ,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=XN(String(bf)).split("."),n=XN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=zw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||zw(0==i[2].length,0==s[2].length)||zw(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var WQ=z.document&&Sa&&(oO()||parseInt(bf,10))||void 0,zQ=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{z.addEventListener("test",vf,e),z.removeEventListener("test",vf,e)}catch(n){}return t}();function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function tc(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sO){e:{try{Qw(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:KQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tc.Z.h.call(this)}}Yt.prototype.h=function(){this.defaultPrevented=!0},Lt(tc,Yt);var KQ={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nc="closure_listenable_"+(1e6*Math.random()|0),QQ=0;function YQ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++QQ,this.ca=this.fa=!1}function If(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Cf(t){this.src=t,this.g={},this.h=0}function tE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(If(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function nE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Cf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=nE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new YQ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var rE="closure_lm_"+(1e6*Math.random()|0),iE={};function uO(t,e,n,r,i){if(r&&r.once)return cO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uO(t,e[s],n,r,i);return null}return n=uE(n),t&&t[nc]?t.N(e,n,ec(r)?!!r.capture:!!r,i):lO(t,e,n,!1,r,i)}function lO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ec(i)?!!i.capture:!!i,a=oE(t);if(a||(t[rE]=a=new Cf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=XQ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zQ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cO(t,e[s],n,r,i);return null}return n=uE(n),t&&t[nc]?t.O(e,n,ec(r)?!!r.capture:!!r,i):lO(t,e,n,!0,r,i)}function dO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dO(t,e[s],n,r,i);else r=ec(r)?!!r.capture:!!r,n=uE(n),t&&t[nc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=nE(s=t.g[e],n,r,i))&&(If(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=oE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nE(e,n,r,i)),(n=-1<t?e[t]:null)&&sE(n))}function sE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[nc])tE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oE(e))?(tE(n,t),0==n.h&&(n.src=null,e[rE]=null)):If(t)}}}function hO(t){return t in iE?iE[t]:iE[t]="on"+t}function XQ(t,e){if(t.ca)t=!0;else{e=new tc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&sE(t),t=n.call(r,e)}return t}function oE(t){return(t=t[rE])instanceof Cf?t:null}var aE="__closure_events_fn_"+(1e9*Math.random()>>>0);function uE(t){return"function"==typeof t?t:(t[aE]||(t[aE]=function(e){return t.handleEvent(e)}),t[aE])}function At(){es.call(this),this.i=new Cf(this),this.P=this,this.I=null}function Vt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;rO(e=new Yt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Df(o,r,!0,e)&&i}if(i=Df(o=e.g=t,r,!0,e)&&i,i=Df(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Df(o=e.g=n[s],r,!1,e)&&i}function Df(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&tE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Lt(At,es),At.prototype[nc]=!0,At.prototype.removeEventListener=function(t,e,n,r){dO(this,t,e,n,r)},At.prototype.M=function(){if(At.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)If(n[r]);delete t.g[e],t.h--}}this.I=null},At.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var lE=z.JSON.stringify;function ZQ(){var t=pO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var dE,fO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new tY,t=>t.reset());class tY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nY(t){z.setTimeout(()=>{throw t},0)}function cE(t,e){dE||function(){var t=z.Promise.resolve(void 0);dE=function(){t.then(iY)}}(),hE||(dE(),hE=!0),pO.add(t,e)}var hE=!1,pO=new class{constructor(){this.h=this.g=null}add(e,n){const r=fO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function iY(){for(var t;t=ZQ();){try{t.h.call(t.g)}catch(n){nY(n)}var e=fO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hE=!1}function Tf(t,e){At.call(this),this.h=t||1,this.g=e||z,this.j=Ft(this.kb,this),this.l=Date.now()}function fE(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function pE(t,e,n){if("function"==typeof t)n&&(t=Ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:z.setTimeout(t,e||0)}function gO(t){t.g=pE(()=>{t.g=null,t.i&&(t.i=!1,gO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Lt(Tf,At),(P=Tf.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vt(this,"tick"),this.da&&(fE(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){Tf.Z.M.call(this),fE(this),delete this.g};class sY extends es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gO(this)}M(){super.M(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(t){es.call(this),this.h=t,this.g={}}Lt(rc,es);var mO=[];function yO(t,e,n,r){Array.isArray(n)||(n&&(mO[0]=n.toString()),n=mO);for(var i=0;i<n.length;i++){var s=uO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _O(t){Kw(t.g,function(e,n){this.g.hasOwnProperty(n)&&sE(e)},t),t.g={}}function Af(){this.g=!0}function xa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}rc.prototype.M=function(){rc.Z.M.call(this),_O(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Af.prototype.Aa=function(){this.g=!1},Af.prototype.info=function(){};var Bs={},vO=null;function Sf(){return vO=vO||new At}function wO(t){Yt.call(this,Bs.Ma,t)}function ic(t){const e=Sf();Vt(e,new wO(e,t))}function EO(t,e){Yt.call(this,Bs.STAT_EVENT,t),this.stat=e}function gn(t){const e=Sf();Vt(e,new EO(e,t))}function bO(t,e){Yt.call(this,Bs.Na,t),this.size=e}function sc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){t()},e)}Bs.Ma="serverreachability",Lt(wO,Yt),Bs.STAT_EVENT="statevent",Lt(EO,Yt),Bs.Na="timingevent",Lt(bO,Yt);var xf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},IO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gE(){}function DO(){}gE.prototype.h=null;var _E,oc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mE(){Yt.call(this,"d")}function yE(){Yt.call(this,"c")}function Mf(){}function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new rc(this),this.P=cY,this.W=new Tf(t=Yw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new TO}function TO(){this.i=null,this.g="",this.h=!1}Lt(mE,Yt),Lt(yE,Yt),Lt(Mf,gE),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},_E=new Mf;var cY=45e3,vE={},Rf={};function wE(t,e,n){t.K=1,t.v=Ff(bi(e)),t.s=n,t.U=!0,AO(t,null)}function AO(t,e){t.F=Date.now(),uc(t),t.A=bi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),FO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new TO,t.g=sP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new sY(Ft(t.Ia,t,t.g),t.O)),yO(t.V,t.g,"readystatechange",t.gb),e=t.H?tO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ic(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function SO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function xO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=dY(t,n),i==Rf){4==e&&(t.o=4,gn(14),r=!1),xa(t.j,t.m,null,"[Incomplete Response]");break}if(i==vE){t.o=4,gn(15),xa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}xa(t.j,t.m,i,null),EE(t,i)}SO(t)&&i!=Rf&&i!=vE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kE(e),e.L=!0,gn(11))):(xa(t.j,t.m,n,"[Invalid Chunked Response]"),js(t),lc(t))}function dY(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Rf:(n=Number(e.substring(n,r)),isNaN(n)?vE:(r+=1)+n>e.length?Rf:(e=e.substr(r,n),t.C=r+n,e))}function uc(t){t.Y=Date.now()+t.P,MO(t,t.P)}function MO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=sc(Ft(t.eb,t),e)}function kf(t){t.B&&(z.clearTimeout(t.B),t.B=null)}function lc(t){0==t.l.G||t.I||tP(t.l,t)}function js(t){kf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,fE(t.W),_O(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function EE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||CE(n.i,t)))if(n.I=t.N,!t.J&&CE(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sc(Ft(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;$f(n),Bf(n)}RE(n),gn(18)}if(1>=UO(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else qs(n,11)}else if((t.J||n.g==t)&&$f(n),!Ef(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(fn(p,"spdy")||fn(p,"quic")||fn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(DE(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Ve(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=iP(r,r.H?r.la:null,r.W),o.J){BO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(kf(a),uc(a)),r.g=o}else ZO(r);0<n.l.length&&jf(n)}else"stop"!=l[0]&&"close"!=l[0]||qs(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?qs(n,7):xE(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}ic(4)}catch(l){}}function bE(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qw(t)||"string"==typeof t)YN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(qw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(qw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ma(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ma)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function IE(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];$s(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)$s(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(P=ac.prototype).setTimeout=function(t){this.P=t},P.gb=function(t){t=t.target;const e=this.L;e&&3==Ii(t)?e.l():this.Ia(t)},P.Ia=function(t){try{if(t==this.g)e:{const c=Ii(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||Yw||this.g&&(this.h.h||this.g.ga()||KO(this.g)))){this.I||4!=c||7==e||ic(8==e||0>=d?3:2),kf(this);var n=this.g.ba();this.N=n;t:if(SO(this)){var r=KO(this.g);t="";var i=r.length,s=4==Ii(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){js(this),lc(this);var o="";break t}this.h.i=new z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ef(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,gn(12),js(this),lc(this);break e}xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,EE(this,n)}this.U?(xO(this,c,o),Yw&&this.i&&3==c&&(yO(this.V,this.W,"tick",this.fb),this.W.start())):(xa(this.j,this.m,o,null),EE(this,o)),4==c&&js(this),this.i&&!this.I&&(4==c?tP(this.l,this):(this.i=!1,uc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),js(this),lc(this)}}}catch(c){}},P.fb=function(){if(this.g){var t=Ii(this.g),e=this.g.ga();this.C<e.length&&(kf(this),xO(this,t,e),this.i&&4!=t&&uc(this))}},P.cancel=function(){this.I=!0,js(this)},P.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ic(3),gn(17)),js(this),this.o=2,lc(this)):MO(this,this.Y-t)},(P=Ma.prototype).R=function(){IE(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},P.T=function(){return IE(this),this.g.concat()},P.get=function(t,e){return $s(this.h,t)?this.h[t]:e},P.set=function(t,e){$s(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},P.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var RO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Hs){this.g=void 0!==e?e:t.g,Nf(this,t.j),this.s=t.s,Of(this,t.i),Pf(this,t.m),this.l=t.l,e=t.h;var n=new hc;n.i=e.i,e.g&&(n.g=new Ma(e.g),n.h=e.h),kO(this,n),this.o=t.o}else t&&(n=String(t).match(RO))?(this.g=!!e,Nf(this,n[1]||"",!0),this.s=cc(n[2]||""),Of(this,n[3]||"",!0),Pf(this,n[4]),this.l=cc(n[5]||"",!0),kO(this,n[6]||"",!0),this.o=cc(n[7]||"")):(this.g=!!e,this.h=new hc(null,this.g))}function bi(t){return new Hs(t)}function Nf(t,e,n){t.j=n?cc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Of(t,e,n){t.i=n?cc(e,!0):e}function Pf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kO(t,e,n){e instanceof hc?(t.h=e,function(t,e){e&&!t.j&&(ts(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OO(this,r),FO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=dc(e,vY)),t.h=new hc(e,t.g))}function Ve(t,e,n){t.h.set(e,n)}function Ff(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mY(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dc(e,NO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(dc(e,NO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(dc(n,"/"==n.charAt(0)?_Y:yY,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dc(n,wY)),t.join("")};var NO=/[#\/\?@]/g,yY=/[#\?:]/g,_Y=/[#\?]/g,vY=/[#\?@]/g,wY=/#/g;function hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ts(t){t.g||(t.g=new Ma,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OO(t,e){ts(t),e=Ra(t,e),$s(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,$s((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&IE(t)))}function PO(t,e){return ts(t),e=Ra(t,e),$s(t.g.h,e)}function FO(t,e,n){OO(t,e),0<n.length&&(t.i=null,t.g.set(Ra(t,e),Ww(n)),t.h+=n.length)}function Ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LO(t){this.l=t||IY,t=z.PerformanceNavigationTiming?0<(t=z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(z.g&&z.g.Ea&&z.g.Ea()&&z.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=hc.prototype).add=function(t,e){ts(this),this.i=null,t=Ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){ts(this),this.g.forEach(function(n,r){YN(n,function(i){t.call(e,i,r,this)},this)},this)},P.T=function(){ts(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},P.R=function(t){ts(this);var e=[];if("string"==typeof t)PO(this,t)&&(e=JN(e,this.g.get(Ra(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=JN(e,t[n])}return e},P.set=function(t,e){return ts(this),this.i=null,PO(this,t=Ra(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var IY=10;function VO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UO(t){return t.h?1:t.g?t.g.size:0}function CE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function DE(t,e){t.g?t.g.add(e):t.h=e}function BO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ww(t.i)}function TE(){}function CY(){this.g=new TE}function DY(t,e,n){const r=n||"";try{bE(t,function(i,s){let o=i;ec(i)&&(o=lE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function fc(t){this.l=t.$b||null,this.j=t.ib||!1}function Vf(t,e){At.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=AE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LO.prototype.cancel=function(){if(this.i=jO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},TE.prototype.stringify=function(t){return z.JSON.stringify(t,void 0)},TE.prototype.parse=function(t){return z.JSON.parse(t,void 0)},Lt(fc,gE),fc.prototype.g=function(){return new Vf(this.l,this.j)},fc.prototype.i=function(t){return function(){return t}}({}),Lt(Vf,At);var AE=0;function $O(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=Vf.prototype).open=function(t,e){if(this.readyState!=AE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pc(this)),this.readyState=AE},P.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==z.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$O(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},P.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pc(this):gc(this),3==this.readyState&&$O(this)}},P.Ua=function(t){this.g&&(this.response=this.responseText=t,pc(this))},P.Ta=function(t){this.g&&(this.response=t,pc(this))},P.ha=function(){this.g&&pc(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var AY=z.JSON.parse;function st(t){At.call(this),this.headers=new Ma,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HO,this.K=this.L=!1}Lt(st,At);var HO="",SY=/^https?$/i,xY=["POST","PUT"];function RY(t){return"content-type"==t.toLowerCase()}function qO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GO(t),Uf(t)}function GO(t){t.D||(t.D=!0,Vt(t,"complete"),Vt(t,"error"))}function WO(t){if(t.h&&void 0!==Hw&&(!t.C[1]||4!=Ii(t)||2!=t.ba()))if(t.v&&4==Ii(t))pE(t.Fa,0,t);else if(Vt(t,"readystatechange"),4==Ii(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(RO)[1]||null;if(!i&&z.self&&z.self.location){var s=z.self.location.protocol;i=s.substr(0,s.length-1)}r=!SY.test(i?i.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",GO(t)}}finally{Uf(t)}}}function Uf(t,e){if(t.g){zO(t);const n=t.g,r=t.C[0]?vf:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function zO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(z.clearTimeout(t.A),t.A=null)}function Ii(t){return t.g?t.g.readyState:0}function KO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case HO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function SE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return Kw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QO(t){this.za=0,this.l=[],this.h=new Af,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mc("baseRetryDelayMs",5e3,t),this.$a=mc("retryDelaySeedMs",1e4,t),this.Ya=mc("forwardChannelMaxRetries",2,t),this.ra=mc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new LO(t&&t.concurrentRequestLimit),this.Ca=new CY,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function xE(t){if(YO(t),3==t.G){var e=t.V++,n=bi(t.F);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),yc(t,n),(e=new ac(t,t.h,e,void 0)).K=2,e.v=Ff(bi(n)),n=!1,z.navigator&&z.navigator.sendBeacon&&(n=z.navigator.sendBeacon(e.v.toString(),"")),!n&&z.Image&&((new Image).src=e.v,n=!0),n||(e.g=sP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),uc(e)}rP(t)}function Bf(t){t.g&&(kE(t),t.g.cancel(),t.g=null)}function YO(t){Bf(t),t.u&&(z.clearTimeout(t.u),t.u=null),$f(t),t.i.cancel(),t.m&&("number"==typeof t.m&&z.clearTimeout(t.m),t.m=null)}function ME(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&jf(t)}function jf(t){VO(t.i)||t.m||(t.m=!0,cE(t.Ha,t),t.C=0)}function JO(t,e){var n;n=e?e.m:t.V++;const r=bi(t.F);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.U),yc(t,r),t.o&&t.s&&SE(r,t.o,t.s),n=new ac(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=XO(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),DE(t.i,n),wE(n,r,e)}function yc(t,e){t.j&&bE({},function(n,r){Ve(e,r,n)})}function XO(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ft(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{DY(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function ZO(t){t.g||t.u||(t.Y=1,cE(t.Ga,t),t.A=0)}function RE(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=sc(Ft(t.Ga,t),nP(t,t.A)),t.A++,0))}function kE(t){null!=t.B&&(z.clearTimeout(t.B),t.B=null)}function eP(t){t.g=new ac(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=bi(t.oa);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.N?"0":"1"),Ve(e,"AID",t.U),yc(t,e),Ve(e,"TYPE","xmlhttp"),t.o&&t.s&&SE(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ff(bi(e)),n.s=null,n.U=!0,AO(n,t)}function $f(t){null!=t.v&&(z.clearTimeout(t.v),t.v=null)}function tP(t,e){var n=null;if(t.g==e){$f(t),kE(t),t.g=null;var r=2}else{if(!CE(t.i,e))return;n=e.D,BO(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Vt(r=Sf(),new bO(r,n,e,i)),jf(t)}else ZO(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(UO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=sc(Ft(t.Ha,t,e),nP(t,t.C)),t.C++,0)))}(t,e)||2==r&&RE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qs(t,5);break;case 4:qs(t,10);break;case 3:qs(t,6);break;default:qs(t,2)}}function nP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function qs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ft(t.jb,t);n||(n=new Hs("//www.google.com/images/cleardot.gif"),z.location&&"http"==z.location.protocol||Nf(n,"https"),Ff(n)),function(t,e){const n=new Af;if(z.Image){const r=new Image;r.onload=wf(Lf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wf(Lf,n,r,"TestLoadImage: error",!1,e),r.onabort=wf(Lf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wf(Lf,n,r,"TestLoadImage: timeout",!1,e),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gn(2);t.G=0,t.j&&t.j.va(e),rP(t),YO(t)}function rP(t){t.G=0,t.I=-1,t.j&&((0!=jO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Ww(t.l),t.l.length=0),t.j.ua())}function iP(t,e,n){let r=function(t){return t instanceof Hs?bi(t):new Hs(t,void 0)}(n);if(""!=r.i)e&&Of(r,e+"."+r.i),Pf(r,r.m);else{const i=z.location;r=function(t,e,n,r){var i=new Hs(null,void 0);return t&&Nf(i,t),e&&Of(i,e),n&&Pf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Kw(t.aa,function(i,s){Ve(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ve(r,e,n),Ve(r,"VER",t.ma),yc(t,r),r}function sP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new st(n&&t.Ba&&!t.qa?new fc({ib:!0}):t.qa)).L=t.H,e}function oP(){}function Hf(){if(Sa&&!(10<=Number(WQ)))throw Error("Environmental error: no available transport.")}function qn(t,e){At.call(this),this.g=new QO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ef(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ef(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ka(this)}function aP(t){mE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uP(){yE.call(this),this.status=1}function ka(t){this.g=t}(P=st.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_E.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:_E),this.g.onreadystatechange=Ft(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void qO(this,s)}t=n||"";const i=new Ma(this.headers);r&&bE(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=RY;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=z.FormData&&t instanceof z.FormData,!(0<=QN(xY,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zO(this),0<this.B&&((this.K=function(t){return Sa&&GQ()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.pa,this)):this.A=pE(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qO(this,s)}},P.pa=function(){void 0!==Hw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Uf(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uf(this,!0)),st.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?WO(this):this.cb())},P.cb=function(){WO(this)},P.ba=function(){try{return 2<Ii(this)?this.g.status:-1}catch(t){return-1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},P.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),AY(e)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=QO.prototype).ma=8,P.G=1,P.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},P.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ac(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=tO(s),rO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XO(this,i,e),Ve(n=bi(this.F),"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),yc(this,n),this.o&&s&&SE(n,this.o,s),DE(this.i,i),this.Ra&&Ve(n,"TYPE","init"),this.ja?(Ve(n,"$req",e),Ve(n,"SID","null"),i.$=!0,wE(i,n,null)):wE(i,n,e),this.G=2}}else 3==this.G&&(t?JO(this,t):0==this.l.length||VO(this.i)||JO(this))},P.Ga=function(){if(this.u=null,eP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=sc(Ft(this.bb,this),t)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gn(10),Bf(this),eP(this))},P.ab=function(){null!=this.v&&(this.v=null,Bf(this),RE(this),gn(19))},P.jb=function(t){t?(this.h.info("Successfully pinged google.com"),gn(2)):(this.h.info("Failed to ping google.com"),gn(1))},(P=oP.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},Hf.prototype.g=function(t,e){return new qn(t,e)},Lt(qn,At),qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),cE(Ft(t.hb,t,e))),gn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=iP(t,null,t.W),jf(t)},qn.prototype.close=function(){xE(this.g)},qn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,ME(this.g,e)}else this.v?((e={}).__data__=lE(t),ME(this.g,e)):ME(this.g,t)},qn.prototype.M=function(){this.g.j=null,delete this.j,xE(this.g),delete this.g,qn.Z.M.call(this)},Lt(aP,mE),Lt(uP,yE),Lt(ka,oP),ka.prototype.xa=function(){Vt(this.g,"a")},ka.prototype.wa=function(t){Vt(this.g,new aP(t))},ka.prototype.va=function(t){Vt(this.g,new uP(t))},ka.prototype.ua=function(){Vt(this.g,"b")},Hf.prototype.createWebChannel=Hf.prototype.g,qn.prototype.send=qn.prototype.u,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,xf.NO_ERROR=0,xf.TIMEOUT=8,xf.HTTP_ERROR=6,IO.COMPLETE="complete",DO.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",At.prototype.listen=At.prototype.N,st.prototype.listenOnce=st.prototype.O,st.prototype.getLastError=st.prototype.La,st.prototype.getLastErrorCode=st.prototype.Da,st.prototype.getStatus=st.prototype.ba,st.prototype.getResponseJson=st.prototype.Qa,st.prototype.getResponseText=st.prototype.ga,st.prototype.send=st.prototype.ea;var OY=Ei.createWebChannelTransport=function(){return new Hf},PY=Ei.getStatEventTarget=function(){return Sf()},NE=Ei.ErrorCode=xf,FY=Ei.EventType=IO,LY=Ei.Event=Bs,lP=Ei.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VY=Ei.FetchXmlHttpFactory=fc,qf=Ei.WebChannel=DO,UY=Ei.XhrIo=st;const cP="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let Na="9.6.1";const ns=new Ia("@firebase/firestore");function OE(){return ns.logLevel}function A(t,...e){if(ns.logLevel<=ge.DEBUG){const n=e.map(PE);ns.debug(`Firestore (${Na}): ${t}`,...n)}}function ot(t,...e){if(ns.logLevel<=ge.ERROR){const n=e.map(PE);ns.error(`Firestore (${Na}): ${t}`,...n)}}function Gf(t,...e){if(ns.logLevel<=ge.WARN){const n=e.map(PE);ns.warn(`Firestore (${Na}): ${t}`,...n)}}function PE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function B(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw ot(e),new Error(e)}function q(t,e){t||B()}function R(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class St{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class $Y{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new St;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new St,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(g(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new St)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new dP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Ut(e)}}class HY{constructor(e,n,r){this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class qY{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new HY(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GY{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q("string"==typeof n.token),new hP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Gn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function WY(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Gn.I=-1;class fP{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Oa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Bt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _c{constructor(e,n,r){void 0===n?n=0:n>e.length&&B(),void 0===r?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===_c.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends _c{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const zY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends _c{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return zY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class Pa{constructor(e){this.fields=e,e.sort(Jt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const KY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(q(!!t),"string"==typeof t){let e=0;const n=KY.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fa(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function FE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yP(t){const e=t.mapValue.fields.__previous_value__;return FE(e)?yP(e):e}function vc(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}function Ws(t){return null==t}function Wf(t){return 0===t&&1/t==-1/0}class V{constructor(e){this.path=e}static fromPath(e){return new V(ve.fromString(e))}static fromName(e){return new V(ve.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new ve(e.slice()))}}function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FE(t)?4:10:B()}function Qr(t,e){const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=rs(r.timestampValue),o=rs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Fa(t.bytesValue).isEqual(Fa(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return at(r.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return at(r.integerValue)===at(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=at(r.doubleValue),o=at(i.doubleValue);return s===o?Wf(s)===Wf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Oa(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gP(s)!==gP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Qr(s[a],o[a])))return!1;return!0}(t,e);default:return B()}var i}function wc(t,e){return void 0!==(t.values||[]).find(n=>Qr(n,e))}function La(t,e){const n=zs(t),r=zs(e);if(n!==r)return he(n,r);switch(n){case 0:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=at(i.integerValue||i.doubleValue),a=at(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vP(t.timestampValue,e.timestampValue);case 4:return vP(vc(t),vc(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Fa(i),a=Fa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=he(o[u],a[u]);if(0!==l)return l}return he(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=he(at(i.latitude),at(s.latitude));return 0!==o?o:he(at(i.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=La(o[u],a[u]);if(l)return l}return he(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=he(a[c],l[c]);if(0!==d)return d;const h=La(o[a[c]],u[l[c]]);if(0!==h)return h}return he(a.length,l.length)}(t.mapValue,e.mapValue);default:throw B()}}function vP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=rs(t),r=rs(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function LE(t){return VE(t)}function VE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=rs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fa(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VE(r.fields[a])}`;return s+"}"}(t.mapValue):B();var e}function zf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UE(t){return!!t&&"integerValue"in t}function BE(t){return!!t&&"arrayValue"in t}function wP(t){return!!t&&"nullValue"in t}function EP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ec(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Ec(this.value))}}function bP(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new Jt([n]);if(Kf(r)){const s=bP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pa(e)}class Ue{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ue(e,0,ee.min(),Xt.empty(),0)}static newFoundDocument(e,n,r){return new Ue(e,1,n,r,0)}static newNoDocument(e,n){return new Ue(e,2,n,Xt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,Xt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ue(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class QY{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function IP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QY(t,e,n,r,i,s,o)}function bc(t){const e=R(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+LE(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ws(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jf(e.startAt)),e.endAt&&(n+="|ub:",n+=Jf(e.endAt)),e.R=n}return e.R}function Qf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!sJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Qr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TP(t.startAt,e.startAt)&&TP(t.endAt,e.endAt)}function Yf(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class mn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new XY(e,n,r):"array-contains"===n?new tJ(e,r):"in"===n?new nJ(e,r):"not-in"===n?new rJ(e,r):"array-contains-any"===n?new iJ(e,r):new mn(e,n,r)}static P(e,n,r){return"in"===n?new ZY(e,r):new eJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(La(n,this.value)):null!==n&&zs(this.value)===zs(n)&&this.v(La(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XY extends mn{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.v(n)}}class ZY extends mn{constructor(e,n){super(e,"in",n),this.keys=CP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eJ extends mn{constructor(e,n){super(e,"not-in",n),this.keys=CP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class tJ extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BE(n)&&wc(n.arrayValue,this.value)}}class nJ extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&wc(this.value.arrayValue,n)}}class rJ extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!wc(this.value.arrayValue,n)}}class iJ extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}}class Ic{constructor(e,n){this.position=e,this.before=n}}function Jf(t){return`${t.before?"b":"a"}:${t.position.map(e=>LE(e)).join(",")}`}class Va{constructor(e,n="asc"){this.field=e,this.dir=n}}function sJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function DP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):La(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function TP(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}class Ci{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Ua(t){return new Ci(t)}function Xf(t){return!Ws(t.limit)&&"F"===t.limitType}function Zf(t){return!Ws(t.limit)&&"L"===t.limitType}function jE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $E(t){for(const e of t.filters)if(e.V())return e.field;return null}function HE(t){return null!==t.collectionGroup}function Ba(t){const e=R(t);if(null===e.S){e.S=[];const n=$E(e),r=jE(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new Va(n)),e.S.push(new Va(Jt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Va(Jt.keyField(),s))}}}return e.S}function ar(t){const e=R(t);if(!e.D)if("F"===e.limitType)e.D=IP(e.path,e.collectionGroup,Ba(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ba(e))n.push(new Va(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ic(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Ic(e.startAt.position,!e.startAt.before):null;e.D=IP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function Cc(t,e){return Qf(ar(t),ar(e))&&t.limitType===e.limitType}function xP(t){return`${bc(ar(t))}|lt:${t.limitType}`}function qE(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${LE(r.value)}`;var r}).join(", ")}]`),Ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+Jf(t.startAt)),t.endAt&&(e+=", endAt: "+Jf(t.endAt)),`Target(${e})`}(ar(t))}; limitType=${t.limitType})`}function Dc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!DP(n.startAt,Ba(n),r)||n.endAt&&DP(n.endAt,Ba(n),r)));var n,r}function MP(t){return(e,n)=>{let r=!1;for(const i of Ba(t)){const s=oJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function oJ(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?La(a,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}function RP(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function NP(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?kP(e):RP(t,e)}class ep{constructor(){this._=void 0}}function aJ(t,e,n){return t instanceof ja?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ks?PP(t,e):t instanceof Qs?FP(t,e):function(r,i){const s=OP(r,i),o=LP(s)+LP(r.N);return UE(s)&&UE(r.N)?kP(o):RP(r.k,o)}(t,e)}function uJ(t,e,n){return t instanceof Ks?PP(t,e):t instanceof Qs?FP(t,e):n}function OP(t,e){return t instanceof $a?UE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ja extends ep{}class Ks extends ep{constructor(e){super(),this.elements=e}}function PP(t,e){const n=VP(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends ep{constructor(e){super(),this.elements=e}}function FP(t,e){let n=VP(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class $a extends ep{constructor(e,n){super(),this.k=e,this.N=n}}function LP(t){return at(t.integerValue||t.doubleValue)}function VP(t){return BE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cJ{constructor(e,n){this.version=e,this.transformResults=n}}class ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ut}static exists(e){return new ut(void 0,e)}static updateTime(e){return new ut(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class np{}function dJ(t,e,n){t instanceof Ac?function(r,i,s){const o=r.value.clone(),a=$P(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!tp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=$P(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(jP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function GE(t,e,n){var i;t instanceof Ac?function(r,i,s){if(!tp(r.precondition,i))return;const o=r.value.clone(),a=HP(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(BP(i),o).setHasLocalMutations()}(t,e,n):t instanceof is?function(r,i,s){if(!tp(r.precondition,i))return;const o=HP(r.fieldTransforms,s,i),a=i.data;a.setAll(jP(r)),a.setAll(o),i.convertToFoundDocument(BP(i),a).setHasLocalMutations()}(t,e,n):tp(t.precondition,i=e)&&i.convertToNoDocument(ee.min())}function hJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OP(r.transform,i||null);null!=s&&(null==n&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function UP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Oa(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ks&&r instanceof Ks||n instanceof Qs&&r instanceof Qs?Oa(n.elements,r.elements,Qr):n instanceof $a&&r instanceof $a?Qr(n.N,r.N):n instanceof ja&&r instanceof ja);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function BP(t){return t.isFoundDocument()?t.version:ee.min()}class Ac extends np{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class is extends np{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function jP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $P(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uJ(o,a,n[i]))}return r}function HP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aJ(s,o,e))}return r}class Sc extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class WE extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class fJ{constructor(e){this.count=e}}var lt,me;function qP(t){switch(t){default:return B();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function GP(t){if(void 0===t)return ot("GRPC error has no .code"),E.UNKNOWN;switch(t){case lt.OK:return E.OK;case lt.CANCELLED:return E.CANCELLED;case lt.UNKNOWN:return E.UNKNOWN;case lt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case lt.INTERNAL:return E.INTERNAL;case lt.UNAVAILABLE:return E.UNAVAILABLE;case lt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case lt.NOT_FOUND:return E.NOT_FOUND;case lt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case lt.ABORTED:return E.ABORTED;case lt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case lt.DATA_LOSS:return E.DATA_LOSS;default:return B()}}(me=lt||(lt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class _t{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rp(this.root,e,this.comparator,!0)}}class rp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:jt.RED,this.left=null!=i?i:jt.EMPTY,this.right=null!=s?s:jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WP(this.data.getIterator())}getIteratorFrom(e){return new WP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class WP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const pJ=new _t(V.comparator);function ur(){return pJ}const gJ=new _t(V.comparator);function zE(){return gJ}const mJ=new _t(V.comparator);const yJ=new Ke(V.comparator);function Ee(...t){let e=yJ;for(const n of t)e=e.add(n);return e}const _J=new Ke(he);function ip(){return _J}class xc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n)),new xc(ee.min(),r,ip(),ur(),Ee())}}class Mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Mc(xt.EMPTY_BYTE_STRING,n,Ee(),Ee(),Ee())}}class sp{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.F=i}}class KP{constructor(e,n){this.targetId=e,this.O=n}}class QP{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YP{constructor(){this.M=0,this.L=XP(),this.B=xt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Ee(),n=Ee(),r=Ee();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Mc(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=XP()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class vJ{constructor(e){this.et=e,this.nt=new Map,this.st=ur(),this.it=JP(),this.rt=new Ke(he)}ot(e){for(const n of e.$)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.O.count,i=this.wt(n);if(i){const s=i.target;if(Yf(s))if(0===r){const o=new V(s.path);this.ct(n,o,Ue.newNoDocument(o,ee.min()))}else q(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Yf(a.target)){const u=new V(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Ue.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=Ee();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new xc(e,n,this.rt,this.st,r);return this.st=ur(),this.it=JP(),this.rt=new Ke(he),i}at(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new YP,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Ke(he),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new YP),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function JP(){return new _t(V.comparator)}function XP(){return new _t(V.comparator)}const wJ={asc:"ASCENDING",desc:"DESCENDING"},EJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bJ{constructor(e,n){this.databaseId=e,this.C=n}}function Rc(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZP(t,e){return t.C?e.toBase64():e.toUint8Array()}function IJ(t,e){return Rc(t,e.toTimestamp())}function Mt(t){return q(!!t),ee.fromTimestamp(function(e){const n=rs(e);return new Bt(n.seconds,n.nanos)}(t))}function KE(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function eF(t){const e=ve.fromString(t);return q(hF(e)),e}function kc(t,e){return KE(t.databaseId,e.path)}function Yr(t,e){const n=eF(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(nF(n))}function QE(t,e){return KE(t.databaseId,e)}function Nc(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nF(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rF(t,e,n){return{name:kc(t,e),fields:n.value.mapValue.fields}}function oF(t,e){return{documents:[QE(t,e.path)]}}function aF(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=QE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=QE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(l=>function(c){if("=="===c.op){if(EP(c.value))return{unaryFilter:{field:Ha(c.field),op:"IS_NAN"}};if(wP(c.value))return{unaryFilter:{field:Ha(c.field),op:"IS_NULL"}}}else if("!="===c.op){if(EP(c.value))return{unaryFilter:{field:Ha(c.field),op:"IS_NOT_NAN"}};if(wP(c.value))return{unaryFilter:{field:Ha(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(c.field),op:xJ(c.op),value:c.value}}}(l));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Ha((l=u).field),direction:SJ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Ws(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=cF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cF(e.endAt)),n}function uF(t){let e=function(t){const e=eF(t);return 4===e.length?ve.emptyPath():nF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=lF(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new Va(qa((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Ws(d)?null:d}(n.limit));let u=null;n.startAt&&(u=dF(n.startAt));let l=null;return n.endAt&&(l=dF(n.endAt)),function(t,e,n,r,i,s,o,a){return new Ci(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function lF(t){return t?void 0!==t.unaryFilter?[RJ(t)]:void 0!==t.fieldFilter?[MJ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>lF(e)).reduce((e,n)=>e.concat(n)):B():[]}function cF(t){return{before:t.before,values:t.position}}function dF(t){return new Ic(t.values||[],!!t.before)}function SJ(t){return wJ[t]}function xJ(t){return EJ[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function qa(t){return Jt.fromServerFormat(t.fieldPath)}function MJ(t){return mn.create(qa(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(t.fieldFilter.op),t.fieldFilter.value)}function RJ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=qa(t.unaryFilter.field);return mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=qa(t.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qa(t.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qa(t.unaryFilter.field);return mn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function kJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fF(e)),e=NJ(t.get(n),e);return fF(e)}function NJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function fF(t){return t+"\x01\x01"}class Wn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Wn.store="owner",Wn.key="owner";class ss{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}ss.store="mutationQueues",ss.keyPath="userId";class Oe{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Oe.store="mutations",Oe.keyPath="batchId",Oe.userMutationsIndex="userMutationsIndex",Oe.userMutationsKeyPath=["userId","batchId"];class Zt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Dr(n)]}static key(e,n,r){return[e,Dr(n),r]}}Zt.store="documentMutations",Zt.PLACEHOLDER=new Zt;class Qe{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Qe.store="remoteDocuments",Qe.readTimeIndex="readTimeIndex",Qe.readTimeIndexPath="readTime",Qe.collectionReadTimeIndex="collectionReadTimeIndex",Qe.collectionReadTimeIndexPath=["parentPath","readTime"];class Jr{constructor(e){this.byteSize=e}}Jr.store="remoteDocumentGlobal",Jr.key="remoteDocumentGlobalKey";class Tn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Tn.store="targets",Tn.keyPath="targetId",Tn.queryTargetsIndexName="queryTargetsIndex",Tn.queryTargetsKeyPath=["canonicalId","targetId"];class $t{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}$t.store="targetDocuments",$t.keyPath=["targetId","path"],$t.documentTargetsIndex="documentTargetsIndex",$t.documentTargetsKeyPath=["path","targetId"];class zn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}zn.key="targetGlobalKey",zn.store="targetGlobal";class Ys{constructor(e,n){this.collectionId=e,this.parent=n}}Ys.store="collectionParents",Ys.keyPath=["collectionId","parent"];class Ti{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Ti.store="clientMetadata",Ti.keyPath="clientId";class Ga{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ga.store="bundles",Ga.keyPath="bundleId";class Wa{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Wa.store="namedQueries",Wa.keyPath="name";const pF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Js(t){return"IndexedDbTransactionError"===t.name}class JE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dJ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&GE(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&GE(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(n,r)=>UP(n,r))&&Oa(this.baseMutations,e.baseMutations,(n,r)=>UP(n,r))}}class XE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=mJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new XE(e,n,r,i)}}class os{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=xt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yF{constructor(e){this.Gt=e}}function tb(t){const e=uF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class $J{constructor(){this.zt=new nb}addToCollectionParentIndex(e,n){return this.zt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.zt.getEntries(n))}}class nb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(ve.comparator)).toArray()}}class Sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Zs{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Zs(0)}static re(){return new Zs(-1)}}function eo(t){return ib.apply(this,arguments)}function ib(){return ib=g(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==pF)throw t;A("LocalStore","Unexpectedly lost primary lease")}),ib.apply(this,arguments)}class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mP(this.inner)}}class kF{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Pn(e,n,r))}Pn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return V.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):HE(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new V(n)).next(r=>{let i=zE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=zE();return this.Jt.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const u=(l=n,c=a.child(i),new Ci(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.Cn(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const l of u.mutations){const c=l.key;let d=i.get(c);null==d&&(d=Ue.newInvalidDocument(c),i=i.insert(c,d)),GE(l,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{Dc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=Ee();for(const o of n)for(const a of o.mutations)a instanceof is&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class ub{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ub(e,n.fromCache,r,i)}}class NF{Fn(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ee.min())?this.Mn(e,n):this.On.vn(e,i).next(s=>{const o=this.Ln(n,s);return(Xf(n)||Zf(n))&&this.Bn(n.limitType,o,i,r)?this.Mn(e,n):(OE()<=ge.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qE(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Ke(MP(e));return n.forEach((i,s)=>{Dc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,n){return OE()<=ge.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",qE(n)),this.On.getDocumentsMatchingQuery(e,n,ee.min())}}class eX{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new _t(he),this.Kn=new Xa(s=>bc(s),Qf),this.jn=ee.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new kF(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function PF(t,e){return lb.apply(this,arguments)}function lb(){return lb=g(function*(t,e){const n=R(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new kF(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const l=[],c=[];let d=Ee();for(const h of a){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:l,addedBatchIds:c}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}),lb.apply(this,arguments)}function tX(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const _=u.docVersions.get(f);q(null!==_),p.version.compareTo(_)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&l.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function FF(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function nX(t,e){const n=R(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(n.He.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.He.addMatchingKeys(s,l.addedDocuments,c)));const h=l.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(c,f),p=d,v=l,q((_=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,f))}var p,_,v});let u=ur();if(e.documentUpdates.forEach((l,c)=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function(t,e,n,r,i){let s=Ee();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=ur();return n.forEach((u,l)=>{const c=o.get(u),d=(null==i?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,d),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l,d),a=a.insert(u,l)):A("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(l=>{u=l})),!r.isEqual(ee.min())){const l=n.He.getLastRemoteSnapshotVersion(s).next(c=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function rX(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function Za(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new os(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function eu(t,e,n){return cb.apply(this,arguments)}function cb(){return cb=g(function*(t,e,n){const r=R(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Js(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),cb.apply(this,arguments)}function hp(t,e,n){const r=R(t);let i=ee.min(),s=Ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=R(a),d=c.Kn.get(l);return void 0!==d?C.resolve(c.qn.get(d)):c.He.getTargetData(u,l)}(r,o,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:Ee())).next(a=>({documents:a,zn:s})))}class aX{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return C.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:Mt(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:tb(r.bundledQuery),readTime:Mt(r.readTime)}),C.resolve();var r}}class pb{constructor(){this.ts=new Ke(Rt.es),this.ns=new Ke(Rt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new Rt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new V(new ve([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new V(new ve([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=Ee();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return V.comparator(e.key,n.key)||he(e.fs,n.fs)}static ss(e,n){return he(e.fs,n.fs)||V.comparator(e.key,n.key)}}class uX{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Ke(Rt.es)}checkEmpty(e){return C.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new JE(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new Rt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return C.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return C.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(he);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),C.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new V(s),0);let a=new Ke(he);return this.ws.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.fs)),!0)},o),C.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return C.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new Rt(n,0),i=this.ws.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class lX{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new _t(V.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.clone():Ue.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Ue.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=ur();const s=new V(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:l}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;l.compareTo(r)<=0||Dc(n,u)&&(i=i.insert(u.key,u.clone()))}return C.resolve(i)}Es(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cX(this)}getSize(e){return C.resolve(this.size)}}class cX extends class{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ee.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Ue.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class dX{constructor(e){this.persistence=e,this.Is=new Xa(n=>bc(n),Qf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.As=0,this.Rs=new pb,this.targetCount=0,this.Ps=Zs.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),C.resolve()}ce(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ps=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ce(n),C.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Rs.containsKey(n))}}class hX{constructor(e,n){this.bs={},this.Be=new Gn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new dX(this),this.Jt=new $J,this.Je=new lX(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new yF(n),this.Ye=new aX(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new uX(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new fX(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return C.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class fX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class gb{constructor(e){this.persistence=e,this.Cs=new pb,this.Ns=null}static ks(e){return new gb(e)}get xs(){if(this.Ns)return this.Ns;throw B()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=V.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class _b{constructor(){this.activeTargetIds=ip()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $F{constructor(){this.pi=new _b,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new _b,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class pX{Ei(e){}shutdown(){}}class HF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mX{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class yX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);A("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw Gf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Mi}/v1/${n}:${gX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new UY;a.listenOnce(FY.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case NE.NO_ERROR:const l=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(l)),s(l);break;case NE.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case NE.HTTP_ERROR:const c=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new T(h,d.message))}else o(new T(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(E.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OY(),o=PY(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new VY({})),this.qi(a.initMessageHeaders,n,r),Ok()||Pk()||Dt().indexOf("Electron/")>=0||Fk()||Dt().indexOf("MSAppHost/")>=0||Kh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new mX({Vi:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(c||(A("Connection","Opening WebChannel transport."),l.open(),c=!0),A("Connection","WebChannel sending:",p),l.send(p))},Si:()=>l.close()}),f=(p,_,v)=>{p.listen(_,b=>{try{v(b)}catch(w){setTimeout(()=>{throw w},0)}})};return f(l,qf.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(l,qf.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.Fi())}),f(l,qf.EventType.ERROR,p=>{d||(d=!0,Gf("Connection","WebChannel transport errored:",p),h.Fi(new T(E.UNAVAILABLE,"The operation could not be completed")))}),f(l,qf.EventType.MESSAGE,p=>{var _;if(!d){const v=p.data[0];q(!!v);const b=v,w=b.error||(null===(_=b[0])||void 0===_?void 0:_.error);if(w){A("Connection","WebChannel received error:",w);const M=w.status;let U=function(vt){const Qn=lt[vt];if(void 0!==Qn)return GP(Qn)}(M),X=w.message;void 0===U&&(U=E.INTERNAL,X="Unknown error status: "+M+" with message "+w.message),d=!0,h.Fi(new T(U,X)),l.close()}else A("Connection","WebChannel received:",v),h.Oi(v)}}),f(o,LY.STAT_EVENT,p=>{p.stat===lP.PROXY?A("Connection","Detected buffering proxy"):p.stat===lP.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function gp(){return"undefined"!=typeof document?document:null}function Vc(t){return new bJ(t,!0)}class wb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class GF{constructor(e,n,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new wb(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return g(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return g(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return g(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(ot(n.toString()),ot("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new T(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(g(function*(){e.state=0,e.start()}))}Ar(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Oe.enqueueAndForget(()=>this.rr===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _X extends GF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:B(),i=e.targetChange.targetIds||[],s=function(u,l){return u.C?(q(void 0===l||"string"==typeof l),xt.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),xt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:GP(u.code);return new T(l,u.message||"")}(o);n=new QP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yr(t,r.document.name),s=Mt(r.document.updateTime),o=new Xt({mapValue:{fields:r.document.fields}}),a=Ue.newFoundDocument(i,s,o);n=new sp(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Yr(t,r.document),s=r.readTime?Mt(r.readTime):ee.min(),o=Ue.newNoDocument(i,s);n=new sp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Yr(t,r.document);n=new sp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,s=new fJ(r.count||0);n=new KP(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Mt(s.readTime):ee.min()}(e);return this.listener.Pr(n,r)}br(e){const n={};n.database=Nc(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=Yf(a)?{documents:oF(i,a)}:{query:aF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=ZP(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Rc(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=Nc(this.k),n.removeTarget=e,this.gr(n)}}class vX extends GF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(r,i){let s=Mt(r.updateTime?r.updateTime:i);return s.isEqual(ee.min())&&(s=Mt(i)),new cJ(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Mt(e.commitTime);return this.listener.Cr(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Nc(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Ac)n={update:rF(t,e.key,e.value)};else if(e instanceof Sc)n={delete:kc(t,e.key)};else if(e instanceof is)n={update:rF(t,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof WE))return B();n={verify:kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $a)return{fieldPath:s.field.canonicalString(),increment:o.N};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:IJ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:B()),n;var i}(this.k,r))};this.gr(n)}}class wX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}ji(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class EX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(ot(n),this.Lr=!1):A("OnlineStateTracker",n)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class bX{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(g(function*(){var u;cs(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(l){const c=R(l);c.Gr.add(4),yield tu(c),c.Jr.set("Unknown"),c.Gr.delete(4),yield Uc(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.Jr=new EX(r,i)}}function Uc(t){return Eb.apply(this,arguments)}function Eb(){return Eb=g(function*(t){if(cs(t))for(const e of t.zr)yield e(!0)}),Eb.apply(this,arguments)}function tu(t){return bb.apply(this,arguments)}function bb(){return bb=g(function*(t){for(const e of t.zr)yield e(!1)}),bb.apply(this,arguments)}function mp(t,e){const n=R(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),Db(n)?Cb(n):ru(n).lr()&&Ib(n,e))}function Bc(t,e){const n=R(t),r=ru(n);n.Wr.delete(e),r.lr()&&WF(n,e),0===n.Wr.size&&(r.lr()?r._r():cs(n)&&n.Jr.set("Unknown"))}function Ib(t,e){t.Yr.X(e.targetId),ru(t).br(e)}function WF(t,e){t.Yr.X(e),ru(t).vr(e)}function Cb(t){t.Yr=new vJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),ru(t).start(),t.Jr.Br()}function Db(t){return cs(t)&&!ru(t).hr()&&t.Wr.size>0}function cs(t){return 0===R(t).Gr.size}function zF(t){t.Yr=void 0}function IX(t){return Tb.apply(this,arguments)}function Tb(){return Tb=g(function*(t){t.Wr.forEach((e,n)=>{Ib(t,e)})}),Tb.apply(this,arguments)}function CX(t,e){return Ab.apply(this,arguments)}function Ab(){return Ab=g(function*(t,e){zF(t),Db(t)?(t.Jr.Kr(e),Cb(t)):t.Jr.set("Unknown")}),Ab.apply(this,arguments)}function DX(t,e,n){return Sb.apply(this,arguments)}function Sb(){return Sb=g(function*(t,e,n){if(t.Jr.set("Online"),e instanceof QP&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yp(t,r)}else if(e instanceof sp?t.Yr.ot(e):e instanceof KP?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(ee.min()))try{const r=yield FF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Wr.get(u);l&&i.Wr.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),WF(i,a);const l=new os(u.target,a,1,u.sequenceNumber);Ib(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield yp(t,r)}var r}),Sb.apply(this,arguments)}function yp(t,e,n){return xb.apply(this,arguments)}function xb(){return xb=g(function*(t,e,n){if(!Js(e))throw e;t.Gr.add(1),yield tu(t),t.Jr.set("Offline"),n||(n=()=>FF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield Uc(t)}))}),xb.apply(this,arguments)}function KF(t,e){return e().catch(n=>yp(t,n,e))}function nu(t){return Mb.apply(this,arguments)}function Mb(){return Mb=g(function*(t){const e=R(t),n=ds(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;TX(e);)try{const i=yield rX(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,AX(e,i)}catch(i){yield yp(e,i)}QF(e)&&YF(e)}),Mb.apply(this,arguments)}function TX(t){return cs(t)&&t.Qr.length<10}function AX(t,e){t.Qr.push(e);const n=ds(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function QF(t){return cs(t)&&!ds(t).hr()&&t.Qr.length>0}function YF(t){ds(t).start()}function SX(t){return Rb.apply(this,arguments)}function Rb(){return Rb=g(function*(t){ds(t).kr()}),Rb.apply(this,arguments)}function xX(t){return kb.apply(this,arguments)}function kb(){return kb=g(function*(t){const e=ds(t);for(const n of t.Qr)e.Dr(n.mutations)}),kb.apply(this,arguments)}function MX(t,e,n){return Nb.apply(this,arguments)}function Nb(){return Nb=g(function*(t,e,n){const r=t.Qr.shift(),i=XE.from(r,e,n);yield KF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield nu(t)}),Nb.apply(this,arguments)}function RX(t,e){return Ob.apply(this,arguments)}function Ob(){return Ob=g(function*(t,e){var n;e&&ds(t).Sr&&(yield(n=g(function*(r,i){if(qP(s=i.code)&&s!==E.ABORTED){const o=r.Qr.shift();ds(r).wr(),yield KF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield nu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),QF(t)&&YF(t)}),Ob.apply(this,arguments)}function Fb(){return Fb=g(function*(t,e){const n=R(t);e?(n.Gr.delete(2),yield Uc(n)):e||(n.Gr.add(2),yield tu(n),n.Jr.set("Unknown"))}),Fb.apply(this,arguments)}function ru(t){return t.Xr||(t.Xr=function(e,n,r){const i=R(e);return i.Fr(),new _X(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:IX.bind(null,t),Ni:CX.bind(null,t),Pr:DX.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Xr.wr(),Db(t)?Cb(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),zF(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function ds(t){return t.Zr||(t.Zr=function(e,n,r){const i=R(e);return i.Fr(),new vX(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:SX.bind(null,t),Ni:RX.bind(null,t),Nr:xX.bind(null,t),Cr:MX.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Zr.wr(),yield nu(t)):(yield t.Zr.stop(),t.Qr.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class Lb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Lb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iu(t,e){if(ot("AsyncQueue",`${e}: ${t}`),Js(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class su{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=zE(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class JF{constructor(){this.eo=new _t(V.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):B():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class ou{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ou(e,n,su.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class kX{constructor(){this.so=void 0,this.listeners=[]}}class NX{constructor(){this.queries=new Xa(e=>xP(e),Cc),this.onlineState="Unknown",this.io=new Set}}function Ub(){return Ub=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new kX),i)try{s.so=yield n.onListen(r)}catch(o){const a=iu(o,`Initialization of query '${qE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&$b(n)}),Ub.apply(this,arguments)}function jb(){return jb=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),jb.apply(this,arguments)}function OX(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&$b(n)}function PX(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $b(t){t.io.forEach(e=>{e.next()})}class Hb{constructor(e,n,r){this.query=e,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.ho(e)&&(this.ao.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class eL{constructor(e){this.key=e}}class tL{constructor(e){this.key=e}}class nL{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=Ee(),this.mutatedKeys=Ee(),this.Ao=MP(e),this.Ro=new su(this.Ao)}get Po(){return this.To}bo(e,n){const r=n?n.vo:new JF,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Xf(this.query)&&i.size===this.query.limit?i.last():null,l=Zf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Dc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.Ao(f,u)>0||l&&this.Ao(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||l)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),Xf(this.query)||Zf(this.query))for(;o.size>this.query.limit;){const c=Xf(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(d)-f(h)}(l.type,c.type)||this.Ao(l.doc,c.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new ou(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new JF,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Ee(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new tL(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new eL(r))}),n}ko(e){this.To=e.zn,this.Io=Ee();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return ou.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class VX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UX{constructor(e){this.key=e,this.$o=!1}}class BX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Xa(a=>xP(a),Cc),this.Mo=new Map,this.Lo=new Set,this.Bo=new _t(V.comparator),this.Uo=new Map,this.qo=new pb,this.Ko={},this.jo=new Map,this.Qo=Zs.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function jX(t,e){return qb.apply(this,arguments)}function qb(){return qb=g(function*(t,e){const n=fI(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Za(n.localStore,ar(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Gb(n,e,r,"current"===a),n.isPrimaryClient&&mp(n.remoteStore,o)}return i}),qb.apply(this,arguments)}function Gb(t,e,n,r){return Wb.apply(this,arguments)}function Wb(){return Wb=g(function*(t,e,n,r){t.Go=(c,d,h)=>{return(f=g(function*(p,_,v,b){let w=_.view.bo(v);w.Bn&&(w=yield hp(p.localStore,_.query,!1).then(({documents:X})=>_.view.bo(X,w)));const M=b&&b.targetChanges.get(_.targetId),U=_.view.applyChanges(w,p.isPrimaryClient,M);return nI(p,_.targetId,U.Co),U.snapshot}),function(p,_,v,b){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield hp(t.localStore,e,!0),s=new nL(e,i.zn),o=s.bo(i.documents),a=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);nI(t,n,u.Co);const l=new VX(e,n,s);return t.Oo.set(e,l),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}),Wb.apply(this,arguments)}function $X(t,e){return zb.apply(this,arguments)}function zb(){return zb=g(function*(t,e){const n=R(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(s=>!Cc(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield eu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bc(n.remoteStore,r.targetId),au(n,r.targetId)}).catch(eo))):(au(n,r.targetId),yield eu(n.localStore,r.targetId,!0))}),zb.apply(this,arguments)}function Kb(){return Kb=g(function*(t,e,n){const r=pI(t);try{const i=yield function(s,o){const a=R(s),u=Bt.now(),l=o.reduce((d,h)=>d.add(h.key),Ee());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,l).next(h=>{c=h;const f=[];for(const p of o){const _=hJ(p,c.get(p.key));null!=_&&f.push(new is(p.key,_,bP(_.value.mapValue),ut.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new _t(he)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ai(r,i.changes),yield nu(r.remoteStore)}catch(i){const s=iu(i,"Failed to persist write");n.reject(s)}}),Kb.apply(this,arguments)}function rL(t,e){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(t,e){const n=R(t);try{const r=yield nX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?q(o.$o):i.removedDocuments.size>0&&(q(o.$o),o.$o=!1))}),yield Ai(n,r,e)}catch(r){yield eo(r)}}),Qb.apply(this,arguments)}function iL(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.ro(o)&&(u=!0)}),u&&$b(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qX(t,e,n){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new _t(V.comparator);o=o.insert(s,Ue.newNoDocument(s,ee.min()));const a=Ee().add(s),u=new xc(ee.min(),new Map,new Ke(he),o,a);yield rL(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),rI(r)}else yield eu(r.localStore,e,!1).then(()=>au(r,e,n)).catch(eo)}),Yb.apply(this,arguments)}function GX(t,e){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield tX(n.localStore,e);tI(n,r,null),eI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ai(n,i)}catch(i){yield eo(i)}}),Jb.apply(this,arguments)}function WX(t,e,n){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.An.lookupMutationBatch(u,o).next(c=>(q(null!==c),l=c.keys(),a.An.removeMutationBatch(u,c))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,l))})}(r.localStore,e);tI(r,e,n),eI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ai(r,i)}catch(i){yield eo(i)}}),Xb.apply(this,arguments)}function eI(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function tI(t,e,n){const r=R(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||sL(t,r)})}function sL(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(Bc(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),rI(t))}function nI(t,e,n){for(const r of n)r instanceof eL?(t.qo.addReference(r.key,e),KX(t,r)):r instanceof tL?(A("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||sL(t,r.key)):B()}function KX(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(A("SyncEngine","New document in limbo: "+n),t.Lo.add(r),rI(t))}function rI(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new V(ve.fromString(e)),r=t.Qo.next();t.Uo.set(r,new UX(n)),t.Bo=t.Bo.insert(n,r),mp(t.remoteStore,new os(ar(Ua(n.path)),r,2,Gn.I))}}function Ai(t,e,n){return iI.apply(this,arguments)}function iI(){return iI=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=ub.$n(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=g(function*(u,l){const c=R(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(l,h=>C.forEach(h.kn,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.xn,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Js(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.qn=c.qn.insert(h,_)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),iI.apply(this,arguments)}function QX(t,e){return sI.apply(this,arguments)}function sI(){return sI=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield PF(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(n,r.Gn)}var i}),sI.apply(this,arguments)}function YX(t,e){const n=R(t),r=n.Uo.get(e);if(r&&r.$o)return Ee().add(r.key);{let i=Ee();const s=n.Mo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function fI(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qX.bind(null,e),e.Fo.Pr=OX.bind(null,e.eventManager),e.Fo.zo=PX.bind(null,e.eventManager),e}function pI(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WX.bind(null,e),e}class sZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.k=Vc(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new eX(t,e,n,r)}(this.persistence,new NF,e.initialUser,this.k)}Yo(e){return new hX(gb.ks,this.k)}Jo(e){return new $F}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gI{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>iL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=QX.bind(null,r.syncEngine),yield function(t,e){return Fb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NX}createDatastore(e){const n=Vc(e.databaseInfo.databaseId),r=new yX(e.databaseInfo);return new wX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>iL(this.syncEngine,a,0),o=HF.bt()?new HF:new pX,new bX(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new BX(r,i,s,o,a,u);return l&&(c.Wo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);A("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield tu(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class _p{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class dZ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=fP.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=iu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lL(t,e){return mI.apply(this,arguments)}function mI(){return mI=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield PF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),mI.apply(this,arguments)}function cL(t,e){return yI.apply(this,arguments)}function yI(){return yI=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield _I(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=g(function*(o,a){const u=R(o);u.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const l=cs(u);u.Gr.add(3),yield tu(u),l&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield Uc(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),yI.apply(this,arguments)}function _I(t){return vI.apply(this,arguments)}function vI(){return vI=g(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield lL(t,new sZ)),t.offlineComponents}),vI.apply(this,arguments)}function vp(t){return wI.apply(this,arguments)}function wI(){return wI=g(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield cL(t,new gI)),t.onlineComponents}),wI.apply(this,arguments)}function II(){return II=g(function*(t){const e=yield vp(t),n=e.eventManager;return n.onListen=jX.bind(null,e.syncEngine),n.onUnlisten=$X.bind(null,e.syncEngine),n}),II.apply(this,arguments)}function pL(t,e,n={}){const r=new St;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const l=new _p({next:d=>{s.enqueueAndForget(()=>function(t,e){return jb.apply(this,arguments)}(i,c)),d.fromCache&&"server"===a.source?u.reject(new T(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new Hb(o,l,{includeMetadataChanges:!0,wo:!0});return function(t,e){return Ub.apply(this,arguments)}(i,c)}(yield function(t){return II.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}class wZ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}const gL=new Map;function CI(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mL(t){if(!V.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yL(t){if(V.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":B()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wp(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class vL{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vL({}),this._settingsFrozen=!1,e instanceof jc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(i.options.projectId)}(e))}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vL(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new BY;switch(n.type){case"gapi":const r=n.client;return q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new qY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=gL.get(e);n&&(A("ComponentProvider","Removing Datastore"),gL.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class en{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class Xr extends en{constructor(e,n,r){super(e,n,Ua(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new V(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Ep(t,e,...n){if(t=Hn(t),CI("collection","path",e),t instanceof $c){const r=ve.fromString(e,...n);return yL(r),new Xr(t,null,r)}{if(!(t instanceof Ze||t instanceof Xr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return yL(r),new Xr(t.firestore,null,r)}}class CZ{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new wb(this,"async_queue_retry"),this.Ra=()=>{const n=gp();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const n=gp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const n=new St;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return g(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(n){if(!Js(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const n=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,ot("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=n,n}enqueueAfterDelay(e,n,r){this.Pa(),this.Aa.indexOf(e)>-1&&(n=0);const i=Lb.createAndSchedule(this,e,n,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&B()}verifyOperationInProgress(){}Sa(){var e=this;return g(function*(){let n;do{n=e.ma,yield n}while(n!==e.ma)})()}Da(e){for(const n of this.pa)if(n.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.pa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const n=this.pa.indexOf(e);this.pa.splice(n,1)}}class $e extends $c{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new CZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||EL(this),this._firestoreClient.terminate()}}function wL(t=G_()){return Ca(t,"firestore").getImmediate()}function kt(t){return t._firestoreClient||EL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new wZ(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new dZ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class lu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(xt.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class CL{constructor(e){this._methodName=e}}class TI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const TZ=/^__.*__$/;class AZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}function TL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class bp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Ip(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(TL(this.xa)&&TZ.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class SZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||Vc(e)}ja(e,n,r,i=!1){return new bp({xa:e,methodName:n,Ka:r,path:Jt.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function cu(t){const e=t._freezeSettings(),n=Vc(t._databaseId);return new SZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AI(t,e,n,r,i,s={}){const o=t.ja(s.merge||s.mergeFields?2:0,e,n,i);xI("Data must be an object, but it was:",o,r);const a=RL(r,o);let u,l;if(s.merge)u=new Pa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=MI(e,d,n);if(!o.contains(h))throw new T(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NL(c,h)||c.push(h)}u=new Pa(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new AZ(new Xt(a),u,l)}function no(t,e){if(kL(t=Hn(t)))return xI("Unsupported field value:",e,t),RL(t,e);if(t instanceof CL)return function(n,r){if(!TL(r.xa))throw r.Ua(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=no(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return NP(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Bt.fromDate(n);return{timestampValue:Rc(r.k,i)}}if(n instanceof Bt){const i=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rc(r.k,i)}}if(n instanceof TI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:ZP(r.k,n._byteString)};if(n instanceof Ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ua(`Unsupported field value: ${wp(n)}`)}(t,e)}function RL(t,e){const n={};return mP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const s=no(i,e.Fa(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function kL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof TI||t instanceof to||t instanceof Ze||t instanceof CL)}function xI(t,e,n){if(!kL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wp(n);throw e.Ua("an object"===r?t+" a custom object":t+" "+r)}var r}function MI(t,e,n){if((e=Hn(e))instanceof lu)return e._internalPath;if("string"==typeof e)return RI(t,e);throw Ip("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const kZ=new RegExp("[~\\*/\\[\\]]");function RI(t,e,n){if(e.search(kZ)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lu(...e.split("."))._internalPath}catch(r){throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(E.INVALID_ARGUMENT,a+t+u)}function NL(t,e){return t.some(n=>n.isEqual(e))}class kI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class NZ extends kI{data(){return super.data()}}function Cp(t,e){return"string"==typeof e?RI(t,e):e instanceof lu?e._internalPath:e._delegate._internalPath}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class du extends kI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dp extends du{data(e={}){return super.data(e)}}class hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:OZ(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}function NI(t,...e){for(const n of e)t=n._apply(t);return t}class FZ extends class{}{constructor(e,n,r){super(),this.Ga=e,this.za=n,this.Ha=r,this.type="where"}_apply(e){const n=cu(e.firestore),r=function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new T(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on FieldPath.documentId().`);if("in"===l||"not-in"===l){BL(c,l);const f=[];for(const p of c)f.push(UL(a,i,p));d={arrayValue:{values:f}}}else d=UL(a,i,c)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||BL(c,l),d=function(t,e,n,r=!1){return no(n,t.ja(r?4:3,e))}(o,"where",c,"in"===l||"not-in"===l);const h=mn.create(u,l,d);return function(f,p){if(p.V()){const v=$E(f);if(null!==v&&!v.isEqual(p.field))throw new T(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${p.field.toString()}'`);const b=jE(f);null!==b&&function(t,e,n){if(!n.isEqual(e))throw new T(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,p.field,b)}const _=function(v,b){for(const w of v.filters)if(b.indexOf(w.op)>=0)return w.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==_)throw new T(E.INVALID_ARGUMENT,_===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,0,n,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new en(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ci(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function fu(t,e,n){const r=e,i=Cp("where",t);return new FZ(i,r,n)}function UL(t,e,n){if("string"==typeof(n=Hn(n))){if(""===n)throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&-1!==n.indexOf("/"))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!V.isDocumentKey(r))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zf(t,new V(r))}if(n instanceof Ze)return zf(t,n._key);throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${wp(n)}.`)}function BL(t,e){if(!Array.isArray(t)||0===t.length)throw new T(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new T(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class io extends class{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){const r={};return Gs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new TI(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);q(hF(r));const i=new jc(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||ot(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function PI(t){t=ye(t,en);const e=ye(t.firestore,$e),n=kt(e),r=new io(e);return function(t){if(Zf(t)&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),pL(n,t._query).then(i=>new hu(e,r,t,i))}function BZ(t,e){const n=ye(t.firestore,$e),r=function(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=fP.A()),CI("doc","path",e),t instanceof $c){const r=ve.fromString(e,...n);return mL(r),new Ze(t,null,new V(r))}{if(!(t instanceof Ze||t instanceof Xr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return mL(r),new Ze(t.firestore,t instanceof Xr?t.converter:null,new V(r))}}(t),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function(t,e){return function(n,r){const i=new St;return n.asyncQueue.enqueueAndForget(g(function*(){return function(t,e,n){return Kb.apply(this,arguments)}(yield function(t){return vp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(kt(t),e)}(n,[AI(cu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ut.exists(!1))]).then(()=>r)}!function(t,e=!0){Na="9.6.1",In(new hn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new $e(i,new $Y(n.getProvider("auth-internal")),new GY(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),ze(cP,"3.4.1",t),ze(cP,"3.4.1","esm2017")}(),jk({apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",projectId:"dosapointfirebase"});const Ap=wL();let LI=(()=>{class t{constructor(){}writeToUsersCollection(n){return g(function*(){yield BZ(Ep(Ap,"users"),n)})()}verifyCredentials(n){return g(function*(){const r=NI(Ep(Ap,"users"),fu("email","==",n.email),fu("activated","==",!0));return(yield PI(r)).size>0?1:0})()}verifyAdminCredentials(n){return g(function*(){const r=NI(Ep(Ap,"users"),fu("email","==",n.email),fu("activated","==",!0),fu("role","in",["admin","developer"]));return(yield PI(r)).size>0?1:0})()}checkAlreadyRegisteredMobile(n){return g(function*(){const r=NI(Ep(Ap,"users"),fu("mobile","==",n.mobile));return(yield PI(r)).size>0?1:0})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $Z(t,e){1&t&&(m(0,"div"),S(1,"Email is required"),y())}function HZ(t,e){1&t&&(m(0,"div"),S(1,"Please enter a valid email"),y())}function qZ(t,e){if(1&t&&(m(0,"div",19),Y(1,$Z,2,0,"div",13),Y(2,HZ,2,0,"div",13),y()),2&t){const n=mr();O(1),L("ngIf",n.f.email.errors.required),O(1),L("ngIf",n.f.email.errors.pattern)}}function GZ(t,e){1&t&&(m(0,"div"),S(1,"Password is required"),y())}function WZ(t,e){1&t&&(m(0,"div"),S(1,"Password should be minimum 6 characters"),y())}function zZ(t,e){if(1&t&&(m(0,"div",19),Y(1,GZ,2,0,"div",13),Y(2,WZ,2,0,"div",13),y()),2&t){const n=mr();O(1),L("ngIf",n.f.password.errors.required),O(1),L("ngIf",n.f.password.errors.minlength)}}function KZ(t,e){1&t&&(m(0,"div"),S(1,"Invalid Password! Please retry."),y())}function QZ(t,e){1&t&&(m(0,"div"),S(1,"Email is not registered."),y())}function YZ(t,e){1&t&&(m(0,"div"),S(1,"Email is not registered as Admin."),y())}function JZ(t,e){1&t&&Fe(0,"span",20)}const $L=function(t){return{"is-invalid":t}},XZ=_f();let ZZ=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.adminLoginForm=fi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.notRegisteredError=!1,this.notAdminError=!1}get f(){return this.adminLoginForm.controls}onSubmit(){this.submitted=!0,this.credentialsError=!1,this.notRegisteredError=!1,!this.adminLoginForm.invalid&&this.submitted&&(this.loading=!0,TN(XZ,this.adminLoginForm.value.email,this.adminLoginForm.value.password).then(n=>{this.userService.verifyAdminCredentials(this.adminLoginForm.value).then(r=>{0==r?(this.notAdminError=!0,this.loading=!1):(this.loading=!1,console.log("signed in"),this.router.navigate(["/admin-home"]))})}).catch(n=>{const r=n.code,i=n.message;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1),console.log("Error:",i,r),console.log("error code:",r)}))}ngOnInit(){this.adminLoginForm=this.formBuilder.group({email:["",[gt.required,gt.email,gt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[gt.required]]})}}return t.\u0275fac=function(n){return new(n||t)(I(Rh),I(Ct),I(LI))},t.\u0275cmp=sn({type:t,selectors:[["app-admin-login"]],decls:26,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),S(8,"Admin Login"),y(),m(9,"form",8),Te("ngSubmit",function(){return r.onSubmit()}),m(10,"div",9),Fe(11,"input",10),Y(12,qZ,3,2,"div",11),y(),m(13,"div",9),Fe(14,"input",12),Y(15,zZ,3,2,"div",11),y(),Y(16,KZ,2,0,"div",13),Y(17,QZ,2,0,"div",13),Y(18,YZ,2,0,"div",13),m(19,"button",14),S(20,"Login "),Y(21,JZ,1,0,"span",15),y(),m(22,"div",16),m(23,"div",17),m(24,"a",18),S(25,"Customer Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(9),L("formGroup",r.adminLoginForm),O(2),L("ngClass",vr(9,$L,r.submitted&&r.f.email.errors)),O(1),L("ngIf",r.submitted&&r.f.email.errors),O(2),L("ngClass",vr(11,$L,r.submitted&&r.f.password.errors)),O(1),L("ngIf",r.submitted&&r.f.password.errors),O(1),L("ngIf",r.credentialsError),O(1),L("ngIf",r.notRegisteredError),O(1),L("ngIf",r.notAdminError),O(3),L("ngIf",r.loading))},directives:[Tl,El,Ss,As,wl,ga,xs,ml,ha,Al,Yi],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),t})(),eee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-view-orders"]],decls:25,vars:0,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"table"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),S(7,"Order Details"),y(),Fe(8,"hr",7),m(9,"div"),m(10,"table",8),m(11,"thead"),m(12,"tr"),m(13,"th"),S(14,"Name"),y(),y(),y(),m(15,"tbody"),m(16,"tr"),m(17,"td"),S(18,"Dinesh"),y(),y(),y(),y(),y(),m(19,"div",9),m(20,"div",10),S(21,"Total Sale: 0 Rs. "),y(),y(),m(22,"div",9),m(23,"div",10),S(24,"Total Sale Till Date: 0 Rs. "),y(),y(),y(),y(),y(),y(),y(),y())},styles:[""]}),t})(),tee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-view-users"]],decls:22,vars:0,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"table"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),S(7,"Users"),y(),Fe(8,"hr",7),m(9,"div"),m(10,"table",8),m(11,"thead"),m(12,"tr"),m(13,"th"),S(14,"Name"),y(),y(),y(),m(15,"tbody"),m(16,"tr"),m(17,"td"),S(18,"Dinesh"),y(),y(),y(),y(),y(),m(19,"div",9),m(20,"div",10),S(21,"Total Users: "),y(),y(),y(),y(),y(),y(),y(),y())},styles:[""]}),t})();function nee(t,e){return n=>{const i=n.controls[e];i.errors&&!i.errors.confirmedValidator||i.setErrors(n.controls[t].value!==i.value?{confirmedValidator:!0}:null)}}function ree(t,e){1&t&&(m(0,"div"),S(1,"Name is required"),y())}function iee(t,e){1&t&&(m(0,"div"),S(1,"Maximum length can be 50 characters only."),y())}function see(t,e){1&t&&(m(0,"div"),S(1,"Please enter a valid name."),y())}function oee(t,e){if(1&t&&(m(0,"div",23),Y(1,ree,2,0,"div",20),Y(2,iee,2,0,"div",20),Y(3,see,2,0,"div",20),y()),2&t){const n=mr();O(1),L("ngIf",n.f.fullName.errors.required),O(1),L("ngIf",n.f.fullName.errors.maxlength),O(1),L("ngIf",n.f.fullName.errors.pattern)}}function aee(t,e){1&t&&(m(0,"div"),S(1,"Mobile Number is required"),y())}function uee(t,e){1&t&&(m(0,"div"),S(1,"Please Enter 10 Digits Mobile Number "),y())}function lee(t,e){if(1&t&&(m(0,"div",23),Y(1,aee,2,0,"div",20),Y(2,uee,2,0,"div",20),y()),2&t){const n=mr();O(1),L("ngIf",n.f.mobile.errors.required),O(1),L("ngIf",n.f.mobile.errors.pattern)}}function cee(t,e){1&t&&(m(0,"div"),S(1,"Email is required"),y())}function dee(t,e){1&t&&(m(0,"div"),S(1,"Please enter a valid email"),y())}function hee(t,e){if(1&t&&(m(0,"div",23),Y(1,cee,2,0,"div",20),Y(2,dee,2,0,"div",20),y()),2&t){const n=mr();O(1),L("ngIf",n.f.email.errors.required),O(1),L("ngIf",n.f.email.errors.pattern)}}function fee(t,e){1&t&&(m(0,"div"),S(1,"Password is required"),y())}function pee(t,e){1&t&&(m(0,"div"),S(1,"Password should be minimum 6 characters"),y())}function gee(t,e){if(1&t&&(m(0,"div",23),Y(1,fee,2,0,"div",20),Y(2,pee,2,0,"div",20),y()),2&t){const n=mr();O(1),L("ngIf",n.f.password.errors.required),O(1),L("ngIf",n.f.password.errors.minlength)}}function mee(t,e){1&t&&(m(0,"div"),S(1,"Confirm Password is required"),y())}function yee(t,e){1&t&&(m(0,"div"),S(1,"Password and Confirm Password must be same."),y())}function _ee(t,e){if(1&t&&(m(0,"div",23),Y(1,mee,2,0,"div",20),Y(2,yee,2,0,"div",20),y()),2&t){const n=mr();O(1),L("ngIf",n.f.confirmPassword.errors.required),O(1),L("ngIf",n.f.confirmPassword.errors.confirmedValidator)}}function vee(t,e){1&t&&Fe(0,"span",24)}function wee(t,e){1&t&&(m(0,"div"),S(1,"Mobile Number is already registered. Please Login."),y())}function Eee(t,e){1&t&&(m(0,"div"),S(1,"Email is already registered. Please Login."),y())}const Gc=function(t){return{"is-invalid":t}},bee=_f();let Iee=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.registrationForm=fi,this.submitted=!1,this.loading=!1,this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1}get f(){return this.registrationForm.controls}onSubmit(){this.alreadyRegisteredMobile=!1,this.alreadyRegisteredEmail=!1,this.submitted=!0,!this.registrationForm.invalid&&this.submitted&&(this.loading=!0,this.userService.checkAlreadyRegisteredMobile(this.registrationForm.value).then(n=>{1==n?(this.alreadyRegisteredMobile=!0,this.loading=!1,console.log("already registered mobile")):(console.log("registering"),this.loading=!1,function(t,e,n){return Kv.apply(this,arguments)}(bee,this.registrationForm.value.email,this.registrationForm.value.password).then(r=>{this.registerUserForValidation(this.registrationForm),console.log("user created"),this.router.navigate(["/registration-success"])}).catch(r=>{const i=r.code,s=r.message;"auth/email-already-in-use"==i&&(this.alreadyRegisteredEmail=!0,this.loading=!1),console.log("error:",s,i)}))}))}ngOnInit(){this.registrationForm=this.formBuilder.group({fullName:["",[gt.required,gt.maxLength(50),gt.pattern("^[a-zA-Z ]*$")]],mobile:["",[gt.required,gt.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],email:["",[gt.required,gt.email,gt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[gt.required]],confirmPassword:["",[gt.required]],role:[""],activated:[""],timeStamp:[""]},{validator:nee("password","confirmPassword")})}registerUserForValidation(n){n.controls.role.setValue("user"),n.controls.password.setValue("********"),n.controls.confirmPassword.setValue("********"),n.controls.activated.setValue(!1),n.controls.timeStamp.setValue(new Date),this.userService.writeToUsersCollection(n.value)}}return t.\u0275fac=function(n){return new(n||t)(I(Rh),I(Ct),I(LI))},t.\u0275cmp=sn({type:t,selectors:[["app-customer-registration"]],decls:38,vars:24,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-8","mx-auto"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-2","bd-highlight","note"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","fullName","type","text","formControlName","fullName","placeholder","Full Name","required","","autofocus","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputMobile","type","text","maxlength","10","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","formControlName","mobile","placeholder","Mobile Number","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4",3,"ngClass"],["id","email","type","email","formControlName","email","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","inputPassword","type","password","minlength","6","maxlength","10","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"p-2","bd-highlight"],["routerLink","/customer-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),S(8,"New Registration"),y(),m(9,"div",8),m(10,"div",9),S(11,"(Below details will be verified by admin)"),y(),y(),m(12,"form",10),Te("ngSubmit",function(){return r.onSubmit()}),m(13,"div",11),m(14,"div",11),Fe(15,"input",12),Y(16,oee,4,3,"div",13),y(),m(17,"div",11),Fe(18,"input",14),Y(19,lee,3,2,"div",13),y(),y(),m(20,"div",11),Fe(21,"input",15),Y(22,hee,3,2,"div",13),y(),m(23,"div",11),Fe(24,"input",16),Y(25,gee,3,2,"div",13),y(),m(26,"div",11),Fe(27,"input",17),Y(28,_ee,3,2,"div",13),y(),m(29,"button",18),S(30,"Submit "),Y(31,vee,1,0,"span",19),y(),Y(32,wee,2,0,"div",20),Y(33,Eee,2,0,"div",20),m(34,"div",8),m(35,"div",21),m(36,"a",22),S(37,"Back To Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(12),L("formGroup",r.registrationForm),O(3),L("ngClass",vr(14,Gc,r.submitted&&r.f.fullName.errors)),O(1),L("ngIf",r.submitted&&r.f.fullName.errors),O(2),L("ngClass",vr(16,Gc,r.submitted&&r.f.mobile.errors)),O(1),L("ngIf",r.submitted&&r.f.mobile.errors),O(2),L("ngClass",vr(18,Gc,r.submitted&&r.f.email.errors)),O(1),L("ngIf",r.submitted&&r.f.email.errors),O(2),L("ngClass",vr(20,Gc,r.submitted&&r.f.password.errors)),O(1),L("ngIf",r.submitted&&r.f.password.errors),O(2),L("ngClass",vr(22,Gc,r.submitted&&r.f.confirmPassword.errors)),O(1),L("ngIf",r.submitted&&r.f.confirmPassword.errors),O(3),L("ngIf",r.loading),O(1),L("ngIf",r.alreadyRegisteredMobile),O(1),L("ngIf",r.alreadyRegisteredEmail))},directives:[Tl,El,Ss,As,wl,ga,xs,ml,ha,c_,Al,Yi],styles:[".note[_ngcontent-%COMP%]{font-size:smaller;text-align:center}"]}),t})();function Cee(t,e){1&t&&(m(0,"div"),S(1,"Email is required"),y())}function Dee(t,e){1&t&&(m(0,"div"),S(1,"Please enter a valid email"),y())}function Tee(t,e){if(1&t&&(m(0,"div",21),Y(1,Cee,2,0,"div",15),Y(2,Dee,2,0,"div",15),y()),2&t){const n=mr();O(1),L("ngIf",n.f.email.errors.required),O(1),L("ngIf",n.f.email.errors.pattern)}}function Aee(t,e){1&t&&(m(0,"div"),S(1,"Password is required"),y())}function See(t,e){1&t&&(m(0,"div"),S(1,"Password should be minimum 6 characters"),y())}function xee(t,e){if(1&t&&(m(0,"div",21),Y(1,Aee,2,0,"div",15),Y(2,See,2,0,"div",15),y()),2&t){const n=mr();O(1),L("ngIf",n.f.password.errors.required),O(1),L("ngIf",n.f.password.errors.minlength)}}function Mee(t,e){1&t&&Fe(0,"span",22)}function Ree(t,e){1&t&&(m(0,"div"),S(1,"Invalid Password! Please retry."),y())}function kee(t,e){1&t&&(m(0,"div"),S(1,"Your account is not activated yet."),y())}function Nee(t,e){1&t&&(m(0,"div"),S(1,"Email is not registered. Please register first."),y())}const HL=function(t){return{"is-invalid":t}},Oee=_f();let qL=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.router=r,this.userService=i,this.loginForm=fi,this.submitted=!1,this.loading=!1,this.credentialsError=!1,this.activationError=!1,this.notRegisteredError=!1}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.notRegisteredError=!1,this.activationError=!1,this.credentialsError=!1,!this.loginForm.invalid&&this.submitted&&(this.loading=!0,TN(Oee,this.loginForm.value.email,this.loginForm.value.password).then(n=>{this.userService.verifyCredentials(this.loginForm.value).then(r=>{0==r?(this.activationError=!0,this.loading=!1):(this.loading=!1,console.log("signed in"),this.router.navigate(["/menu"]))})}).catch(n=>{const r=n.code;"auth/user-not-found"==r?(this.notRegisteredError=!0,this.loading=!1):"auth/wrong-password"==r&&(this.credentialsError=!0,this.loading=!1)}))}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[gt.required,gt.email,gt.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[gt.required]]})}}return t.\u0275fac=function(n){return new(n||t)(I(Rh),I(Ct),I(LI))},t.\u0275cmp=sn({type:t,selectors:[["app-login"]],decls:30,vars:13,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"display-4","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["id","email","type","email","formControlName","email","email","true","placeholder","Email Id","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","inputPassword","type","password","minlength","6","formControlName","password","placeholder","Password","required","",1,"form-control","rounded-pill","border-0","shadow-sm","px-4","text-primary",3,"ngClass"],["type","submit",1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-registration"],[1,"d-flex","flex-row-reverse","bd-highlight"],["routerLink","/admin-login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),S(8,"Login"),y(),m(9,"form",8),Te("ngSubmit",function(){return r.onSubmit()}),m(10,"div",9),Fe(11,"input",10),Y(12,Tee,3,2,"div",11),y(),m(13,"div",9),Fe(14,"input",12),Y(15,xee,3,2,"div",11),y(),m(16,"button",13),S(17,"Login "),Y(18,Mee,1,0,"span",14),y(),Y(19,Ree,2,0,"div",15),Y(20,kee,2,0,"div",15),Y(21,Nee,2,0,"div",15),m(22,"div",16),m(23,"div",17),m(24,"a",18),S(25,"New Registration"),y(),y(),y(),m(26,"div",19),m(27,"div",17),m(28,"a",20),S(29,"Admin Login"),y(),y(),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(9),L("formGroup",r.loginForm),O(2),L("ngClass",vr(9,HL,r.submitted&&r.f.email.errors)),O(1),L("ngIf",r.submitted&&r.f.email.errors),O(2),L("ngClass",vr(11,HL,r.submitted&&r.f.password.errors)),O(1),L("ngIf",r.submitted&&r.f.password.errors),O(3),L("ngIf",r.loading),O(1),L("ngIf",r.credentialsError),O(1),L("ngIf",r.activationError),O(1),L("ngIf",r.notRegisteredError))},directives:[Tl,El,Ss,As,wl,ga,l_,xs,ml,ha,Al,Yi],styles:[".login[_ngcontent-%COMP%]{min-height:84vh}.invalid-feedback[_ngcontent-%COMP%]{margin-left:25px}"]}),t})();function Pee(t,e){1&t&&(m(0,"div"),S(1,"Please add food to order."),y())}const Fee=[{path:"",component:qL},{path:"admin-login",component:ZZ},{path:"customer-login",component:qL},{path:"customer-registration",component:Iee},{path:"registration-success",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-registration-success"]],decls:17,vars:0,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-3","display-4","text-center"],[1,"p-3","display-6","text-center"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-4","bd-highlight"],["routerLink","/customer-login"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),S(8,"Registration Success!"),y(),m(9,"h3",8),S(10,"Your account will be activated after verification."),y(),m(11,"h3",9),S(12,"Thanks!"),y(),y(),m(13,"div",10),m(14,"div",11),m(15,"a",12),S(16,"Back To Login"),y(),y(),y(),y(),y(),y(),y(),y(),y())},directives:[Yi],styles:[""]}),t})()},{path:"menu",component:(()=>{class t{constructor(n){this.router=n,this.quantity=0,this.dosaQuantity=0,this.idlyQuantity=0,this.bondaQuantity=0,this.dosaAmount=0,this.idlyAmount=0,this.bondaAmount=0,this.finalAmount=0,this.orderError=!1}ngOnInit(){}increaseQuantity(n){switch(n){case 1:this.dosaQuantity=this.dosaQuantity+1,this.dosaAmount=20*this.dosaQuantity,this.finalAmount=this.finalAmount+this.dosaAmount,this.orderError=!1;break;case 2:this.idlyQuantity=this.idlyQuantity+1,this.idlyAmount=15*this.idlyQuantity,this.finalAmount=this.finalAmount+this.idlyAmount,this.orderError=!1;break;case 3:this.bondaQuantity=this.bondaQuantity+1,this.bondaAmount=20*this.bondaQuantity,this.finalAmount=this.finalAmount+this.bondaAmount,this.orderError=!1}}decreaseQuantity(n){switch(n){case 1:this.dosaQuantity>0&&(this.dosaQuantity=this.dosaQuantity-1,this.dosaAmount=20*this.dosaQuantity);break;case 2:this.idlyQuantity>0&&(this.idlyQuantity=this.idlyQuantity-1,this.idlyAmount=15*this.idlyQuantity);break;case 3:this.bondaQuantity>0&&(this.bondaQuantity=this.bondaQuantity-1,this.bondaAmount=20*this.bondaQuantity)}}getFinalAmount(){return this.finalAmount=this.dosaAmount+this.idlyAmount+this.bondaAmount,this.finalAmount}orderConfirmation(){this.finalAmount<=0?this.orderError=!0:confirm("Total Amount is: "+this.finalAmount+". Confirm the order?")&&this.router.navigate(["/order"])}}return t.\u0275fac=function(n){return new(n||t)(I(Ct))},t.\u0275cmp=sn({type:t,selectors:[["app-menu"]],decls:62,vars:8,consts:[[1,"container-fluid"],[1,"col-md-12","bg-light"],[1,"d-flex","align-items-center","py-1"],[1,"container"],[1,"row"],[1,"col-lg-12","col-xl-12","col-md-12","mx-auto"],[1,"p-1","display-6","text-center"],[1,"bg-danger","border-1","border-top","border-danger"],[1,"table"],["src","/assets/minus2.png","width","18vh","alt","-",3,"click"],["src","/assets/plus2.png","width","18.5vh","alt","-",3,"click"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],[1,"btn","btn-primary","btn-block","text-uppercase","mb-2","rounded-pill","shadow-sm",3,"click"],[4,"ngIf"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"h3",6),S(7,"Menu"),y(),Fe(8,"hr",7),m(9,"div"),m(10,"table",8),m(11,"thead"),m(12,"tr"),m(13,"th"),S(14,"Item"),y(),m(15,"th"),S(16,"Price"),y(),m(17,"th"),S(18,"Quantity"),y(),m(19,"th"),S(20,"Amount"),y(),y(),y(),m(21,"tbody"),m(22,"tr"),m(23,"td"),S(24,"Dosa"),y(),m(25,"td"),S(26,"20"),y(),m(27,"td"),m(28,"img",9),Te("click",function(){return r.decreaseQuantity(1)}),y(),S(29),m(30,"img",10),Te("click",function(){return r.increaseQuantity(1)}),y(),y(),m(31,"td"),S(32),y(),y(),m(33,"tr"),m(34,"td"),S(35,"Idly"),y(),m(36,"td"),S(37,"15"),y(),m(38,"td"),m(39,"img",9),Te("click",function(){return r.decreaseQuantity(2)}),y(),S(40),m(41,"img",10),Te("click",function(){return r.increaseQuantity(2)}),y(),y(),m(42,"td"),S(43),y(),y(),m(44,"tr"),m(45,"td"),S(46,"Bonda"),y(),m(47,"td"),S(48,"20"),y(),m(49,"td"),m(50,"img",9),Te("click",function(){return r.decreaseQuantity(3)}),y(),S(51),m(52,"img",10),Te("click",function(){return r.increaseQuantity(3)}),y(),y(),m(53,"td"),S(54),y(),y(),y(),y(),y(),m(55,"div",11),m(56,"div",12),S(57),y(),y(),m(58,"div",11),m(59,"button",13),Te("click",function(){return r.orderConfirmation()}),S(60,"Order Now "),y(),y(),Y(61,Pee,2,0,"div",14),y(),y(),y(),y(),y(),y()),2&n&&(O(29),$i(" ",r.dosaQuantity," "),O(3),tl(20*r.dosaQuantity),O(8),$i(" ",r.idlyQuantity," "),O(3),tl(15*r.idlyQuantity),O(8),$i(" ",r.bondaQuantity," "),O(3),tl(20*r.bondaQuantity),O(3),$i("Total: ",r.getFinalAmount()," Rs. "),O(4),L("ngIf",r.orderError))},directives:[ha],styles:[""]}),t})()},{path:"admin-home",component:Y7},{path:"view-orders",component:eee},{path:"view-users",component:tee},{path:"order",component:(()=>{class t{constructor(){this.orderNumber=0}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-order"]],decls:21,vars:1,consts:[[1,"container-fluid"],[1,"row","no-gutter"],[1,"col-md-12","bg-light"],[1,"login","d-flex","align-items-center","py-5"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xl-7","mx-auto"],[1,"p-3","display-4","text-center"],[1,"p-3","display-6","text-center"],[1,"display-4","text-center"],[1,"d-flex","justify-content-center"],[1,"p-5","bd-highlight"],["routerLink","/menu"],[1,"p-4","bd-highlight"],["routerLink","/customer-login"]],template:function(n,r){1&n&&(m(0,"div",0),m(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),m(5,"div",5),m(6,"div",6),m(7,"h3",7),S(8,"Done!"),y(),m(9,"h3",8),S(10),y(),m(11,"h3",9),S(12,"Thanks!"),y(),y(),m(13,"div",10),m(14,"div",11),m(15,"a",12),S(16,"Order More"),y(),y(),y(),m(17,"div",10),m(18,"div",13),m(19,"a",14),S(20,"Logout"),y(),y(),y(),y(),y(),y(),y(),y(),y()),2&n&&(O(10),$i("Your order no. ",r.orderNumber," is confirmed."))},directives:[Yi],styles:[""]}),t})()}];let Lee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({imports:[[Ak.forRoot(Fee)],Ak]}),t})(),Vee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","/assets/icon2.jpg","alt","Dosa Point","width","40","height","34",1,"d-inline-block","align-text-top"]],template:function(n,r){1&n&&(m(0,"nav",0),m(1,"div",1),m(2,"a",2),Fe(3,"img",3),S(4," Dosa Point "),y(),y(),y())},styles:[""]}),t})(),Uee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"navbar","fixed-bottom","navbar-dark","bg-primary"],["href","#",1,"navbar-brand"]],template:function(n,r){1&n&&(m(0,"nav",0),m(1,"a",1),S(2,"Stay safe and healthy!"),y(),y())},styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:15px!important;margin-left:1%}"]}),t})(),Bee=(()=>{class t{constructor(){this.title="dosa-point"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=sn({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&(Fe(0,"app-header"),Fe(1,"router-outlet"),Fe(2,"app-footer"))},directives:[Vee,D_,Uee],styles:[""]}),t})();var pu=hs(940);const GL="@firebase/installations",zL="w:0.5.4",KL="FIS_v2",Si=new Wr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function QL(t){return t instanceof mi&&t.code.includes("request-failed")}function UI({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function YL(t){return{token:t.token,requestStatus:2,expiresIn:Wee(t.expiresIn),creationTime:Date.now()}}function BI(t,e){return jI.apply(this,arguments)}function jI(){return jI=g(function*(t,e){const r=(yield e.json()).error;return Si.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),jI.apply(this,arguments)}function JL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function XL(t,{refreshToken:e}){const n=JL(t);return n.append("Authorization",function(t){return`${KL} ${t}`}(e)),n}function $I(t){return HI.apply(this,arguments)}function HI(){return HI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),HI.apply(this,arguments)}function Wee(t){return Number(t.replace("s","000"))}function Kee(t,e){return qI.apply(this,arguments)}function qI(){return qI=g(function*(t,{fid:e}){const n=UI(t),s={method:"POST",headers:JL(t),body:JSON.stringify({fid:e,authVersion:KL,appId:t.appId,sdkVersion:zL})},o=yield $I(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:YL(a.authToken)}}throw yield BI("Create Installation",o)}),qI.apply(this,arguments)}function ZL(t){return new Promise(e=>{setTimeout(e,t)})}const Yee=/^[cdef][\w-]{21}$/;function Jee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Yee.test(n)?n:""}catch(t){return""}}function gu(t){return`${t.appName}!${t.appId}`}const mu=new Map;function eV(t,e){const n=gu(t);tV(n,e),function(t,e){const n=(!so&&"BroadcastChannel"in self&&(so=new BroadcastChannel("[Firebase] FID Change"),so.onmessage=t=>{tV(t.data.key,t.data.fid)}),so);n&&n.postMessage({key:t,fid:e}),0===mu.size&&so&&(so.close(),so=null)}(n,e)}function tV(t,e){const n=mu.get(t);if(n)for(const r of n)r(e)}let so=null;const oo="firebase-installations-store";let WI=null;function zI(){return WI||(WI=(0,pu.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(oo)})),WI}function Sp(t,e){return KI.apply(this,arguments)}function KI(){return KI=g(function*(t,e){const n=gu(t),i=(yield zI()).transaction(oo,"readwrite"),s=i.objectStore(oo),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&eV(t,e.fid),e}),KI.apply(this,arguments)}function QI(t){return YI.apply(this,arguments)}function YI(){return YI=g(function*(t){const e=gu(t),r=(yield zI()).transaction(oo,"readwrite");yield r.objectStore(oo).delete(e),yield r.complete}),YI.apply(this,arguments)}function Wc(t,e){return JI.apply(this,arguments)}function JI(){return JI=g(function*(t,e){const n=gu(t),i=(yield zI()).transaction(oo,"readwrite"),s=i.objectStore(oo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&eV(t,a.fid),a}),JI.apply(this,arguments)}function XI(t){return ZI.apply(this,arguments)}function ZI(){return ZI=g(function*(t){let e;const n=yield Wc(t,r=>{const i=ite(r),s=ste(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),ZI.apply(this,arguments)}function ite(t){return sV(t||{fid:Jee(),registrationStatus:0})}function ste(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Si.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return eC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ate(t)}:{installationEntry:e}}function eC(){return eC=g(function*(t,e){try{return Sp(t,yield Kee(t,e))}catch(n){throw QL(n)&&409===n.customData.serverCode?yield QI(t):yield Sp(t,{fid:e.fid,registrationStatus:0}),n}}),eC.apply(this,arguments)}function ate(t){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t){let e=yield iV(t);for(;1===e.registrationStatus;)yield ZL(100),e=yield iV(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield XI(t);return r||n}return e}),tC.apply(this,arguments)}function iV(t){return Wc(t,e=>{if(!e)throw Si.create("installation-not-found");return sV(e)})}function sV(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function lte(t,e){return nC.apply(this,arguments)}function nC(){return nC=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=cte(t,n),i=XL(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:zL}})},u=yield $I(()=>fetch(r,a));if(u.ok)return YL(yield u.json());throw yield BI("Generate Auth Token",u)}),nC.apply(this,arguments)}function cte(t,{fid:e}){return`${UI(t)}/${e}/authTokens:generate`}function rC(t){return iC.apply(this,arguments)}function iC(){return iC=g(function*(t,e=!1){let n;const r=yield Wc(t.appConfig,s=>{if(!aV(s))throw Si.create("not-registered");const o=s.authToken;if(!e&&fte(o))return s;if(1===o.requestStatus)return n=dte(t,e),s;{if(!navigator.onLine)throw Si.create("app-offline");const a=gte(s);return n=hte(t,a),a}});return n?yield n:r.authToken}),iC.apply(this,arguments)}function dte(t,e){return sC.apply(this,arguments)}function sC(){return sC=g(function*(t,e){let n=yield oV(t.appConfig);for(;1===n.authToken.requestStatus;)yield ZL(100),n=yield oV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rC(t,e):r}),sC.apply(this,arguments)}function oV(t){return Wc(t,e=>{if(!aV(e))throw Si.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function hte(t,e){return oC.apply(this,arguments)}function oC(){return oC=g(function*(t,e){try{const n=yield lte(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Sp(t.appConfig,r),n}catch(n){if(!QL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Sp(t.appConfig,r)}else yield QI(t.appConfig);throw n}}),oC.apply(this,arguments)}function aV(t){return void 0!==t&&2===t.registrationStatus}function fte(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function gte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aC(){return aC=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield XI(e.appConfig);return r?r.catch(console.error):rC(e).catch(console.error),n.fid}),aC.apply(this,arguments)}function uC(){return uC=g(function*(t,e=!1){const n=t;return yield vte(n.appConfig),(yield rC(n,e)).token}),uC.apply(this,arguments)}function vte(t){return lC.apply(this,arguments)}function lC(){return lC=g(function*(t){const{registrationPromise:e}=yield XI(t);e&&(yield e)}),lC.apply(this,arguments)}function hC(t){return Si.create("missing-app-config-values",{valueName:t})}const uV="installations";In(new hn(uV,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw hC("App Configuration");if(!t.name)throw hC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:Ca(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),In(new hn("installations-internal",t=>{const n=Ca(t.getProvider("app").getImmediate(),uV).getImmediate();return{getId:()=>function(t){return aC.apply(this,arguments)}(n),getToken:i=>function(t){return uC.apply(this,arguments)}(n,i)}},"PRIVATE")),ze(GL,"0.5.4"),ze(GL,"0.5.4","esm2017");const fC="@firebase/remote-config",xn=new Wr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Vte(t=navigator){return t.languages&&t.languages[0]||t.language}class Ute{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Vte()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((b,w)=>{e.signal.addEventListener(()=>{const M=new Error("The operation was aborted.");M.name="AbortError",w(M)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(b){let w="fetch-client-network";throw"AbortError"===b.name&&(w="fetch-timeout"),xn.create(w,{originalErrorMessage:b.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let _,v;if(200===h.status){let b;try{b=yield h.json()}catch(w){throw xn.create("fetch-client-parse",{originalErrorMessage:w.message})}_=b.entries,v=b.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(_={}),304!==f&&200!==f)throw xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:_}})()}}class $te{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+B_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Gte{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mp(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n.message})}const ao="app_namespace_store";class Qte{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Mp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ao,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ao],"readonly").objectStore(ao),u=n.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Mp(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(xn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ao],"readwrite").objectStore(ao),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:n});c.onerror=d=>{o(Mp(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(xn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ao],"readwrite").objectStore(ao),u=n.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Mp(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(xn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Yte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Xte(){return _C.apply(this,arguments)}function _C(){return(_C=g(function*(){if(!ba())return!1;try{return yield Qh()}catch(t){return!1}})).apply(this,arguments)}In(new hn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xn.create("registration-window");if(!ba())throw xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw xn.create("registration-project-id");if(!o)throw xn.create("registration-api-key");if(!a)throw xn.create("registration-app-id");const u=new Qte(a,r.name,n=n||"firebase"),l=new Yte(u),c=new Ia(fC);c.logLevel=ge.ERROR;const d=new Ute(i,Da,n,s,o,a),h=new $te(d,u),f=new Lte(h,u,l,c),p=new Gte(r,f,l,u,c);return function(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ze(fC,"0.3.3"),ze(fC,"0.3.3","esm2017");const Zte="/firebase-messaging-sw.js",ene="/firebase-cloud-messaging-push-scope",hV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fV="google.c.a.c_id",nne="google.c.a.c_l",rne="google.c.a.ts",ine="google.c.a.e";var yu=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(yu||(yu={})),yu))();function xi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const vC="fcm_token_details_db",pV="fcm_token_object_Store";function ane(t){return wC.apply(this,arguments)}function wC(){return wC=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(vC))return null;let e=null;return(yield(0,pu.openDb)(vC,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(pV))return;const o=i.transaction.objectStore(pV),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:xi(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xi(u.auth),p256dh:xi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xi(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xi(u.auth),p256dh:xi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xi(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,pu.deleteDb)(vC),yield(0,pu.deleteDb)("fcm_vapid_details_db"),yield(0,pu.deleteDb)("undefined"),une(e)?e:null}),wC.apply(this,arguments)}function une(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const uo="firebase-messaging-store";let EC=null;function bC(){return EC||(EC=(0,pu.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(uo)})),EC}function gV(t){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t){const e=AC(t),r=yield(yield bC()).transaction(uo).objectStore(uo).get(e);if(r)return r;{const i=yield ane(t.appConfig.senderId);if(i)return yield CC(t,i),i}}),IC.apply(this,arguments)}function CC(t,e){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t,e){const n=AC(t),i=(yield bC()).transaction(uo,"readwrite");return yield i.objectStore(uo).put(e,n),yield i.complete,e}),DC.apply(this,arguments)}function dne(t){return TC.apply(this,arguments)}function TC(){return TC=g(function*(t){const e=AC(t),r=(yield bC()).transaction(uo,"readwrite");yield r.objectStore(uo).delete(e),yield r.complete}),TC.apply(this,arguments)}function AC({appConfig:t}){return t.appId}const Ht=new Wr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fne(t,e){return SC.apply(this,arguments)}function SC(){return SC=g(function*(t,e){const n=yield kC(t),r=yV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(RC(t.appConfig),i)).json()}catch(o){throw Ht.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Ht.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-subscribe-no-token");return s.token}),SC.apply(this,arguments)}function pne(t,e){return xC.apply(this,arguments)}function xC(){return xC=g(function*(t,e){const n=yield kC(t),r=yV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${RC(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ht.create("token-update-failed",{errorInfo:o})}if(s.error)throw Ht.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-update-no-token");return s.token}),xC.apply(this,arguments)}function mV(t,e){return MC.apply(this,arguments)}function MC(){return MC=g(function*(t,e){const r={method:"DELETE",headers:yield kC(t)};try{const s=yield(yield fetch(`${RC(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ht.create("token-unsubscribe-failed",{errorInfo:i})}}),MC.apply(this,arguments)}function RC({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function kC(t){return NC.apply(this,arguments)}function NC(){return NC=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),NC.apply(this,arguments)}function yV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==hV&&(i.web.applicationPubKey=r),i}function mne(t){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t){const e=yield _ne(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xi(e.getKey("auth")),p256dh:xi(e.getKey("p256dh"))},r=yield gV(t.firebaseDependencies);if(r){if(vne(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?yne(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield mV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return vV(t.firebaseDependencies,n)}return vV(t.firebaseDependencies,n)}),OC.apply(this,arguments)}function _V(t){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t){const e=yield gV(t.firebaseDependencies);e&&(yield mV(t.firebaseDependencies,e.token),yield dne(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),PC.apply(this,arguments)}function yne(t,e){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t,e){try{const n=yield pne(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield CC(t.firebaseDependencies,r),n}catch(n){throw yield _V(t),n}}),FC.apply(this,arguments)}function vV(t,e){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t,e){const r={token:yield fne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield CC(t,r),r.token}),LC.apply(this,arguments)}function _ne(t,e){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sne(e)})}),VC.apply(this,arguments)}function vne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function wV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Ine(t){return"object"==typeof t&&!!t&&fV in t}function EV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function UC(t){return Ht.create("missing-app-config-values",{valueName:t})}EV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),EV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw UC("App Configuration Object");if(!t.name)throw UC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw UC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bV(t){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Zte,{scope:ene}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),BC.apply(this,arguments)}function Tne(t,e){return jC.apply(this,arguments)}function jC(){return jC=g(function*(t,e){if(!e&&!t.swRegistration&&(yield bV(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");t.swRegistration=e}}),jC.apply(this,arguments)}function Ane(t,e){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=hV)}),$C.apply(this,arguments)}function HC(){return HC=g(function*(t,e){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield Ane(t,null==e?void 0:e.vapidKey),yield Tne(t,null==e?void 0:e.serviceWorkerRegistration),mne(t)}),HC.apply(this,arguments)}function Sne(t,e,n){return qC.apply(this,arguments)}function qC(){return qC=g(function*(t,e,n){const r=xne(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[fV],message_name:n[nne],message_time:n[rne],message_device_time:Math.floor(Date.now()/1e3)})}),qC.apply(this,arguments)}function xne(t){switch(t){case yu.NOTIFICATION_CLICKED:return"notification_open";case yu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function GC(){return GC=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===yu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(wV(n)):t.onMessageHandler.next(wV(n)));const r=n.data;Ine(r)&&"1"===r[ine]&&(yield Sne(t,n.messageType,r))}),GC.apply(this,arguments)}const CV="@firebase/messaging";function TV(){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(){return"undefined"!=typeof window&&ba()&&(yield Qh())&&L_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}In(new hn("messaging",t=>{const e=new Dne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return GC.apply(this,arguments)}(e,n)),e},"PUBLIC")),In(new hn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return HC.apply(this,arguments)}(e,r)}},"PRIVATE")),ze(CV,"0.9.4"),ze(CV,"0.9.4","esm2017");const Rp="analytics",Fne="firebase_id",Une="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AV="https://www.googletagmanager.com/gtag/js",qt=new Ia("@firebase/analytics");function SV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Bne(t,e){const n=document.createElement("script");n.src=`${AV}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function $ne(t,e,n,r,i,s){return QC.apply(this,arguments)}function QC(){return QC=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield SV(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){qt.error(a)}t("config",i,s)}),QC.apply(this,arguments)}function Hne(t,e,n,r,i){return YC.apply(this,arguments)}function YC(){return YC=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield SV(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){qt.error(s)}}),YC.apply(this,arguments)}function Wne(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(AV))return e;return null}const Kn=new Wr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xV=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Jne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Xne(t){return JC.apply(this,arguments)}function JC(){return JC=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Jne(r)},s=Une.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),JC.apply(this,arguments)}function Zne(t){return XC.apply(this,arguments)}function XC(){return XC=g(function*(t,e=xV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new nre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),MV({appId:r,apiKey:i,measurementId:s},o,a,e)}),XC.apply(this,arguments)}function MV(t,e,n){return ZC.apply(this,arguments)}function ZC(){return ZC=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xV){const{appId:s,measurementId:o}=t;try{yield ere(r,e)}catch(a){if(o)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield Xne(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!tre(a)){if(i.deleteThrottleMetadata(s),o)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?B_(n,i.intervalMillis,30):B_(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,l),qt.debug(`Calling attemptFetch again in ${u} millis`),MV(t,l,r,i)}}),ZC.apply(this,arguments)}function ere(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tre(t){if(!(t instanceof mi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class nre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function rre(){return eD.apply(this,arguments)}function eD(){return eD=g(function*(){if(!ba())return qt.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Qh()}catch(t){return qt.warn(Kn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),eD.apply(this,arguments)}function tD(){return tD=g(function*(t,e,n,r,i,s,o){var a;const u=Zne(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(u);const l=rre().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);Wne()||Bne(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Fne]=d),i("config",c.measurementId,h),c.measurementId}),tD.apply(this,arguments)}class sre{constructor(e){this.app=e}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},RV=[];const kV={};let OV,zc,kp="dataLayer",nD=!1;function are(t,e,n){!function(){const t=[];if(Kh()&&t.push("This is a browser extension environment."),L_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Kn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Kn.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[r])throw Kn.create("already-exists",{id:r});if(!nD){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(kp);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield Hne(t,e,n,a,u):"config"===o?yield $ne(t,e,n,r,a,u):t("set",a)}catch(l){qt.error(l)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Mi,RV,kV,kp,"gtag");zc=s,OV=o,nD=!0}return Mi[r]=function(t,e,n,r,i,s,o){return tD.apply(this,arguments)}(t,RV,kV,e,OV,kp,n),new sre(t)}function rD(){return rD=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),rD.apply(this,arguments)}function pre(){return uD.apply(this,arguments)}function uD(){return(uD=g(function*(){if(Kh()||!L_()||!ba())return!1;try{return yield Qh()}catch(t){return!1}})).apply(this,arguments)}const PV="@firebase/analytics";In(new hn(Rp,(e,{options:n})=>are(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),In(new hn("analytics-internal",function(e){try{const n=e.getProvider(Rp).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=Hn(t),function(t,e,n,r,i){return rD.apply(this,arguments)}(zc,Mi[t.app.options.appId],e,n,r).catch(i=>qt.error(i))}(n,r,i,s)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ze(PV,"0.7.4"),ze(PV,"0.7.4","esm2017");class yre extends et{constructor(e,n){super()}schedule(e,n=0){return this}}const Np={setInterval(...t){const{delegate:e}=Np;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=Np;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class LV extends yre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Np.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Np.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,po(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VV={now:()=>(VV.delegate||Date).now(),delegate:void 0};class Kc{constructor(e,n=Kc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Kc.now=VV.now;class UV extends Kc{constructor(e,n=Kc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const wre=new class extends UV{}(class extends LV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),Ere=new UV(LV),Op=new oa("7.2.0"),lD="__angularfire_symbol__analyticsIsSupported",cD="__angularfire_symbol__remoteConfigIsSupported",dD="__angularfire_symbol__messagingIsSupported";function fD(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[lD]||(globalThis[lD]=pre().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[dD]||(globalThis[dD]=TV().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[cD]||(globalThis[cD]=Xte().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const pD=(t,e)=>{const n=e?[e]:$k(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function _u(){}class HV{constructor(e,n=wre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_u,{},_u,_u)),n.pipe(bn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gD=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HV(Zone.current)),this.insideAngular=n.run(()=>new HV(Zone.current,Ere)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Be))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ire(t){return lo().ngZone.runOutsideAngular(()=>t())}function co(t){return lo().ngZone.run(()=>t())}function Cre(t){return lo(),function(t){return function(n){return(n=n.lift(new bre(t.ngZone))).pipe(nd(t.outsideAngular),td(t.insideAngular))}}(lo())(t)}const Tre=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),co(()=>t.apply(n,arguments))}},mD=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_u,{},_u,_u)))),arguments[i]=Tre(arguments[i],n));const r=Ire(()=>t.apply(this,arguments));if(!e){if(r instanceof ke){const i=lo();return r.pipe(nd(i.outsideAngular),td(i.insideAngular))}return co(()=>r)}return r instanceof ke?r.pipe(Cre):r instanceof Promise?co(()=>new Promise((i,s)=>r.then(o=>co(()=>i(o)),o=>co(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:co(()=>r)};class vu{constructor(e){return e}}class yD{constructor(){return $k()}}const _D=new Z("angularfire2._apps"),Sre={provide:vu,useFactory:function(t){return t&&1===t.length?t[0]:new vu(G_())},deps:[[new Je,_D]]},xre={provide:yD,deps:[[new Je,_D]]};function Mre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vu(r)}}let Rre=(()=>{class t{constructor(n){ze("angularfire",Op.full,"core"),ze("angularfire",Op.full,"app"),ze("angular",j1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(dl))},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:[Sre,xre]}),t})();function kre(t,...e){return{ngModule:Rre,providers:[{provide:_D,useFactory:Mre(t),multi:!0,deps:[Be,ht,gD,...e]}]}}const Nre=mD(jk,!0),qV_firebase={projectId:"dosapointfirebase",appId:"1:105602221318:web:41829b2c8312756c68ca87",databaseURL:"https://dosapointfirebase-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"dosapointfirebase.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyB3EE-fMVGHKpXDC4rs3-jUf1Z7KHEbGYs",authDomain:"dosapointfirebase.firebaseapp.com",messagingSenderId:"105602221318",measurementId:"G-KM8EHCP6QG"},GV=new Map,Ore={activated:!1,tokenObservers:[]},Pre={initialized:!1,enabled:!1};function Nt(t){return GV.get(t)||Ore}function Ar(t,e){GV.set(t,e)}function Pp(){return Pre}class Bre{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new F_,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new F_,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const yn=new Wr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zV(t){if(!Nt(t).activated)throw yn.create("use-before-activation",{appName:t.name})}function ED(t,e){return bD.apply(this,arguments)}function bD(){return bD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw yn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw yn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw yn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),bD.apply(this,arguments)}function Wre(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Qc="firebase-app-check-store";let Vp=null;function QV(){return Vp||(Vp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(yn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qc,{keyPath:"compositeKey"})}}catch(n){e(yn.create("storage-open",{originalErrorMessage:n.message}))}}),Vp)}function ID(){return ID=g(function*(t,e){const r=(yield QV()).transaction(Qc,"readwrite"),s=r.objectStore(Qc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(yn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),ID.apply(this,arguments)}const Yc=new Ia("@firebase/app-check");function ZV(t,e){return ba()?function(t,e){return function(t,e){return ID.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Yc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function e2(){return Pp().enabled}function t2(){return AD.apply(this,arguments)}function AD(){return AD=g(function*(){const t=Pp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AD.apply(this,arguments)}const nie={error:"UNKNOWN_ERROR"};function rie(t){return O_.encodeString(JSON.stringify(t),!1)}function Up(t){return SD.apply(this,arguments)}function SD(){return SD=g(function*(t,e=!1){const n=t.app;zV(n);const r=Nt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Bp(u)&&(i=u)}if(!e&&i&&Bp(i))return{token:i.token};let a,o=!1;if(e2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ED(Wre(n,yield t2()),t.platformLoggerProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield ZV(n,u),Ar(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Yc.warn(u.message):Yc.error(u),s=u}return i?(a={token:i.token},Ar(n,Object.assign(Object.assign({},r),{token:i})),yield ZV(n,i)):a=sie(s),o&&r2(n,a),a}),SD.apply(this,arguments)}function MD(t,e){const n=Nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ar(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function n2(t){const{app:e}=t,n=Nt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new Bre(g(function*(){let r;if(r=Nt(e).token?yield Up(t,!0):yield Up(t),r.error)throw r.error}),()=>!0,()=>{const n=Nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Ar(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function r2(t,e){const n=Nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Bp(t){return t.expireTimeMillis-Date.now()>0}function sie(t){return{token:rie(nie),error:t}}class oie{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Nt(this.app);for(const n of e)MD(this.app,n.next);return Promise.resolve()}}const d2="app-check-internal";In(new hn("app-check",t=>function(t,e){return new oie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(d2).initialize()})),In(new hn(d2,t=>function(t){return{getToken:e=>Up(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=Nt(i),o={next:n,error:r,type:e};if(Ar(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Bp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),n2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>n2(t))}(t,"INTERNAL",e),removeTokenListener:e=>MD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ze("@firebase/app-check","0.5.2");class OD{constructor(){return pD("app-check")}}"undefined"!=typeof window&&window;class FD{constructor(e){return e}}class p2{constructor(){return pD("auth")}}const LD=new Z("angularfire2.auth-instances");function Tie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new FD(r)}}const Aie={provide:p2,deps:[[new Je,LD]]},Sie={provide:FD,useFactory:function(t,e){const n=fD("auth",t,e);return n&&new FD(n)},deps:[[new Je,LD],vu]};let xie=(()=>{class t{constructor(){ze("angularfire",Op.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:[Sie,Aie]}),t})();function Mie(t,...e){return{ngModule:xie,providers:[{provide:LD,useFactory:Tie(t),multi:!0,deps:[Be,ht,gD,yD,[new Je,OD],...e]}]}}const Rie=mD(_f,!0);class VD{constructor(e){return e}}const g2="firestore",UD=new Z("angularfire2.firestore-instances");function Oie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new VD(r)}}const Pie={provide:class{constructor(){return pD(g2)}},deps:[[new Je,UD]]},Fie={provide:VD,useFactory:function(t,e){const n=fD(g2,t,e);return n&&new VD(n)},deps:[[new Je,UD],vu]};let Lie=(()=>{class t{constructor(){ze("angularfire",Op.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=_n({providers:[Fie,Pie]}),t})();function Vie(t,...e){return{ngModule:Lie,providers:[{provide:UD,useFactory:Oie(t),multi:!0,deps:[Be,ht,gD,yD,[new Je,p2],[new Je,OD],...e]}]}}const Uie=mD(wL,!0);let Bie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t,bootstrap:[Bee]}),t.\u0275inj=_n({providers:[],imports:[[I4,Lee,CR,kre(()=>Nre(qV_firebase)),Mie(()=>Rie()),Vie(()=>Uie())]]}),t})();Lx=!1,E4().bootstrapModule(Bie).catch(t=>console.error(t))},940:function(Zc,ed){!function(hs){"use strict";function be(F){return Array.prototype.slice.call(F)}function fo(F){return new Promise(function(se,_e){F.onsuccess=function(){se(F.result)},F.onerror=function(){_e(F.error)}})}function Ri(F,se,_e){var we,ce=new Promise(function(nn,ki){fo(we=F[se].apply(F,_e)).then(nn,ki)});return ce.request=we,ce}function po(F,se,_e){var we=Ri(F,se,_e);return we.then(function(ce){if(ce)return new Sr(ce,we.request)})}function et(F,se,_e){_e.forEach(function(we){Object.defineProperty(F.prototype,we,{get:function(){return this[se][we]},set:function(ce){this[se][we]=ce}})})}function go(F,se,_e,we){we.forEach(function(ce){ce in _e.prototype&&(F.prototype[ce]=function(){return Ri(this[se],ce,arguments)})})}function fs(F,se,_e,we){we.forEach(function(ce){ce in _e.prototype&&(F.prototype[ce]=function(){return this[se][ce].apply(this[se],arguments)})})}function wu(F,se,_e,we){we.forEach(function(ce){ce in _e.prototype&&(F.prototype[ce]=function(){return po(this[se],ce,arguments)})})}function tn(F){this._index=F}function Sr(F,se){this._cursor=F,this._request=se}function Mn(F){this._store=F}function xr(F){this._tx=F,this.complete=new Promise(function(se,_e){F.oncomplete=function(){se()},F.onerror=function(){_e(F.error)},F.onabort=function(){_e(F.error)}})}function mo(F,se,_e){this._db=F,this.oldVersion=se,this.transaction=new xr(_e)}function yo(F){this._db=F}et(tn,"_index",["name","keyPath","multiEntry","unique"]),go(tn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),wu(tn,"_index",IDBIndex,["openCursor","openKeyCursor"]),et(Sr,"_cursor",["direction","key","primaryKey","value"]),go(Sr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(F){F in IDBCursor.prototype&&(Sr.prototype[F]=function(){var se=this,_e=arguments;return Promise.resolve().then(function(){return se._cursor[F].apply(se._cursor,_e),fo(se._request).then(function(we){if(we)return new Sr(we,se._request)})})})}),Mn.prototype.createIndex=function(){return new tn(this._store.createIndex.apply(this._store,arguments))},Mn.prototype.index=function(){return new tn(this._store.index.apply(this._store,arguments))},et(Mn,"_store",["name","keyPath","indexNames","autoIncrement"]),go(Mn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),wu(Mn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fs(Mn,"_store",IDBObjectStore,["deleteIndex"]),xr.prototype.objectStore=function(){return new Mn(this._tx.objectStore.apply(this._tx,arguments))},et(xr,"_tx",["objectStoreNames","mode"]),fs(xr,"_tx",IDBTransaction,["abort"]),mo.prototype.createObjectStore=function(){return new Mn(this._db.createObjectStore.apply(this._db,arguments))},et(mo,"_db",["name","version","objectStoreNames"]),fs(mo,"_db",IDBDatabase,["deleteObjectStore","close"]),yo.prototype.transaction=function(){return new xr(this._db.transaction.apply(this._db,arguments))},et(yo,"_db",["name","version","objectStoreNames"]),fs(yo,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(F){[Mn,tn].forEach(function(se){F in se.prototype&&(se.prototype[F.replace("open","iterate")]=function(){var _e=be(arguments),we=_e[_e.length-1],ce=this._store||this._index,nn=ce[F].apply(ce,_e.slice(0,-1));nn.onsuccess=function(){we(nn.result)}})})}),[tn,Mn].forEach(function(F){F.prototype.getAll||(F.prototype.getAll=function(se,_e){var we=this,ce=[];return new Promise(function(nn){we.iterateCursor(se,function(ki){ki?(ce.push(ki.value),void 0===_e||ce.length!=_e?ki.continue():nn(ce)):nn(ce)})})})}),hs.openDb=function(F,se,_e){var we=Ri(indexedDB,"open",[F,se]),ce=we.request;return ce&&(ce.onupgradeneeded=function(nn){_e&&_e(new mo(ce.result,nn.oldVersion,ce.transaction))}),we.then(function(nn){return new yo(nn)})},hs.deleteDb=function(F){return Ri(indexedDB,"deleteDatabase",[F])},Object.defineProperty(hs,"__esModule",{value:!0})}(ed)}},Zc=>{Zc(Zc.s=423)}]);